<!doctype html>
<html lang="tl" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Variational quantum algorithms | doQumentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://tl.doqumentation.org/img/rasqberry-social-card.png"><meta data-rh="true" name="twitter:image" content="https://tl.doqumentation.org/img/rasqberry-social-card.png"><meta data-rh="true" property="og:url" content="https://tl.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms"><meta data-rh="true" property="og:locale" content="tl"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="uk"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="it"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="ar"><meta data-rh="true" property="og:locale:alternate" content="he"><meta data-rh="true" property="og:locale:alternate" content="swg"><meta data-rh="true" property="og:locale:alternate" content="bad"><meta data-rh="true" property="og:locale:alternate" content="bar"><meta data-rh="true" property="og:locale:alternate" content="ksh"><meta data-rh="true" property="og:locale:alternate" content="nds"><meta data-rh="true" property="og:locale:alternate" content="gsw"><meta data-rh="true" property="og:locale:alternate" content="sax"><meta data-rh="true" property="og:locale:alternate" content="bln"><meta data-rh="true" property="og:locale:alternate" content="aut"><meta data-rh="true" name="docusaurus_locale" content="tl"><meta data-rh="true" name="docsearch:language" content="tl"><meta data-rh="true" property="og:type" content="website"><meta data-rh="true" property="og:site_name" content="doQumentation"><meta data-rh="true" name="twitter:title" content="doQumentation"><meta data-rh="true" name="twitter:description" content="Open-source frontend for IBM Quantum tutorials, courses, and documentation with live code execution."><meta data-rh="true" name="theme-color" content="#161616"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Variational quantum algorithms | doQumentation"><meta data-rh="true" name="description" content="This tutorial provides an overview of a hybrid quantum-classical algorithm, VQE, and the QAOA"><meta data-rh="true" property="og:description" content="This tutorial provides an overview of a hybrid quantum-classical algorithm, VQE, and the QAOA"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://tl.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms"><link data-rh="true" rel="alternate" href="https://doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="en"><link data-rh="true" rel="alternate" href="https://de.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="de"><link data-rh="true" rel="alternate" href="https://es.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="es"><link data-rh="true" rel="alternate" href="https://uk.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="uk"><link data-rh="true" rel="alternate" href="https://fr.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="fr"><link data-rh="true" rel="alternate" href="https://it.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="it"><link data-rh="true" rel="alternate" href="https://pt.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="pt"><link data-rh="true" rel="alternate" href="https://ja.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="ja"><link data-rh="true" rel="alternate" href="https://tl.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="tl"><link data-rh="true" rel="alternate" href="https://ar.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="ar"><link data-rh="true" rel="alternate" href="https://he.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="he"><link data-rh="true" rel="alternate" href="https://swg.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="swg"><link data-rh="true" rel="alternate" href="https://bad.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="bad"><link data-rh="true" rel="alternate" href="https://bar.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="bar"><link data-rh="true" rel="alternate" href="https://ksh.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="ksh"><link data-rh="true" rel="alternate" href="https://nds.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="nds"><link data-rh="true" rel="alternate" href="https://gsw.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="gsw"><link data-rh="true" rel="alternate" href="https://sax.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="sax"><link data-rh="true" rel="alternate" href="https://bln.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="bln"><link data-rh="true" rel="alternate" href="https://aut.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="aut"><link data-rh="true" rel="alternate" href="https://doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Utility-scale quantum computing","item":"https://tl.doqumentation.org/learning/courses/utility-scale-quantum-computing/"},{"@type":"ListItem","position":2,"name":"Variational quantum algorithms","item":"https://tl.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms"}]}</script><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
<link rel="preconnect" href="https://cdn.jsdelivr.net">
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large">
<script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","name":"doQumentation","url":"https://doqumentation.org","logo":"https://doqumentation.org/img/logo.svg","description":"Open-source frontend for IBM Quantum tutorials, courses, and documentation with live code execution.","sameAs":["https://github.com/JanLahmann/doQumentation"]}</script>
<script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","name":"doQumentation","description":"doQumentation adds a feature-rich, user-friendly, open-source frontend to IBM Quantum tutorials, courses, and documentation.","url":"https://doqumentation.org","isPartOf":{"@type":"WebSite","name":"doQumentation","url":"https://doqumentation.org"}}</script>
<script type="application/ld+json">{"@context":"https://schema.org","@type":"SoftwareApplication","name":"doQumentation","applicationCategory":"EducationalApplication","operatingSystem":"Web, Docker, Raspberry Pi","description":"Open-source frontend for IBM Quantum documentation with live Jupyter code execution, simulator mode, and offline support.","url":"https://doqumentation.org","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"license":"https://www.apache.org/licenses/LICENSE-2.0"}</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
<script src="https://unpkg.com/thebelab@0.4.0/lib/index.js" async></script><link rel="stylesheet" href="/assets/css/styles.28eec7f1.css">
<script src="/assets/js/runtime~main.d8ec7e94.js" defer="defer"></script>
<script src="/assets/js/main.a5e97228.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Lumaktaw sa pangunahing nilalaman"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Lumaktaw sa pangunahing nilalaman</a></div><nav aria-label="Pangunahing nabigasyon" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="I-toggle ang navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="doQumentation Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="doQumentation Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">doQumentation</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/tutorials">Mga Tutorial</a><a class="navbar__item navbar__link" href="/guides">Mga Gabay</a><a class="navbar__item navbar__link" href="/learning/courses/basics-of-quantum-information">Mga Kurso</a><a class="navbar__item navbar__link" href="/learning/modules/computer-science">Mga Modyul</a><a href="https://quantum.cloud.ibm.com/docs/en/api" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Sanggunian ng API<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link navbar-locale-dropdown"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Filipino</a><ul class="dropdown__menu"><li><a href="https://doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="https://de.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="https://es.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="https://uk.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="uk">Українська (Ukrainian)</a></li><li><a href="https://fr.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="https://it.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="https://pt.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li><li><a href="https://ja.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語 (Japanese)</a></li><li><a href="/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="tl">Filipino</a></li><li><a href="https://ar.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ar">العربية (Arabic)</a></li><li><a href="https://he.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="he">עברית (Hebrew)</a></li><li><a href="https://swg.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="swg">Schwäbisch</a></li><li><a href="https://bad.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="bad">Badisch</a></li><li><a href="https://bar.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="bar">Boarisch</a></li><li><a href="https://ksh.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ksh">Kölsch</a></li><li><a href="https://nds.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="nds">Plattdüütsch</a></li><li><a href="https://gsw.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="gsw">Schwiizerdütsch</a></li><li><a href="https://sax.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="sax">Säggssch</a></li><li><a href="https://bln.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="bln">Berlinerisch</a></li><li><a href="https://aut.doqumentation.org/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="aut">Österreichisch</a></li></ul></div><a class="navbar__item navbar__link header-settings-link" aria-label="Settings" href="/jupyter-settings">Settings</a><a href="https://github.com/JanLahmann/doQumentation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository">GitHub<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="System mode" aria-label="Magpalipat-lipat sa pagitan ng madilim at maliwanag na view (kasalukuyang System mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Maghanap" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Bumalik sa itaas" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Sidebar ng dokumentasyon" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/"><span title="Home" class="linkLabel_WmDU">Home</span></a></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/tutorials"><span title="Mga Tutorial" class="categoryLinkLabel_W154">Mga Tutorial</span></a><button aria-label="I-expand ang kategorya ng sidebar na &#x27;Mga Tutorial&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/guides"><span title="Mga Gabay" class="categoryLinkLabel_W154">Mga Gabay</span></a><button aria-label="I-expand ang kategorya ng sidebar na &#x27;Mga Gabay&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/learning/courses/basics-of-quantum-information"><span title="Mga Kurso" class="categoryLinkLabel_W154">Mga Kurso</span></a></div><ul class="menu__list"><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/learning/courses/basics-of-quantum-information"><span title="Mga pangunahing kaalaman sa quantum information" class="categoryLinkLabel_W154">Mga pangunahing kaalaman sa quantum information</span></a><button aria-label="I-expand ang kategorya ng sidebar na &#x27;Mga pangunahing kaalaman sa quantum information&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/learning/courses/foundations-of-quantum-error-correction"><span title="Mga pundasyon ng quantum error correction" class="categoryLinkLabel_W154">Mga pundasyon ng quantum error correction</span></a><button aria-label="I-expand ang kategorya ng sidebar na &#x27;Mga pundasyon ng quantum error correction&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/learning/courses/fundamentals-of-quantum-algorithms"><span title="Mga pangunahing kaalaman sa mga quantum algorithm" class="categoryLinkLabel_W154">Mga pangunahing kaalaman sa mga quantum algorithm</span></a><button aria-label="I-expand ang kategorya ng sidebar na &#x27;Mga pangunahing kaalaman sa mga quantum algorithm&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/learning/courses/general-formulation-of-quantum-information"><span title="Pangkalahatang formulasyon ng quantum information" class="categoryLinkLabel_W154">Pangkalahatang formulasyon ng quantum information</span></a><button aria-label="I-expand ang kategorya ng sidebar na &#x27;Pangkalahatang formulasyon ng quantum information&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/learning/courses/integrating-quantum-and-high-performance-computing"><span title="Pagsasama ng quantum at high-performance computing" class="categoryLinkLabel_W154">Pagsasama ng quantum at high-performance computing</span></a><button aria-label="I-expand ang kategorya ng sidebar na &#x27;Pagsasama ng quantum at high-performance computing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/learning/courses/quantum-business-foundations"><span title="Mga pundasyon ng quantum sa negosyo" class="categoryLinkLabel_W154">Mga pundasyon ng quantum sa negosyo</span></a><button aria-label="I-expand ang kategorya ng sidebar na &#x27;Mga pundasyon ng quantum sa negosyo&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/learning/courses/quantum-chem-with-vqe"><span title="Quantum chemistry gamit ang VQE" class="categoryLinkLabel_W154">Quantum chemistry gamit ang VQE</span></a><button aria-label="I-expand ang kategorya ng sidebar na &#x27;Quantum chemistry gamit ang VQE&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/learning/courses/quantum-computing-in-practice"><span title="Quantum computing sa kasanayan" class="categoryLinkLabel_W154">Quantum computing sa kasanayan</span></a><button aria-label="I-expand ang kategorya ng sidebar na &#x27;Quantum computing sa kasanayan&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/learning/courses/quantum-diagonalization-algorithms"><span title="Mga quantum diagonalization algorithm" class="categoryLinkLabel_W154">Mga quantum diagonalization algorithm</span></a><button aria-label="I-expand ang kategorya ng sidebar na &#x27;Mga quantum diagonalization algorithm&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/learning/courses/quantum-machine-learning"><span title="Quantum machine learning" class="categoryLinkLabel_W154">Quantum machine learning</span></a><button aria-label="I-expand ang kategorya ng sidebar na &#x27;Quantum machine learning&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/learning/courses/quantum-safe-cryptography"><span title="Praktikal na panimula sa quantum-safe cryptography" class="categoryLinkLabel_W154">Praktikal na panimula sa quantum-safe cryptography</span></a><button aria-label="I-expand ang kategorya ng sidebar na &#x27;Praktikal na panimula sa quantum-safe cryptography&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/learning/courses/utility-scale-quantum-computing"><span title="Utility-scale quantum computing" class="categoryLinkLabel_W154">Utility-scale quantum computing</span></a><button aria-label="I-collapse ang kategorya ng sidebar na &#x27;Utility-scale quantum computing&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning/courses/utility-scale-quantum-computing/introduction"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning/courses/utility-scale-quantum-computing/bits-gates-and-circuits"><span title="Bits, gates, and circuits" class="linkLabel_WmDU">Bits, gates, and circuits</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning/courses/utility-scale-quantum-computing/teleportation"><span title="Teleportation" class="linkLabel_WmDU">Teleportation</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning/courses/utility-scale-quantum-computing/grovers-algorithm"><span title="Grover algorithm" class="linkLabel_WmDU">Grover algorithm</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning/courses/utility-scale-quantum-computing/quantum-phase-estimation"><span title="Quantum phase estimation" class="linkLabel_WmDU">Quantum phase estimation</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms"><span title="Variational quantum algorithms" class="linkLabel_WmDU">Variational quantum algorithms</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning/courses/utility-scale-quantum-computing/quantum-simulation"><span title="Quantum simulation" class="linkLabel_WmDU">Quantum simulation</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning/courses/utility-scale-quantum-computing/classical-simulation"><span title="Lesson 08 Classical simulation" class="linkLabel_WmDU">Lesson 08 Classical simulation</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning/courses/utility-scale-quantum-computing/hardware"><span title="Hardware" class="linkLabel_WmDU">Hardware</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning/courses/utility-scale-quantum-computing/quantum-circuit-optimization"><span title="Quantum circuit optimization" class="linkLabel_WmDU">Quantum circuit optimization</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning/courses/utility-scale-quantum-computing/error-mitigation"><span title="Error mitigation" class="linkLabel_WmDU">Error mitigation</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning/courses/utility-scale-quantum-computing/utility-i"><span title="Utility I" class="linkLabel_WmDU">Utility I</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning/courses/utility-scale-quantum-computing/utility-ii"><span title="Utility II" class="linkLabel_WmDU">Utility II</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/learning/courses/utility-scale-quantum-computing/utility-iii"><span title="Utility III" class="linkLabel_WmDU">Utility III</span></a></li></div></ul></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/learning/courses/variational-algorithm-design"><span title="Disenyo ng variational algorithm" class="categoryLinkLabel_W154">Disenyo ng variational algorithm</span></a><button aria-label="I-expand ang kategorya ng sidebar na &#x27;Disenyo ng variational algorithm&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></div></ul></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/learning/modules/computer-science"><span title="Mga Modyul" class="categoryLinkLabel_W154">Mga Modyul</span></a></div></li></div></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Mga Kurso</span></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/learning/courses/utility-scale-quantum-computing"><span>Utility-scale quantum computing</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Variational quantum algorithms</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sa pahinang ito</button></div><div class="theme-doc-markdown markdown">
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Hindi pa naisalin</div><div class="admonitionContent_BuS1"><p>Ang pahinang ito ay hindi pa naisalin. Nakikita mo ang orihinal na bersyon sa Ingles.</p></div></div>
<!-- -->
<header><h1>Quantum algorithms: Variational quantum algorithms</h1></header>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>tala</div><div class="admonitionContent_BuS1"><p>Takashi Imamichi (24 May 2024)</p><p><a href="https://ibm.ent.box.com/s/blnffu0pd7yzxarq3zc3w0jv90365ny2" target="_blank" rel="noopener noreferrer" class="">Download the pdf</a> of the original lecture. Note that some code snippets might become deprecated since these are static images.</p><p><em>Approximate QPU time to run this experiment is 9 minutes (tested on an Eagle processor).</em></p><p>(this notebook might not evaluate in the time allowed on the Open Plan. Please use quantum computing resources wisely.)</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-introduction">1. Introduction<a href="#1-introduction" class="hash-link" aria-label="Direktang link sa 1. Introduction" title="Direktang link sa 1. Introduction" translate="no">​</a></h2>
<p>This tutorial provides an overview of a hybrid quantum-classical algorithm, specifically focusing on the variational quantum eigensolver (VQE) and the quantum approximate optimization algorithm (QAOA). The primary objective of these algorithms is to tackle optimization problems by employing quantum circuits with parameterized quantum gates.</p>
<p>Despite the advancements in quantum computing, the presence of noise in current quantum devices makes it challenging to extract meaningful results from deep quantum circuits. To overcome this challenge, VQE and QAOA adopt a hybrid quantum-classical approach, which involves iteratively executing relatively short quantum circuits using quantum computation and optimizing the parameters of the target parametrized quantum circuits using classical computation.</p>
<p>QAOA has the potential to provide the optimal solutions to the target problems at a utility scale, thanks to the application of various error mitigation and suppression techniques. VQE has many applications (like quantum chemistry) in which it is less scalable. But there have been a number of eigenvalue-related approaches that have emerged to complement and augment VQE, including Krylov subspace diagonalization and sampling-based quantum diagonalization (SQD). Understanding VQE is an important first step in understanding the wide range of classical-quantum hybrid algorithms that have emerged.</p>
<p>This module describes the fundamental concepts and implementation of VQE and QAOA. Further tutorials will explore advanced topics and techniques for scaling up these algorithms.
You require the following library in your environment to run this notebook.
If you have not installed it yet, you can install it by un-commenting and running the following cell.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># % pip install &#x27;qiskit[visualization]&#x27; qiskit-ibm-runtime</span></span><br></span></code></pre></div></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-computing-the-minimum-eigenvalue-of-a-simple-hamiltonian">2. Computing the minimum eigenvalue of a simple Hamiltonian<a href="#2-computing-the-minimum-eigenvalue-of-a-simple-hamiltonian" class="hash-link" aria-label="Direktang link sa 2. Computing the minimum eigenvalue of a simple Hamiltonian" title="Direktang link sa 2. Computing the minimum eigenvalue of a simple Hamiltonian" translate="no">​</a></h2>
<p>We will start by applying VQE to a very simple case, to see how it works. We will compute the minimum eigenvalue of Pauli <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span></span></span></span> matrix with VQE. We will start by importing some general packages.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">circuit </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ParameterVector</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> QuantumCircuit</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">primitives </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> StatevectorEstimator</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> StatevectorSampler</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">quantum_info </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> SparsePauliOp</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> scipy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">optimize </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> minimize</span></span><br></span></code></pre></div></div></div></div>
<p>We now define the operator of interest and view it in matrix form.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">op </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SparsePauliOp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Z&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">op</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_matrix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">array([[ 1.+0.j,  0.+0.j],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       [ 0.+0.j, -1.+0.j]])</span><br></span></code></pre></div></div>
<p>It is easy to obtain the eigenvalues classically, so we can check our work. This might become difficult as we scale toward utility. Here we use numpy.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># compute eigenvalues with numpy</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">linalg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">eigh</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">op</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_matrix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Eigenvalues:&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">eigenvalues</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Eigenvalues: [-1.  1.]</span><br></span></code></pre></div></div>
<p>To obtain eigenvalues using a variational quantum algorithm, we construct a circuit with gates that take variational parameters:</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># define a variational form</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">param </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ParameterVector</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> QuantumCircuit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">u</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">param</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> param</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> param</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qc_estimator </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">copy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">measure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mpl&quot;</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="data:image/avif;base64,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" width="291" height="174" class="img_ev3q"></p>
<p>If we want to estimate the expectation value of an operator (like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span></span></span></span>), we should use Estimator. If we want to look at the states of the system, we use Sampler.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> StatevectorSampler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">estimator </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> StatevectorEstimator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p>We can compute counts of bitstrings 0 and 1 with random parameter values <code>[1, 2, 3]</code> using Sampler.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># compute counts of bitstrings with random parameter values by Sampler</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sampler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">counts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">counts</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&#x27;0&#x27;: 783, &#x27;1&#x27;: 241}</span><br></span></code></pre></div></div>
<p>We know that we can compute the expectation value of Z by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⟨</mo><mi>Z</mi><mo stretchy="false">⟩</mo><mo>=</mo><msub><mi>p</mi><mn>0</mn></msub><mo>−</mo><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\langle Z \rangle = p_0 - p_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">⟨</span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">⟩</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> with probabilities <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mn>0</mn><mo>:</mo><msub><mi>p</mi><mn>0</mn></msub><mo separator="true">,</mo><mn>1</mn><mo>:</mo><msub><mi>p</mi><mn>1</mn></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{0: p_0, 1: p_1\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">{</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># compute the expectation value of Z based on the counts</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">counts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> counts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">counts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">0.529296875</span><br></span></code></pre></div></div>
<p>This circuit worked, but the parameter values chosen did not correspond to a very low-energy (or low-eigenvalue) state. The eigenvalue obtained is quite a bit higher than the minimum. The result is similar when using estimator.</p>
<p>Note that Estimator takes quantum circuits without measurements.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> estimator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qc_estimator</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> op</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">evs</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">array(0.54030231)</span><br></span></code></pre></div></div>
<p>We will need to search through parameters and find those that yield the lowest eigenvalue.
We make a function to receive parameter values of the variational form and return the expectation value <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⟨</mo><mi>Z</mi><mo stretchy="false">⟩</mo></mrow><annotation encoding="application/x-tex">\langle Z \rangle</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">⟨</span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">⟩</span></span></span></span>.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># define a cost function to look for the minimum eigenvalue of Z</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cost</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sampler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    counts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    expval </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">counts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> counts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">counts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># the following line shows the trajectory of the optimization</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expval</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> counts</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> expval</span></span><br></span></code></pre></div></div></div></div>
<p>Let&#x27;s apply SciPy&#x27;s <code>minimize</code> function to find the minimum eigenvalue of Z.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># minimize the cost function with scipy&#x27;s minimize</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">min_result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> minimize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cost</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> method</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;COBYLA&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tol</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1e-8</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">min_result</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1.0 {&#x27;0&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0.494140625 {&#x27;0&#x27;: 765, &#x27;1&#x27;: 259}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0.466796875 {&#x27;0&#x27;: 751, &#x27;1&#x27;: 273}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0.564453125 {&#x27;0&#x27;: 801, &#x27;1&#x27;: 223}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.4296875 {&#x27;1&#x27;: 732, &#x27;0&#x27;: 292}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.984375 {&#x27;1&#x27;: 1016, &#x27;0&#x27;: 8}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.8984375 {&#x27;1&#x27;: 972, &#x27;0&#x27;: 52}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.990234375 {&#x27;1&#x27;: 1019, &#x27;0&#x27;: 5}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.892578125 {&#x27;1&#x27;: 969, &#x27;0&#x27;: 55}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.986328125 {&#x27;1&#x27;: 1017, &#x27;0&#x27;: 7}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.861328125 {&#x27;1&#x27;: 953, &#x27;0&#x27;: 71}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.982421875 {&#x27;1&#x27;: 1015, &#x27;0&#x27;: 9}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.99609375 {&#x27;1&#x27;: 1022, &#x27;0&#x27;: 2}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.986328125 {&#x27;1&#x27;: 1017, &#x27;0&#x27;: 7}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.990234375 {&#x27;1&#x27;: 1019, &#x27;0&#x27;: 5}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;1&#x27;: 1023, &#x27;0&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.99609375 {&#x27;1&#x27;: 1022, &#x27;0&#x27;: 2}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;1&#x27;: 1023, &#x27;0&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;1&#x27;: 1023, &#x27;0&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;1&#x27;: 1023, &#x27;0&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;1&#x27;: 1023, &#x27;0&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.99609375 {&#x27;1&#x27;: 1022, &#x27;0&#x27;: 2}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.99609375 {&#x27;1&#x27;: 1022, &#x27;0&#x27;: 2}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;1&#x27;: 1023, &#x27;0&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;1&#x27;: 1023, &#x27;0&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.99609375 {&#x27;1&#x27;: 1022, &#x27;0&#x27;: 2}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;1&#x27;: 1023, &#x27;0&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;1&#x27;: 1023, &#x27;0&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;1&#x27;: 1023, &#x27;0&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.99609375 {&#x27;1&#x27;: 1022, &#x27;0&#x27;: 2}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;1&#x27;: 1023, &#x27;0&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;1&#x27;: 1023, &#x27;0&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;1&#x27;: 1023, &#x27;0&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;1&#x27;: 1023, &#x27;0&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;1&#x27;: 1023, &#x27;0&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;1&#x27;: 1023, &#x27;0&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.994140625 {&#x27;1&#x27;: 1021, &#x27;0&#x27;: 3}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;1&#x27;: 1024}</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message: Optimization terminated successfully.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> success: True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  status: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     fun: -1.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       x: [ 3.182e+00  1.338e+00  1.664e-01]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    nfev: 63</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   maxcv: 0.0</span><br></span></code></pre></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># check counts of bitstrings with the optimal parameters</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sampler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> min_result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&#x27;0&#x27;: 1, &#x27;1&#x27;: 1023}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="21-exercise">2.1 Exercise<a href="#21-exercise" class="hash-link" aria-label="Direktang link sa 2.1 Exercise" title="Direktang link sa 2.1 Exercise" translate="no">​</a></h3>
<p>Compute the minimum eigenvalue of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>⊗</mo><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z \otimes Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span></span></span></span> with VQE.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">z2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SparsePauliOp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ZZ&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">z2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">z2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_matrix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SparsePauliOp([&#x27;ZZ&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              coeffs=[1.+0.j])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[[ 1.+0.j  0.+0.j  0.+0.j  0.+0.j]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [ 0.+0.j -1.+0.j  0.+0.j  0.+0.j]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [ 0.+0.j  0.+0.j -1.+0.j  0.+0.j]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [ 0.+0.j  0.+0.j  0.+0.j  1.+0.j]]</span><br></span></code></pre></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># compute eigenvalues with numpy</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># define a variational form</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># qc = ...</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># compute counts of bitstrings with a random parameter values by Sampler</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># result = sampler.run(...)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># result</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># compute the expectation value of ZZ based on the counts</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># verify the expectation value of ZZ with Estimator</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># define a cost function to look for the minimum eigenvalue of ZZ</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># def cost(x):</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#    expval = ...</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#    return expval</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># minimize the cost function with scipy&#x27;s minimize</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># min_result = minimize(cost, [...], method=&quot;COBYLA&quot;, tol=1e-8)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># min_result</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># check counts of bitstrings with the optimal parameter values</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># result = sampler.run(qc, min_result.x).result()</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># result</span></span><br></span></code></pre></div></div></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="solutions-of-the-exercise">Solutions of the exercise<a href="#solutions-of-the-exercise" class="hash-link" aria-label="Direktang link sa Solutions of the exercise" title="Direktang link sa Solutions of the exercise" translate="no">​</a></h4>
<p>We define the operator of interest and view it in matrix form.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">z2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SparsePauliOp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ZZ&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">z2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">z2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_matrix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SparsePauliOp([&#x27;ZZ&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              coeffs=[1.+0.j])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[[ 1.+0.j  0.+0.j  0.+0.j  0.+0.j]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [ 0.+0.j -1.+0.j  0.+0.j  0.+0.j]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [ 0.+0.j  0.+0.j -1.+0.j  0.+0.j]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [ 0.+0.j  0.+0.j  0.+0.j  1.+0.j]]</span><br></span></code></pre></div></div>
<p>To obtain eigenvalues using a variational quantum algorithm, we construct a circuit with gates that take variational parameters:</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># define a variational form</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">param </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ParameterVector</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> QuantumCircuit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">u</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">param</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> param</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> param</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">u</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">param</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> param</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> param</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qc_estimator </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">copy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">measure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mpl&quot;</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="data:image/avif;base64,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" width="369" height="238" class="img_ev3q"></p>
<p>If we want to estimate the expectation value of an operator (like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>⊗</mo><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z \otimes Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span></span></span></span>), we would use Estimator. If we want to look at the states of the system, we use Sampler.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> StatevectorSampler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">estimator </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> StatevectorEstimator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># compute counts of bitstrings with random parameter values by Sampler</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sampler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">counts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">counts</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&#x27;10&#x27;: 661, &#x27;11&#x27;: 203, &#x27;01&#x27;: 47, &#x27;00&#x27;: 113}</span><br></span></code></pre></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># compute the expectation value of ZZ based on the counts</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    counts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;00&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> counts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;01&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> counts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;10&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> counts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;11&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">counts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-0.3828125</span><br></span></code></pre></div></div>
<p>This circuit worked, but the parameter values chosen did not correspond to a very low-energy (or low-eigenvalue) state. The eigenvalue obtained is quite a bit higher than the minimum. The result is similar when using estimator.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># verify the expectation value of ZZ with Estimator</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> estimator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qc_estimator</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> z2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">evs</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">array(-0.35316516)</span><br></span></code></pre></div></div>
<p>We will need to search through parameters and find those that yield the lowest eigenvalue.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># define a cost function to look for the minimum eigenvalue of ZZ</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cost</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sampler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    counts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    expval </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        counts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;00&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> counts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;01&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> counts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;10&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> counts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;11&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">counts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">expval</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> counts</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> expval</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># minimize the cost function with scipy&#x27;s minimize</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">min_result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> minimize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cost</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> method</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;COBYLA&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tol</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1e-8</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">min_result</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1.0 {&#x27;00&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0.578125 {&#x27;00&#x27;: 808, &#x27;01&#x27;: 216}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0.5234375 {&#x27;00&#x27;: 780, &#x27;01&#x27;: 244}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0.548828125 {&#x27;00&#x27;: 793, &#x27;01&#x27;: 231}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0.3515625 {&#x27;00&#x27;: 637, &#x27;10&#x27;: 164, &#x27;11&#x27;: 55, &#x27;01&#x27;: 168}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0.3359375 {&#x27;00&#x27;: 638, &#x27;11&#x27;: 46, &#x27;10&#x27;: 174, &#x27;01&#x27;: 166}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0.283203125 {&#x27;00&#x27;: 602, &#x27;10&#x27;: 181, &#x27;01&#x27;: 186, &#x27;11&#x27;: 55}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.087890625 {&#x27;01&#x27;: 414, &#x27;00&#x27;: 184, &#x27;10&#x27;: 143, &#x27;11&#x27;: 283}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0.236328125 {&#x27;10&#x27;: 27, &#x27;11&#x27;: 623, &#x27;01&#x27;: 364, &#x27;00&#x27;: 10}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.0625 {&#x27;11&#x27;: 261, &#x27;01&#x27;: 403, &#x27;00&#x27;: 219, &#x27;10&#x27;: 141}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0.248046875 {&#x27;01&#x27;: 366, &#x27;11&#x27;: 628, &#x27;00&#x27;: 11, &#x27;10&#x27;: 19}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.0625 {&#x27;10&#x27;: 145, &#x27;11&#x27;: 254, &#x27;01&#x27;: 399, &#x27;00&#x27;: 226}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0.228515625 {&#x27;01&#x27;: 373, &#x27;11&#x27;: 609, &#x27;00&#x27;: 20, &#x27;10&#x27;: 22}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0.0546875 {&#x27;11&#x27;: 376, &#x27;10&#x27;: 273, &#x27;01&#x27;: 211, &#x27;00&#x27;: 164}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.447265625 {&#x27;01&#x27;: 731, &#x27;10&#x27;: 10, &#x27;11&#x27;: 267, &#x27;00&#x27;: 16}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.71484375 {&#x27;01&#x27;: 871, &#x27;11&#x27;: 99, &#x27;00&#x27;: 47, &#x27;10&#x27;: 7}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.46484375 {&#x27;01&#x27;: 741, &#x27;00&#x27;: 253, &#x27;10&#x27;: 9, &#x27;11&#x27;: 21}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.87890625 {&#x27;01&#x27;: 962, &#x27;00&#x27;: 39, &#x27;11&#x27;: 23}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.640625 {&#x27;00&#x27;: 176, &#x27;01&#x27;: 837, &#x27;11&#x27;: 8, &#x27;10&#x27;: 3}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.88671875 {&#x27;01&#x27;: 966, &#x27;00&#x27;: 41, &#x27;11&#x27;: 17}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.994140625 {&#x27;01&#x27;: 1021, &#x27;11&#x27;: 3}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.91796875 {&#x27;01&#x27;: 982, &#x27;11&#x27;: 35, &#x27;00&#x27;: 7}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.994140625 {&#x27;01&#x27;: 1021, &#x27;11&#x27;: 2, &#x27;00&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.939453125 {&#x27;01&#x27;: 993, &#x27;00&#x27;: 31}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.990234375 {&#x27;01&#x27;: 1019, &#x27;11&#x27;: 5}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.90234375 {&#x27;01&#x27;: 974, &#x27;00&#x27;: 21, &#x27;11&#x27;: 29}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.98046875 {&#x27;01&#x27;: 1014, &#x27;11&#x27;: 10}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.994140625 {&#x27;01&#x27;: 1021, &#x27;00&#x27;: 3}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.990234375 {&#x27;01&#x27;: 1019, &#x27;11&#x27;: 4, &#x27;00&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.98828125 {&#x27;01&#x27;: 1018, &#x27;11&#x27;: 6}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.990234375 {&#x27;01&#x27;: 1019, &#x27;11&#x27;: 4, &#x27;00&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.994140625 {&#x27;01&#x27;: 1021, &#x27;11&#x27;: 2, &#x27;00&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.99609375 {&#x27;01&#x27;: 1022, &#x27;11&#x27;: 2}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;00&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.99609375 {&#x27;01&#x27;: 1022, &#x27;00&#x27;: 2}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;00&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;00&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;00&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;00&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;00&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.99609375 {&#x27;01&#x27;: 1022, &#x27;00&#x27;: 1, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;00&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.99609375 {&#x27;01&#x27;: 1022, &#x27;11&#x27;: 1, &#x27;00&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;00&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.994140625 {&#x27;01&#x27;: 1021, &#x27;00&#x27;: 3}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;00&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.99609375 {&#x27;01&#x27;: 1022, &#x27;11&#x27;: 2}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;00&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.99609375 {&#x27;01&#x27;: 1022, &#x27;11&#x27;: 2}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-1.0 {&#x27;01&#x27;: 1024}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-0.998046875 {&#x27;01&#x27;: 1023, &#x27;11&#x27;: 1}</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message: Optimization terminated successfully.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> success: True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  status: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     fun: -0.998046875</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       x: [ 3.167e+00  6.940e-01  1.033e+00 -2.894e-02  8.933e-01</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            1.885e+00]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    nfev: 128</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   maxcv: 0.0</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message: Optimization terminated successfully.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> success: True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  status: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     fun: -0.99609375</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       x: [ 3.098e+00 -5.402e-01  1.091e+00 -1.004e-02  3.615e-01</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            6.913e-01]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    nfev: 115</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   maxcv: 0.0</span><br></span></code></pre></div></div>
<p>We obtained an eigenvalue extremely close to the minimum given to us from numpy.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># check counts of bitstrings with the optimal parameters</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sampler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> min_result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&#x27;01&#x27;: 1024}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-quantum-optimization-with-qiskit-patterns">3. Quantum Optimization with Qiskit patterns<a href="#3-quantum-optimization-with-qiskit-patterns" class="hash-link" aria-label="Direktang link sa 3. Quantum Optimization with Qiskit patterns" title="Direktang link sa 3. Quantum Optimization with Qiskit patterns" translate="no">​</a></h2>
<p>In this how-to we will learn about Qiskit patterns and quantum approximate optimization. A Qiskit pattern is an intuitive, repeatable set of steps for implementing a quantum computing workflow:
<img decoding="async" loading="lazy" alt="&amp;quot;Qiskit function&amp;quot;" src="/assets/images/qiskit-function-dcd31f62e7ca6d2cebe4222adaad857c.avif" width="1146" height="643" class="img_ev3q">
We will apply the patterns to the context of <strong>combinatorial optimization</strong> and show how to solve the <strong>Max-Cut</strong> problem using the <strong>Quantum Approximate Optimization Algorithm (QAOA)</strong>, a hybrid (quantum-classical) iterative method.</p>
<p>Note that this QAOA part is based on &quot;Part 1: Small-scale QAOA&quot; of the <a class="" href="/tutorials/quantum-approximate-optimization-algorithm">Quantum approximate optimization algorithm</a> tutorial. See the tutorial to learn how to scale it up.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="31-small-scale-qiskit-pattern-for-optimization">3.1 (Small-scale) Qiskit pattern for optimization<a href="#31-small-scale-qiskit-pattern-for-optimization" class="hash-link" aria-label="Direktang link sa 3.1 (Small-scale) Qiskit pattern for optimization" title="Direktang link sa 3.1 (Small-scale) Qiskit pattern for optimization" translate="no">​</a></h3>
<p>This part will use a small-scale Max-Cut problem to illustrate the steps required to solve an optimization problem using a quantum computer.
The Max-Cut problem is an optimization problem that is hard to solve (more specifically, it is an NP-hard problem) with a number of different applications in clustering, network science, and statistical physics. This tutorial considers a graph of nodes connected by edges and aims to partition the nodes into two sets by &quot;cutting&quot; edges, such that the number of edges cut is maximized.
<img decoding="async" loading="lazy" alt="&amp;quot;Maxcut&amp;quot;" src="/assets/images/maxcut-497f0489f8e8ed5edba2e0555b7abaaf.avif" width="6778" height="2502" class="img_ev3q">
To give some context before mapping this problem to a quantum algorithm, you can better understand how the Max-Cut problem becomes a classical combinatorial optimization problem by first considering the minimization of a function <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><munder><mrow><mi>min</mi><mo>⁡</mo></mrow><mrow><mi>x</mi><mo>∈</mo><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><msup><mo stretchy="false">}</mo><mi>n</mi></msup></mrow></munder><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">\min_{x\in \{0, 1\}^n}f(x),</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.716em;vertical-align:-0.966em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em"><span style="top:-2.309em;margin-left:0em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∈</span><span class="mopen mtight">{</span><span class="mord mtight">0</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span><span class="mclose mtight"><span class="mclose mtight">}</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935em"><span style="top:-2.786em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.966em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span></span></span></span></span>
<p>where the input <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span> is a vector whose components correspond to each node of a graph.  Then, constrain each of these components to be either <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0</span></span></span></span> or <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span> (which represent being included or not included in the cut). This small-scale example case uses a graph with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">n=5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">5</span></span></span></span> nodes.</p>
<p>You could write a function of a pair of nodes <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow><annotation encoding="application/x-tex">i,j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em"></span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.05724em">j</span></span></span></span> which indicates whether the corresponding edge <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i,j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.05724em">j</span><span class="mclose">)</span></span></span></span> is in the cut. For example, the function <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>+</mo><msub><mi>x</mi><mi>j</mi></msub><mo>−</mo><mn>2</mn><msub><mi>x</mi><mi>i</mi></msub><msub><mi>x</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">x_i + x_j - 2 x_i x_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.9305em;vertical-align:-0.2861em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span> is 1 only if one of either <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> or <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">x_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span> are 1 (which means that the edge is in the cut) and zero otherwise. The problem of maximizing the edges in the cut can be formulated as</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mi>x</mi><mo>∈</mo><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><msup><mo stretchy="false">}</mo><mi>n</mi></msup></mrow></munder><munder><mo>∑</mo><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></munder><msub><mi>x</mi><mi>i</mi></msub><mo>+</mo><msub><mi>x</mi><mi>j</mi></msub><mo>−</mo><mn>2</mn><msub><mi>x</mi><mi>i</mi></msub><msub><mi>x</mi><mi>j</mi></msub><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">\max_{x\in \{0, 1\}^n} \sum_{(i,j)} x_i + x_j - 2 x_i x_j,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.566em;vertical-align:-1.516em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em"><span style="top:-2.309em;margin-left:0em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∈</span><span class="mopen mtight">{</span><span class="mord mtight">0</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span><span class="mclose mtight"><span class="mclose mtight">}</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935em"><span style="top:-2.786em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.966em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em"><span style="top:-1.809em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.516em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.9305em;vertical-align:-0.2861em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span></span>
<p>which can be rewritten as a minimization of the form</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><munder><mrow><mi>min</mi><mo>⁡</mo></mrow><mrow><mi>x</mi><mo>∈</mo><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><msup><mo stretchy="false">}</mo><mi>n</mi></msup></mrow></munder><munder><mo>∑</mo><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></munder><mn>2</mn><msub><mi>x</mi><mi>i</mi></msub><msub><mi>x</mi><mi>j</mi></msub><mo>−</mo><msub><mi>x</mi><mi>i</mi></msub><mo>−</mo><msub><mi>x</mi><mi>j</mi></msub><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\min_{x\in \{0, 1\}^n} \sum_{(i,j)}  2 x_i x_j - x_i - x_j.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.566em;vertical-align:-1.516em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em"><span style="top:-2.309em;margin-left:0em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∈</span><span class="mopen mtight">{</span><span class="mord mtight">0</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span><span class="mclose mtight"><span class="mclose mtight">}</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935em"><span style="top:-2.786em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.966em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em"><span style="top:-1.809em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.516em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mord">.</span></span></span></span></span>
<p>The minimum of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> in this case is when the number of edges traversed by the cut is maximal. As you can see, there is nothing relating to quantum computing yet. You need to reformulate this problem into something that a quantum computer can understand.
Initialize your problem by creating a graph with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">n=5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">5</span></span></span></span> nodes.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> matplotlib</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> matplotlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pyplot </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> plt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> rustworkx </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> rx</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rustworkx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">visualization </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> mpl_draw</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">graph </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> rx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PyGraph</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_nodes_from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">edge_list </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_edges_from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">edge_list</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pos </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> rx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spring_layout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> seed</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mpl_draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> node_size</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">600</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pos</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">pos</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> with_labels</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> labels</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="data:image/avif;base64,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" width="660" height="499" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="32-step-1-map-classical-inputs-to-a-quantum-problem">3.2 Step 1. Map classical inputs to a quantum problem<a href="#32-step-1-map-classical-inputs-to-a-quantum-problem" class="hash-link" aria-label="Direktang link sa 3.2 Step 1. Map classical inputs to a quantum problem" title="Direktang link sa 3.2 Step 1. Map classical inputs to a quantum problem" translate="no">​</a></h3>
<p>The first step of the pattern is to map the classical problem (graph) into quantum <strong>circuits</strong> and <strong>operators</strong>. To do this, there are three main steps to take:</p>
<ol>
<li class="">Utilize a series of mathematical reformulations, to represent this problem using the Quadratic Unconstrained Binary Optimization (QUBO) problems notation.</li>
<li class="">Rewrite the optimization problem as a Hamiltonian for which the ground state corresponds to the solution which minimizes the cost function.</li>
<li class="">Create a quantum circuit which will prepare the ground state of this Hamiltonian via a process similar to quantum annealing.</li>
</ol>
<p><strong>Note:</strong> In the QAOA methodology, you ultimately want to have an operator (<strong>Hamiltonian</strong>) that represents the <strong>cost function</strong> of our hybrid algorithm, as well as a parametrized circuit (<strong>Ansatz</strong>) that represents quantum states with candidate solutions to the problem. You can sample from these candidate states and then evaluate them using the cost function.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="graph--optimization-problem">Graph → optimization problem<a href="#graph--optimization-problem" class="hash-link" aria-label="Direktang link sa Graph → optimization problem" title="Direktang link sa Graph → optimization problem" translate="no">​</a></h4>
<p>The first step of the mapping is a notation change, The following expresses the problem in QUBO notation:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><munder><mrow><mi>min</mi><mo>⁡</mo></mrow><mrow><mi>x</mi><mo>∈</mo><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><msup><mo stretchy="false">}</mo><mi>n</mi></msup></mrow></munder><msup><mi>x</mi><mi>T</mi></msup><mi>Q</mi><mi>x</mi><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">\min_{x\in \{0, 1\}^n}x^T Q x,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.8573em;vertical-align:-0.966em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em"><span style="top:-2.309em;margin-left:0em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∈</span><span class="mopen mtight">{</span><span class="mord mtight">0</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span><span class="mclose mtight"><span class="mclose mtight">}</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935em"><span style="top:-2.786em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.966em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">Q</span><span class="mord mathnormal">x</span><span class="mpunct">,</span></span></span></span></span>
<p>where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord mathnormal">Q</span></span></span></span> is a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>×</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n\times n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">n</span></span></span></span> matrix of real numbers, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">n</span></span></span></span> corresponds to the number of nodes in your graph, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span> is the vector of binary variables introduced above, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">x^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em">T</span></span></span></span></span></span></span></span></span></span></span> indicates the transpose of the vector <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span>.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Problem name: maxcut</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Minimize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  2*x_1*x_2 + 2*x_1*x_3 + 2*x_2*x_3 + 2*x_2*x_4 + 2*x_3*x_5 + 2*x_4*x_5 - 2*x_1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - 3*x_2 - 3*x_3 - 2*x_4 - 2*x_5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Subject to</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  No constraints</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Binary variables (5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x_1 x_2 x_3 x_4 x_5</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="optimization-problem--hamiltonian">Optimization problem → Hamiltonian<a href="#optimization-problem--hamiltonian" class="hash-link" aria-label="Direktang link sa Optimization problem → Hamiltonian" title="Direktang link sa Optimization problem → Hamiltonian" translate="no">​</a></h4>
<p>You can then reformulate the QUBO problem as a <strong>Hamiltonian</strong> (here, a matrix that represents the energy of a system):</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>H</mi><mi>C</mi></msub><mo>=</mo><munder><mo>∑</mo><mrow><mi>i</mi><mi>j</mi></mrow></munder><msub><mi>Q</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><msub><mi>Z</mi><mi>i</mi></msub><msub><mi>Z</mi><mi>j</mi></msub><mo>+</mo><munder><mo>∑</mo><mi>i</mi></munder><msub><mi>b</mi><mi>i</mi></msub><msub><mi>Z</mi><mi>i</mi></msub><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">H_C=\sum_{ij}Q_{ij}Z_iZ_j + \sum_i b_iZ_i.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4638em;vertical-align:-1.4138em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em"><span style="top:-1.8723em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">ij</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">ij</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:2.3277em;vertical-align:-1.2777em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em"><span style="top:-1.8723em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord">.</span></span></span></span></span>
<p><strong>Reformulation steps from the QAOA problem to the Hamiltonian</strong></p>
<p>To demonstrate how the QAOA problem can be rewritten in this way, first replace the binary variables <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> to a new set of variables <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mi>i</mi></msub><mo>∈</mo><mo stretchy="false">{</mo><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">z_i\in\{-1, 1\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6891em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">  ​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">{</span><span class="mord">−</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span> via</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>=</mo><mfrac><mrow><mn>1</mn><mo>−</mo><msub><mi>z</mi><mi>i</mi></msub></mrow><mn>2</mn></mfrac><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">x_i = \frac{1-z_i}{2}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">.</span></span></span></span></span>
<p>Here you can see that if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0</span></span></span></span>, then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">z_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> must be <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span>. When the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>&#x27;s are substituted for the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">z_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>&#x27;s in the optimization problem (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mi>T</mi></msup><mi>Q</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">x^TQx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0358em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">Q</span><span class="mord mathnormal">x</span></span></span></span>), an equivalent formulation can be obtained.</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>x</mi><mi>T</mi></msup><mi>Q</mi><mi>x</mi><mo>=</mo><munder><mo>∑</mo><mrow><mi>i</mi><mi>j</mi></mrow></munder><msub><mi>Q</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><msub><mi>x</mi><mi>i</mi></msub><msub><mi>x</mi><mi>j</mi></msub><mspace linebreak="newline"></mspace><mo>=</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><munder><mo>∑</mo><mrow><mi>i</mi><mi>j</mi></mrow></munder><msub><mi>Q</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>z</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>z</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><munder><mo>∑</mo><mrow><mi>i</mi><mi>j</mi></mrow></munder><msub><mi>Q</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><msub><mi>z</mi><mi>i</mi></msub><msub><mi>z</mi><mi>j</mi></msub><mo>−</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><munder><mo>∑</mo><mrow><mi>i</mi><mi>j</mi></mrow></munder><mo stretchy="false">(</mo><msub><mi>Q</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>Q</mi><mrow><mi>j</mi><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><msub><mi>z</mi><mi>i</mi></msub><mo>+</mo><mfrac><msup><mi>n</mi><mn>2</mn></msup><mn>4</mn></mfrac><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">x^TQx=\sum_{ij}Q_{ij}x_ix_j \\ =\frac{1}{4}\sum_{ij}Q_{ij}(1-z_i)(1-z_j) \\=\frac{1}{4}\sum_{ij}Q_{ij}z_iz_j-\frac{1}{4}\sum_{ij}(Q_{ij}+Q_{ji})z_i + \frac{n^2}{4}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0858em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">Q</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4638em;vertical-align:-1.4138em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em"><span style="top:-1.8723em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">ij</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">ij</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.7352em;vertical-align:-1.4138em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em"><span style="top:-1.8723em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">ij</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">ij</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.7352em;vertical-align:-1.4138em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em"><span style="top:-1.8723em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">ij</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">ij</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:2.7352em;vertical-align:-1.4138em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em"><span style="top:-1.8723em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">ij</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">ij</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ji</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:2.1771em;vertical-align:-0.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">.</span></span></span></span></span>
<p>Now if we define <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mi>i</mi></msub><mo>=</mo><mo>−</mo><msub><mo>∑</mo><mi>j</mi></msub><mo stretchy="false">(</mo><msub><mi>Q</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>Q</mi><mrow><mi>j</mi><mi>i</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">b_i=-\sum_{j}(Q_{ij}+Q_{ji})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.1858em;vertical-align:-0.4358em"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.162em"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">ij</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ji</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, remove the prefactor, and the constant <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>n</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">n^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> term, we arrive at the two equivalent formulations of the same optimization problem.</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>m</mi><mi>i</mi><msub><mi>n</mi><mrow><mi>x</mi><mo>∈</mo><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><msup><mo stretchy="false">}</mo><mi>n</mi></msup></mrow></msub><msup><mi>x</mi><mi>T</mi></msup><mi>Q</mi><mi>x</mi><mo>⟺</mo><munder><mrow><mi>min</mi><mo>⁡</mo></mrow><mrow><mi>z</mi><mo>∈</mo><mo stretchy="false">{</mo><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><msup><mo stretchy="false">}</mo><mi>n</mi></msup></mrow></munder><msup><mi>z</mi><mi>T</mi></msup><mi>Q</mi><mi>z</mi><mo>+</mo><msup><mi>b</mi><mi>T</mi></msup><mi>z</mi></mrow><annotation encoding="application/x-tex">min_{x\in\{0,1\}^n} x^TQx\Longleftrightarrow \min_{z\in\{-1,1\}^n}z^TQz + b^Tz</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2465em;vertical-align:-0.3552em"></span><span class="mord mathnormal">mi</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∈</span><span class="mopen mtight">{</span><span class="mord mtight">0</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span><span class="mclose mtight"><span class="mclose mtight">}</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935em"><span style="top:-2.786em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">Q</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">⟺</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.8573em;vertical-align:-0.966em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em"><span style="top:-2.309em;margin-left:0em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em">z</span><span class="mrel mtight">∈</span><span class="mopen mtight">{</span><span class="mord mtight">−</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span><span class="mclose mtight"><span class="mclose mtight">}</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5935em"><span style="top:-2.786em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.966em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">Q</span><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8913em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em">T</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.04398em">z</span></span></span></span></span>
<p>Here, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">b</span></span></span></span> depends on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord mathnormal">Q</span></span></span></span>. Note that to obtain <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>z</mi><mi>T</mi></msup><mi>Q</mi><mi>z</mi><mo>+</mo><msup><mi>b</mi><mi>T</mi></msup><mi>z</mi></mrow><annotation encoding="application/x-tex">z^TQz + b^Tz</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0358em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">Q</span><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8413em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em">T</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.04398em">z</span></span></span></span> we dropped the factor of 1/4 and a constant offset of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>n</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">n^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> which do not play a role in the optimization.</p>
<p>Now, to obtain a quantum formulation of the problem, promote the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">z_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> variables to a Pauli <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span></span></span></span> matrix, such as a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>×</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">2\times 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">2</span></span></span></span> matrix of the form</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>Z</mi><mi>i</mi></msub><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>1</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">Z_i = \begin{pmatrix}1 &amp; 0 \\ 0 &amp; -1\end{pmatrix}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em"><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em"><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">.</span></span></span></span></span>
<p>When you substitute these matrices in the optimization problem above, you obtain the following Hamiltonian</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>H</mi><mi>C</mi></msub><mo>=</mo><munder><mo>∑</mo><mrow><mi>i</mi><mi>j</mi></mrow></munder><msub><mi>Q</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><msub><mi>Z</mi><mi>i</mi></msub><msub><mi>Z</mi><mi>j</mi></msub><mo>+</mo><munder><mo>∑</mo><mi>i</mi></munder><msub><mi>b</mi><mi>i</mi></msub><msub><mi>Z</mi><mi>i</mi></msub><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">H_C=\sum_{ij}Q_{ij}Z_iZ_j + \sum_i b_iZ_i.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4638em;vertical-align:-1.4138em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em"><span style="top:-1.8723em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">ij</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">ij</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:2.3277em;vertical-align:-1.2777em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em"><span style="top:-1.8723em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord">.</span></span></span></span></span>
<p><em>Also recall that the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span></span></span></span> matrices are embedded in the quantum computer&#x27;s computational space, that is, a Hilbert space of size <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup><mo>×</mo><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^n\times 2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7477em;vertical-align:-0.0833em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6644em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span>. Therefore, you should understand terms such as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Z</mi><mi>i</mi></msub><msub><mi>Z</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">Z_iZ_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span> as the tensor product <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Z</mi><mi>i</mi></msub><mo>⊗</mo><msub><mi>Z</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">Z_i\otimes Z_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span> embedded in the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup><mo>×</mo><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^n\times 2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7477em;vertical-align:-0.0833em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6644em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span> Hilbert space. For example, in a problem with five decision variables the term <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Z</mi><mn>1</mn></msub><msub><mi>Z</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">Z_1Z_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> is understood to mean <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mo>⊗</mo><msub><mi>Z</mi><mn>3</mn></msub><mo>⊗</mo><mi>I</mi><mo>⊗</mo><msub><mi>Z</mi><mn>1</mn></msub><mo>⊗</mo><mi>I</mi></mrow><annotation encoding="application/x-tex">I\otimes Z_3\otimes I\otimes Z_1\otimes I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">I</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">I</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">I</span></span></span></span> where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">I</span></span></span></span> is the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>×</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">2\times 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">2</span></span></span></span> identity matrix.</em></p>
<p>This Hamiltonian is called the <b>cost function Hamiltonian</b>. It has the property that its ground state corresponds to the solution that <b>minimizes the cost function <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></b>.
Therefore, to solve your optimization problem you now need to prepare the ground state of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>C</mi></msub></mrow><annotation encoding="application/x-tex">H_C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> (or a state with a high overlap with it) on the quantum computer. Then, sampling from this state will, with a high probability, yield the solution to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>min</mi><mo>⁡</mo><mtext> </mtext><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\min~f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">min</span><span class="mspace nobreak"> </span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">build_max_cut_operator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PyGraph</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">tuple</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">SparsePauliOp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    sp_list </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    constant </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> t </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> graph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">edge_list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        w </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> graph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_edge_data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        sp_list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ZZ&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> t</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> w </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        constant </span><span class="token operator" style="color:#393A34">-=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> SparsePauliOp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_sparse_list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        sp_list</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> num_qubits</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">num_nodes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> constant</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cost_hamiltonian</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> constant </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> build_max_cut_operator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Cost Function Hamiltonian:&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cost_hamiltonian</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Constant:&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> constant</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Cost Function Hamiltonian: SparsePauliOp([&#x27;IIIZZ&#x27;, &#x27;IIZIZ&#x27;, &#x27;IIZZI&#x27;, &#x27;IZIZI&#x27;, &#x27;ZIZII&#x27;, &#x27;ZZIII&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              coeffs=[0.5+0.j, 0.5+0.j, 0.5+0.j, 0.5+0.j, 0.5+0.j, 0.5+0.j])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Constant: -3.0</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="hamiltonian--quantum-circuit">Hamiltonian → quantum circuit<a href="#hamiltonian--quantum-circuit" class="hash-link" aria-label="Direktang link sa Hamiltonian → quantum circuit" title="Direktang link sa Hamiltonian → quantum circuit" translate="no">​</a></h4>
<p>The Hamiltonian <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>C</mi></msub></mrow><annotation encoding="application/x-tex">H_C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> contains the quantum definition of your problem. Now you can create a quantum circuit that will help <em>sample</em> good solutions from the quantum computer. The QAOA is inspired by quantum annealing and applies alternating layers of operators in the quantum circuit.</p>
<p>The general idea is to start in the ground state of a known system, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>H</mi><mrow><mo>⊗</mo><mi>n</mi></mrow></msup><mi mathvariant="normal">∣</mi><mn>0</mn><mo stretchy="false">⟩</mo></mrow><annotation encoding="application/x-tex">H^{\otimes n}|0\rangle</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0213em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">⊗</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mord">∣0</span><span class="mclose">⟩</span></span></span></span> above, and then steer the system into the ground state of the cost operator that you are interested in. This is done by applying the operators <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>exp</mi><mo>⁡</mo><mo stretchy="false">{</mo><mo>−</mo><mi>i</mi><msub><mi>γ</mi><mi>k</mi></msub><msub><mi>H</mi><mi>C</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\exp\{-i\gamma_k H_C\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">exp</span><span class="mopen">{</span><span class="mord">−</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em">γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>exp</mi><mo>⁡</mo><mo stretchy="false">{</mo><mo>−</mo><mi>i</mi><msub><mi>β</mi><mi>k</mi></msub><msub><mi>H</mi><mi>m</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\exp\{-i\beta_k H_m\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">exp</span><span class="mopen">{</span><span class="mord">−</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span> with angles <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>γ</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>γ</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">\gamma_1,...,\gamma_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em">γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em">γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>β</mi><mi>p</mi></msub><mtext> </mtext></mrow><annotation encoding="application/x-tex">\beta_1,...,\beta_p~</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace nobreak"> </span></span></span></span>.</p>
<p>The quantum circuit that you generate is <strong>parametrized</strong> by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>γ</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\gamma_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em">γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\beta_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>, so you can try out different values of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>γ</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\gamma_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em">γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\beta_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> and sample from the resulting state.
<img decoding="async" loading="lazy" alt="&amp;quot;QAOA circuit diagram&amp;quot;" src="/assets/images/circuit-diagram-170177427e098b8914c51280713895dd.svg" width="3724" height="875" class="img_ev3q">
In this case we will try an example with 1 QAOA layer that contains two parameters: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>γ</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\gamma_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em">γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\beta_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">circuit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">library </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> QAOAAnsatz</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">circuit </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> QAOAAnsatz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cost_operator</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">cost_hamiltonian</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reps</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">circuit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">measure_all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">circuit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mpl&quot;</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="data:image/avif;base64,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" width="660" height="432" class="img_ev3q"></p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">circuit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">decompose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reps</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mpl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fold</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="data:image/avif;base64,AAAAHGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZgAAAXBtZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAANGlsb2MAAAAAREAAAgABAAAAAAGUAAEAAAAAAAAdlAACAAAAAB8oAAEAAAAAAAAATAAAADhpaW5mAAAAAAACAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAAFWluZmUCAAAAAAIAAGF2MDEAAAAAr2lwcnAAAACKaXBjbwAAAAxhdjFDgQUMAAAAABRpc3BlAAAAAAAAB9wAAAGwAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQUcAAAAAA5waXhpAAAAAAEIAAAAOGF1eEMAAAAAdXJuOm1wZWc6bXBlZ0I6Y2ljcDpzeXN0ZW1zOmF1eGlsaWFyeTphbHBoYQAAAAAdaXBtYQAAAAAAAAACAAEDgQIDAAIEhAIFhgAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAd6G1kYXQSAAoKGWo+3r2CAhoNCDKDO0yAArR9LZsadZLqiseeU9+c8kosIdqvvbb+TA44sZMNhEhQ2jCMoQHRsxJjLSfnH5GI7cHRuwgX8C6mjZfX/4R1DdA1rSl+k51sovM2URNkA0o8W2PhweT3mwYMaOOMXQTEg1vGoFG+0ay5fK7MFjuWRPg01T5UY7LoRpv6WpemdYdnH0rbBpc87DVrNVCZGzjV9jPiMn2puUN+6Jezr//S7KfIsmSBn0sL0ToJrmL7B+cryGd8EM2gZFdWevZFQ++CM7cQAzCtZH6IjWyFyHZPg1Clt3EW2Zg3fda18M8lWXeuhat0XAakDGysdeZ5RrI+DG6E/tqvfyfiMjLe1xfraRR5P/DnhJa3ch2IL295fiX6OWTx7NmBSSo0u9UwEyQ93ZJWYVOwJf9dKTVMBaajx7HP00+DLh85mK3ugQpNLJAe3M8x2QcQDNfsPSnS6JeqqYcI+A4O240mUyo7YCqE4VAqJDGs+1Z+UVfzCbNDenbFAFr2xWgMcK4WNbaqmJLi25T6w0BfQ/ocFIepoXFLrjOc8IcTCLmV/99lLvlUEzvWt9CITMsFlSnEhubt2Kg3Xp//LU4kCTcldYi2iun2wN/lPotn+O/Qfn573GSefNyxUYU/HEeRG4WfQmeLMUcb6j/CfmTdzaw+ScHzNmSQgJ/nEbiU5ekVI+tbHrdGI1nA14B9l9k8fvWC4a1JKWeZj/f2+VyHvHs1aSfrfBVNhZiHlE9+0WHVmk5q8jVxFKklNPa19eJY1EElOZb8F7fDc6F+vV6O/0f9RQe0gMwtFy15AJ5Q5RPzqOAapvOgLR/nAhaWPI0hZTPPb6Q2re/wyNpGWbonPZ77Ik0E1bmY8eMsVF28XGJME6/XYEpfd8AvyKcL6mgM8J1C4XKVR4Karh5jhFneP9CjkV1CJ0TTVe7zT2hJyy56miVCfECKh24DukG0q3j+b7UNxhB87C5rous7zG2Cim1kVjU57luz7FzwQmCj53uDUxvXo5L4wjeOUau/2bUmo7e1oTsGakQNsOj42+PVlGhPHM6/PYrndXLPtN1c5nISySsKpKe0SAbTi4fN4ZUJJSfi7vfeVNFB+D9XmVUyP3jatwybupI4gGu3VpY3jZSUh6HzdRaGyACeYXGZuZyNCYDiWhTHIQGQpo5ym+0ZiKWyKH0tvFur/PMK/174TGHQCSAVUzS51aasaOarZF7wcvt7fUOOWsKm4Gx/32n9Rlmjjk6E8m+q+VAWvI6addSKyoQ+HICp1iXHf3eKLIOschNrckOLLz2rySGzoslreRI28mo5WJVaw/u0cHe6BHkotG926PSEJskzb+ACrY1Ovx0+BPu3oNKqqF2SXtJLFuvZAp1kWEDici2n/FuCjLMRkb2b1H3gHxcyTiYzxt7HCM+IlB2fjkD1m5xszVQ6vAiXxjUf5p0Sjh/YU3z5JvAHj4CYpexOAwNmd2576/tmuIs3TOG0QS/vznLO/c6wMlFSMduCiQ2wVWhfMlbuo0bHAip9AoqFW1S3/dKXpi0+Dx2qg+fUTuYAYvTdDMBE6X2EmF6YH4/KJ5fMWmZIrIio8gmh6vr47ULqh9FIh+LMXkhfwy8Q7oTwacUjXg3FaWhKk5HKEX5ZMsRVMSa0P2g/H0t/uGpp49rYENVl9S1a9+7e4V8UnUPwYccB4raHTBPSvHotPXxZC2WdwI/BWCg9e0Vg9wNOJGvXoPQFvJB08BQMRzjziaD6J4QIipwhEhAtofzslw/3SslNavXuIASOLazLMXN1II4d1WGi97GbMx7plcji63huiOjsOW6ssbG07bq3pcqh///T7mdCDGn5UT2zv5PgOCIMbH5/C1HI9A3SrbNY7/ExAV5QJh0RslfEq0bCqBopp3FDlpRp/Wi2FxO0J27BHFQ0UhfLv1Ggd+mxM+qAnRPVFHlHqNTJBT5Xll5zNz3DfutHm+bivLXzeI/BJqQ5zd7J/Mc9B3sRB4o9aEn4Se81vZC0pCONdox55KD06rpmNiT7BnS3eyPyv7bi9t1iG+TeabYA629D4IxxjjBpZwi2q+8Zy3qTa/lD8X9hWtMQuTXxkdnz4lZUeFg/Va70iWtCnpiPeCSJsK1BuBfuukHkulcMSD1pxWVP8V1NGT2L43wRJKVboLV+3oxKiLPAnhaQpSbHhdpqkMPL1AQrDoB5mEwO779RhkqKfHCNasMU+TA2Edxb+gLDRgdcDuY7qi/yCTXSf8QNL2wTJri2BZYYXPdHSPtBo/t/if21GGiUIuPWbpXPeWqs7dDgNSRl6oL0MiqAN/DVGX39SOCxluoTXEgPYWWgzqjpJGVLg1r+rojU+g1r8HzWFPjBZR2jnx7BaHmhxAWXmezYFswRI8JNb9aVkt6zBxmsVLj0zzO1x1Knq64TuKMtNDYtesA3VYmLCf5ZXLlKJAdYlgH/N1OnNYR2wOqYpMvgNa7aIP2OYMN+uj+woOg68K7jPdXRnbnplfx4prCSs+5JHoXWAvxVGD4I9IZjh39MoNreMN9ef0jetw1sBfdiBSMSepSZpSP29xXv+tAbZY8pve+VHqzPBiKhdCrd+v62Xn65vJQu2eq8/lq5octI/2yj1hjtxBDenDWZS4j90/M/PHqL9bJWrpUAvP5Llhk1yBL3zy5QUOcdRjhnIUhOUD3ZuEpWnhX4UdFCD3bEFRmisi95UU+8KFYOsqSCzydjyTYfUgYPFOeL/v8uvzQJnpmYwRFmdMwABUdwNqbqAbY6DFPwAAigNT3G3vcTpHcRLXBuJZE8ujuc0p9YiqqcjpdbH6+/nHwYAJeMhjgkpwZlLFY+wlC6CcWtDfm82u2Bg+j+a/1z9FzFDKf5qJ1sNovXys5UEbe/564jAjYNGcPigX+s+D27nZfyHmY8Fn3v9op2DEEpSgEdwB+AuBBbJQqLQV4IF3l0kFfrUVx4A6OKDj2mTojHpe84MYrNmlmx1z/6D1ZEjCf+yxrlqOpG3X0MKlQFFXzm0pX62TRDcliaD2uYYTrugyEmsh4RLpnijFwCpxExlx1pYZoZV09xH9pW82qLoUdtIl1eLclypPBNgTjfKzxgxeuNIGb4LEOQGZMRie/9CUDLcX9AfvEV7gHKroGA+CQi1BqPkFuO+vL9uCxdQElDwXGc8LVzJh9i8komrdAeG8d7/VHARrbPV1c+uhBejtTYWcHneAPBKw+aTrGoEbOHhD6dscbZaVZjCom9lxBtBfs8dVEjhIKDbRxk7WapajFxMiDHX9Hu6lRD2UMnlvZhzeXxukcjrIuCJRfzNqUB9ui8xU5njbsP5/C73i1TeKi/wQ/1Agq6XrpQq7ui0C30T7x/TZZn9rb4mikWHT3tnRg2S/7YnQc/vruP42o5EHKEtb3qOfhLQPyrqJUAml5hqgeSRfCf8hHHM3+VuKyK2VkSynqKu9hjqLcvtB/xSrATEGxjjAd6/X4WMKfC1/lXcjiCqVh99YmewgU0DgAfrdbYT0fGKYWzaKa7ggVZtdyNTDCfyVMerw9AFEo8EZ7MMMRe2YjdODKXqvie4Fuv0WnXxUczZusohPVQ9zsVSunFDYBZhqoz1IYhLAR8Jv6T+RDkDBiH3IcEXuWiSB7hqLfdGsQMK+Q3GzsAmZYEAqA+9tO2LpAp1MqqN5NpvUr8ZfndpfJBJj1+BvLwAW0AMeuW6pUSEgT+ZzKPfEBgIuK6jPb2jx9ENJ60LQKpn6WeHsS+L7JNQFgvZd0W/TO2nVjeHyDnoXGRJ5L3plnH1TiFfI8GOJBzhwZ7dfvFR7m5FU3OeEOso6ySYEI4ZLDaKaxGl0jezH6MiBN6q9kOn6RsE0L9ZPBafF5pyt94GtruQ2rNu+P2zuAyzMe+pH1vPExzot0CSMHmJX9EQlJMiSVGYHV7GUP5rjLOlkq7vFlrHpOPfIku16YtoayKXRrOBrF2NNMY9Of9xJWJelUxqF2l70OZt39sxwjXVweb7XKZFWZBkJc/xSBYBHtMrBf5i2guYfN1kDzVWYeobnm2dulL/qYzVuZRd5RJwYEMVQujO5Y9oGkMvO7lfXmIMpXeeze7hrZ0PFj7cbGtHJV7fqO9I3leMH8XsJvx7N3185gtP127zKgjR6Okfa4R98hPr5dGtTorBlF8AhlOqPdAHI87OrRI+SosvCNpqr/Z8Xc/vRbSpU3YrjVeXOJL67zhI3d4pS81EZPnECPKtpG4K1OS7eUeQVHOvMlBszjBhHlx4qI4wB2JUsIg3YHQO7WB1rBJsyj0QCKKW8x0ntX9nfkTg2m4tudboiD9G/uLsC2NGNfPyPkpy0TKBgkVtxF9WG9WWQoBLlECibqCJFoSxerp58yj+c36aSTxbHHDMKZMWiyVV8wYycWqmJdo43ch5/ogucJR2xG+x5gZPV1eGBC8OG2aufVcf7BSN+Sq5aAZTu1/RtFPLJT+kqXGYUJk/sn//FnwNgs7ShNKrHn2VnSVkCyUnj/E2G3qS4reMkaKe71WRD3a+2NvqlNIu/LgXhZjJrHh+n9bcd6MWDIDaNywbYhmXX9MPjhQNxdXFbs54/E3kyYWyDN4vMKzIXMxNAqrI60PZKo5yXwZwhZJQ7KRbWHvylKWJHG5TDHrHCRH5jWelym4cMvLgHmQaOPZgthcv24uq68I5aK08KL3UG1mcYxc0goXZl0nBw1q4Mg0Ps+z5+uJPPVHYAyxyD8PVVwcvHTl5TmR+TfGfF7LObAlYcxL41hD8bJxk3mI9PzFYXn7lmgC2cl+zkohts1QEJyKsWU2v7aRlcWs9gcA8LKG3+jABgkZ68h0mfvuEkqiISPtj49nExJuIcn8VvDGgvbgwVNe6jMIUbgJ4S8wj9ywoByd3K9WD7FuTrI/tkMGyi3ZPpNZ4oZi7p5iOfxXv40Wh5OOz61UH3URVgxaOheZtsRx6zwUr0qwNm98x8bN4SXQJZf8Zu+xQhelA/gQa2OthRFdiMVenwdnh/67xzWOKygBUZoW+mTiuEm7rCIV38Qfd5l3YziAOwpk2lIgYamCvFd0Z1Fhe6Zoo2luxg5nQLzLq6r8pD9WGfiZMIAtrvNK+2ctgj5e/Iw7/I8Lrzr6X14eeYbTUa1edOHkRWNrD0bNi4NEDJa1N3dRx7HdkWhhIOJJVE+QUBQGxemYERi8PpsJB0JUsArU62/OBdu5TM+E3JaAIF5rWpM9n2LJN67WJcRDwubNDAhAb3cV9E+t5UlU88H/vmczKFVzR/ty1UIRXDp6hGTD8FG/Mf+GCA14jLhHs+jSas9BbfC/KNY5WJWjkdP4UHiMk+82BSLeqzJ5X6v/ms9P/5XggRJ0jiVuCUhPKwazT//iCn/wNHhT1EQDpN/aa7x96pdK6tXLWI0JizvcIoPr4YjrBOKh0UE/h3aqFTxXc1g2SKqmKLvA8jY6mMpm2QbP03eZb50OrI178B7D33BL/sHiO3RWUhA8JYMq2nCrzoZ6d3etmqojgnwLlikm+EtWdFXoIP1EL3dCZF+x9sWZYFXEfwayBj3SZBwTKxcFq0GnSfv8P1NTjQ5xSYeVLWZZRsIY+MTSN5m6otqh0FvGijnNaJhyf1vcD0IMYvl1kLLFOgkm6fSUArF7aqoJdbo1Effc+arT4W7XSWT/V4UpXpC1Dn6CQ17DXoXNuGmS7f83E22GHbWcGOpzHvC2w1mdNUBjea8AwcY2vYMsXrv/zt/eKX6yIyAfS2fWfDrwXLfLgKG3abAcEMMzXY0ZrwwcX3Mcon2USpKprbvtPtrE9GczjbqDCGAoLzN+oqGSiTTF+N7xqjUXxC0mzW3n5hB+lAyHPmIychbD79PaLTzLJTCfcVwBjiOYG/04IAFaV+wMM9oyw/Fm9/dthSVOAau6o/OxYEQkLRmlb6OXWT3/rRjzHmTAjUYkxF0HvAk7l0Zc1ztadb2Q0mD3RsHdt7T1aC+RmFtOhbs1O5avssyDsxZrkDrD5sdY+M2yE3udYmpYdNFHZL0131w12wzIBNIL5ladOoAVhnvyla4SIjJoTkUEFaN7H0ZAd+72+Ut0AgyRfeH4/jr2P8zonke7QN4jEH1xgCJBSPuFJBpRPdHqnA6aKgJOksPVJe0FB8kk/Dcbw76yeDcnrWU9qEiaorZwysSV9Np/SMgXkGFFLMOBHCwb9HCqsP06D4u6CIlN7q81WpJj/wCeBEREmlazQDBz4iXdUWknlqpT9ul75SgKK7GmU5ABLmLr6tv1UDNOwXvsiPzmhv0goUzLLUSRN9dBVYjmRuXoapbcJRjoeWFlQpnMee5pR4/Qwr6DOziExlD7YdOD4WYlLhip5EQRscqvu14fPp2uusiSbB0k6IrYeEevzJH0zFPgaQUrWb1623g5F1l+iPRueJN4LXl5vkg+RJZAgEPyYRok5OX3jCCReYP3N0QeM+f9zMAibav5e0X4ij1gQltk0hygjdrnOZY21vC9SKpcbgqaf9pe9SQ6L4C5vIDlmi6/rYbTZrTfSkwuvqfHfm8an76RTHSYx37nN/4AWKKTyuBElq79ZxJx6N98HZPDJEngjVkZj8jXk7m+uL4qusI9owMEV4snP+doDp7UsCTQknZ2QvUQSZm6QUnIynq3Res4a3ylUfZcj0skK5RIozSKi6BkzeTeNNE5bCHrmZJ/mf9xJI3XxMANmRkLST73zoKMlHkG5R5hzH7lc1U0N8YqP6gLnbZZ9VVkA7V6A5Thzdsr0G2td9FzfUVQxGbYSpjr+/Wk7x7IbG8p9h+FABSPYlRpAviTIsivPa1cljf3oZX7UcPP+HLa2qyIlicaCZlkjR31rw/pvlGqvRuactlyr0F5TKflxz1QXFvU/BnmMmJQ/ZKddfWvV6uKRHn+lAJsNp1qxD42A0kP/43sx6eUJEVenwQAq63hcIyVUYib7POW2ZcLYcbKj7SK7iB2bKDc4Q7AdVft6p1sc+NUbDLzgdq/n2q49bz0bVMR8xlEjkdyBmVmvR8T1+FRSdPn4+XMs88Ha+L0Woh1pntJzDrVeS/a9VEUwu02qXrk2p95cbrBHRmPrl8oA5VZjO0CDdHSL/wSSpP0vnu3qvtYDXHDpRDuWL3kYmCVRcEHwXk0AfI1juNXCXseNXlgA5NGLBwls+scKMp38G0X/Md5cUD0ZUNmvH0AhXwi1qJhLEsvF0BhWA7hon9Y94OF/12pSItz1/vbN9c7/ZbnKpYFgG/2pEgrLi896I/4R3Lw2ZRJhJfqrkqr7A8P1Bo1nTrvnIIzW4VH5IWgw+vtQzl2ArLLnw9iuvbZb0bR/0FZNEM/teQE1WzVlVTMAmTMk5bQbCPIYlh1ZmbbdTQ9Mjd/X0HrtpqV6TxvP+0w3f3KL/v0zU//mJT9BDvAohI029h8neQfTaaRikQuz3PW3/baf0T1JmVvjoobN3Ytk2BRppSJ1VMHVdIAl4ePe2wZVAeFExk5H6wzhg+O7m+DT7loQtF9AuQnJxazx9L4ZpZiIQ/n3DlrWsPGF0euWUtdnKf3Z+EVf/wdoKaOePu0B4Ha93n2jRRynNr5+JIMpAVMpy+IkAWkgWc+3wB7KbaT4QKL4gUZDu5iA2s5Fh+A6eGdLnqCxSBwzb6ivhIIUvHIyAHr6BdGelwX1LJz2a5863+kKwQVhPuRs3SuX3NFwtdbn2kghPGKarirwWx0+FxVpBCrHZkKfseOHj9x9Tjm5JUTOMPiq8LUZU/L0bLa4O9GQzi5PUKXJG1v0qKYYLF1R9sGMlaDBpBLdntX5SxZR+RtEpH47fm0bwKqfrEnn6WRSHaWHX9+a+oiItwBoYASSpsGs0QLRKXZl4ajDQIrZpv6A8qeHp6KUVVjbU3KoaZG0lyBzzhPpfwJnlmYd6aBBvS0wNf/QHYLs5ArgpwAmyf8zTl/uIbWyavB5oH0mZo8MojmIkEvtZZ1Kit/wDa+jv5PzvcOG4qmUi+FE52JeU6gzFYxIbTertGhNtmO6060Et3FAlUcKEAVzBl5hbrSht4PYrbI5R80XCTvrbo2iSP2LfdbM3mBAhUg8Nal3baqoDJY0/vjwsbaKdSrogovo+SbQA070hODn2UAqBdP+itt4c9UxX37sKbw+i3iV9zn0UUK+LXYAwhw3E4S4F3cHkjaiKPU4wiziz1f88xkI96UzZH954wIrSkuuGJ5WSyv0KM7S0Ng5bGx566A9jaMCYZ9oFk10Pt6RxKUJHykeALWQi9yAW2jqiJtbYnnH5Z+rPmzpte+iiJmtTmukYP9bcMz2CQN83jJF1IGja94H2/XYUveW0pln5pXbx75U2t7d+OjezTLW8bGoabrPW/JN6enrFulmYKuIvTfOfaQwyBnbgwlxbeka2nO0AYyaoA7J6AfzxWntVmhN/7MjiKIjrQ9glEQEt4n4wwsAMWu33epE2KZB/SAZzplBH9EOyErOXyJu/9Rs6Gah1+Py/+iENM25Ry+/8lutq9fAGqkO1VEIMSTUfccpohiCvVF2IBWiOrYvBfgxfSSUNhhYD1VI2Gz8LfoqCd8aZquAX37hmYOjF6L6Eqnw0fRVAnb4mHAWMQl1M1eNQLBjjvyDZJBbcLSMBBexIGnLqi+l1yXpRLdp6fq/3HZG/NPKqeLdgP6EnEpwg6eWRo6LKDUaiUvAoBEWgrRjaoFQnH5gkC3HA8ubcy7QrQqEzh2gc2xHIt/+si/NtTiJtbq6Lrgmp0f6gteRM31pR+yId5ve9z+CkP6+0k/z3lgJiNB+WBuGgpC/zaEBRWbkA6T+jLUGEQwI4FKbHrNvSOGOdP2+K1E4PF7XrMqpVHRV5pKT2RDmWB/b4Qvl7MF92Fv5sItoOgiLEqrz6+qBB9PHz3b8MFFhjqH/IgHLbrlrh8PGBXzjVqj1Cf2sLfpZGXCVVQrTFjRHc56aKT8byMop8QOqy8DL58FBycmmo8nd/zQdh3FZ8Ei1rhrPBrbC1rhzbvnE0a3QsWOnksf8sXJvnZFmMkViaIHm58vZo37ep7i6VdOAMFM02dE6SHhGGVYhHOuteJkKPxkqOTH67gLMKGsWGOkIwkEmOtBR9qsy1kbd1A7BfkqeP1Yu9g6prtAP1mrK1uE6RYsANA06RHjCSWOpUFiCdgnlbOqhifEscSooty6A00GYJIz8cxbGMYVT2SpeiEtBcee8gEMlD7z3tgRuhkrY297GswTRndcurrrv+9/AY7gAgY33DOZVvldrmZXtEybmUjupB2xnHVxmc8wgttkCS9WjHGd4AIumUP+jzyTYe+fVbRhsAFPfXKtSRDV5FsG94ENxHcnmHn3IqPrv915LQZPB36oQvcha0W9LaLZ9WXy7gBOdndnd7wB2yRnOP2sEkuRyiKw8ZhZHKzn6VcWtX0K+1RXUEw9QgO3hAXyzp59Q+y/DbQD2BCH22yQuDKVgIBXwXA57bHdZlcKZvF1YLV3CGpTnGfUBGFhPU4C6cavTZlz5Rl2ttP62uqyJu9sqM94zrKS+0qqmMy5pAqCBkLH/7pTympsXG0QhCjX2L8hrb/t+n4QZqSOSybrfTrI+Asiz0EeEwjEhoruNJzNtCdZwsUiH+OmJ1/oAMdcmahMFCQyuLvcw+QPdUKc/lNP5WJczc7rpiHX0XX4cSI/8uZugjOXcLAEzEzkV6AFAkHgZco1wTXleIWkd+KQXWa9B/IZ/+i4/J7Ft4vConmidAdL1cqwv8mFXk3uD0kpzEdpDE0ES573CmfAkQO8DiQpFEqDNNiVdgROIkr3eRsug8BwlC05dwqEh262CZdpaXQA7fjifolKNNNmxkrB66Kj+55RL0Tds812VICX6ef/6auu24GYypB1UVnmhcsM0C8x7244YMQosLKLz4gfJ5WL5aNNkqIB6hq9tzvPiU3chqgcflOlg27cK7pV8W6NKkgn5o7AUXJiO64c3fRg3GN58ZTyiTYvkxHn2Ls0v2A+n1kWOjlmgGakFcBfg0/iDcJJqgj8ilfe41PnRSG+wwZIyOqOuY/Zcxtb/9AG2vTgI7Na8lLMakV7rfJ2tPZQxc4UZRZybukuBGd3VLFf9nOmtTY+HBnC0HjuoNu0n6KvGnUv9PpKRHC79KLoosHoRGgsD2ASAAoHGWo+3r2FQDI/EgAKKEC2GNM6fPOcwAnZGbAG7e6THoxeu9/iwWSys9wdKhHD9Hr2cHuc/Vmv39GDYhG2QutBaZNBQyD9DxKA" width="2012" height="432" class="img_ev3q"></p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">circuit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parameters</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ParameterView([ParameterVectorElement(β[0]), ParameterVectorElement(γ[0])])</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="33-step-2-optimize-circuits-for-quantum-hardware-execution">3.3 Step 2. Optimize circuits for quantum hardware execution<a href="#33-step-2-optimize-circuits-for-quantum-hardware-execution" class="hash-link" aria-label="Direktang link sa 3.3 Step 2. Optimize circuits for quantum hardware execution" title="Direktang link sa 3.3 Step 2. Optimize circuits for quantum hardware execution" translate="no">​</a></h3>
<p>The circuit above contains a series of abstractions useful to think about quantum algorithms, but not possible to run on the hardware. To be able to run on a QPU, the circuit needs to undergo a series of operations that make up the <strong>transpilation</strong> or <strong>circuit optimization</strong> step of the pattern.</p>
<p>The Qiskit library offers a series of <strong>transpilation passes</strong> that cater to a wide range of circuit transformations. You need to make sure that your circuit is <strong>optimized</strong> for your purpose.</p>
<p>Transpilation might involves several steps, such as:</p>
<ul>
<li class=""><strong>Initial mapping</strong> of the qubits in the circuit (such as decision variables) to physical qubits on the device.</li>
<li class=""><strong>Unrolling</strong> of the instructions in the quantum circuit to the hardware-native instructions that the backend understands.</li>
<li class=""><strong>Routing</strong> of any qubits in the circuit that interact to physical qubits that are adjacent with one another.</li>
<li class=""><strong>Error suppression</strong> by adding single-qubit gates to suppress noise with dynamical decoupling.</li>
</ul>
<p>More information about transpilation is available in our <a class="" href="/guides/transpile">documentation</a>.</p>
<p>The following code transforms and optimizes the abstract circuit into a format that is ready for execution on one of devices accessible through the cloud using the <strong>Qiskit IBM® Runtime service</strong>.</p>
<p>Note that you can test your programs locally by &quot;local testing mode&quot; before sending them to real quantum computers.
More information about the local testing mode is available in the <a class="" href="/guides/local-testing-mode">documentation.</a></p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit_ibm_runtime </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> QiskitRuntimeService</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">transpiler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">preset_passmanagers </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> generate_preset_pass_manager</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Use a quantum device</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">service </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> QiskitRuntimeService</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">backend </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> service</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">least_busy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">min_num_qubits</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">127</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># backend = service.backend(&quot;ibm_kingston&quot;)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># You can test your programs locally with a fake backend (local testing mode)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># backend = FakeBrisbane()</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">backend</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create pass manager for transpilation</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pm </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> generate_preset_pass_manager</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">optimization_level</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> backend</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">backend</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">candidate_circuit </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">circuit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">candidate_circuit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mpl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fold</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> idle_wires</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">service = QiskitRuntimeService(channel=&quot;ibm_quantum_platform&quot;)</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;IBMBackend(&#x27;ibm_strasbourg&#x27;)&gt;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="/assets/images/95cd3eed-0348-4373-b664-16a65d42f1e7-2-1666a2dcc55a37e81a894e104262184b.avif" width="7506" height="444" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="34-step-3-execute-using-qiskit-primitives">3.4 Step 3. Execute using Qiskit primitives<a href="#34-step-3-execute-using-qiskit-primitives" class="hash-link" aria-label="Direktang link sa 3.4 Step 3. Execute using Qiskit primitives" title="Direktang link sa 3.4 Step 3. Execute using Qiskit primitives" translate="no">​</a></h3>
<p>In the QAOA workflow, the optimal QAOA parameters are found in an iterative optimization loop, which runs a series of circuit evaluations and uses a classical optimizer to find the optimal <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\beta_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>γ</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\gamma_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em">γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> parameters. This execution loop is executed via the following steps:</p>
<ol>
<li class="">Define the initial parameters</li>
<li class="">Instantiate a new <code>Session</code> containing the optimization loop and the primitive used to sample the circuit</li>
<li class="">Once an optimal set of parameters is found, execute the circuit a final time to obtain a final distribution which will be used in the post-process step.</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="define-circuit-with-initial-parameters">Define circuit with initial parameters<a href="#define-circuit-with-initial-parameters" class="hash-link" aria-label="Direktang link sa Define circuit with initial parameters" title="Direktang link sa Define circuit with initial parameters" translate="no">​</a></h4>
<p>We start with arbitrary chosen parameters.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">initial_gamma </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pi</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">initial_beta </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pi </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">init_params </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">initial_gamma</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> initial_beta</span><span class="token punctuation" style="color:#393A34">]</span></span><br></span></code></pre></div></div></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="define-backend-and-execution-primitive">Define backend and execution primitive<a href="#define-backend-and-execution-primitive" class="hash-link" aria-label="Direktang link sa Define backend and execution primitive" title="Direktang link sa Define backend and execution primitive" translate="no">​</a></h4>
<p>Use the <strong>Qiskit Runtime primitives</strong> to interact with IBM® backends. The two primitives are Sampler and Estimator, and the choice of primitive depends on what type of measurement you want to run on the quantum computer. For the minimization of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>C</mi></msub></mrow><annotation encoding="application/x-tex">H_C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>, use the Estimator since the measurement of the cost function is simply the expectation value of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⟨</mo><msub><mi>H</mi><mi>C</mi></msub><mo stretchy="false">⟩</mo></mrow><annotation encoding="application/x-tex">\langle H_C \rangle</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">⟨</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">⟩</span></span></span></span>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="run">Run<a href="#run" class="hash-link" aria-label="Direktang link sa Run" title="Direktang link sa Run" translate="no">​</a></h4>
<p>The primitives offer a variety of <a class="" href="/guides/execution-modes">execution modes</a> to schedule workloads on quantum devices, and a QAOA workflow runs iteratively in a session.
<img decoding="async" loading="lazy" alt="&amp;quot;execution mode&amp;quot;" src="/assets/images/execution-mode-51a7b9dd243fb2cbfa68eb5985bcacb5.avif" width="742" height="840" class="img_ev3q">
You can plug the sampler-based cost function into the SciPy minimizing routine to find the optimal parameters.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cost_func_estimator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">params</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ansatz</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> hamiltonian</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> estimator</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># transform the observable defined on virtual qubits to</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># an observable defined on all physical qubits</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    isa_hamiltonian </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> hamiltonian</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">apply_layout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ansatz</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">layout</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    pub </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ansatz</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> isa_hamiltonian</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> params</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    job </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> estimator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">pub</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    results </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> job</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    cost </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> results</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">evs</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    objective_func_vals</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cost</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> cost</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit_ibm_runtime </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Session</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> EstimatorV2</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> scipy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">optimize </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> minimize</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">objective_func_vals </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Global variable</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> Session</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">backend</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">backend</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> session</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># If using qiskit-ibm-runtime&lt;0.24.0, change `mode=` to `session=`</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    estimator </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> EstimatorV2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mode</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">session</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    estimator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">default_shots </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Set simple error suppression/mitigation options</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    estimator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dynamical_decoupling</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    estimator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dynamical_decoupling</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sequence_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;XY4&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    estimator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">twirling</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enable_gates </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    estimator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">twirling</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">num_randomizations </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;auto&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> minimize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        cost_func_estimator</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        init_params</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        args</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">candidate_circuit</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cost_hamiltonian</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> estimator</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        method</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;COBYLA&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        tol</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1e-2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">message: Optimization terminated successfully.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> success: True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  status: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     fun: -0.6557925874481715</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       x: [ 2.873e+00  9.414e-01]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    nfev: 21</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   maxcv: 0.0</span><br></span></code></pre></div></div>
<p>The optimizer was able to reduce the cost and find better parameters for the circuit.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">figure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">figsize</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">objective_func_vals</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Iteration&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ylabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Cost&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="data:image/avif;base64,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" width="1012" height="525" class="img_ev3q"></p>
<p>Once you have found the optimal parameters for the circuit, you can assign these parameters and sample the final distribution obtained with the optimized parameters. Here is where the <em>Sampler</em> primitive should be used since it is the probability distribution of bitstring measurements which correspond to the optimal cut of the graph.</p>
<p><strong>Note:</strong> This means preparing a quantum state <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ψ</mi></mrow><annotation encoding="application/x-tex">\psi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">ψ</span></span></span></span> in the computer and then measuring it. A measurement will collapse the state into a single computational basis state - for example, <code>010101110000...</code> - which corresponds to a candidate solution <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span> to our initial optimization problem (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>max</mi><mo>⁡</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\max f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">max</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> or <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>min</mi><mo>⁡</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\min f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">min</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> depending on the task).</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">optimized_circuit </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> candidate_circuit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">assign_parameters</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">optimized_circuit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mpl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fold</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> idle_wires</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="/assets/images/f8dddf5a-0-63e1b92f33c76c74713ced3c049bf11a.avif" width="7184" height="444" class="img_ev3q"></p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit_ibm_runtime </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> SamplerV2</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># If using qiskit-ibm-runtime&lt;0.24.0, change `mode=` to `backend=`</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SamplerV2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mode</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">backend</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Set simple error suppression/mitigation options</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dynamical_decoupling</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dynamical_decoupling</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sequence_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;XY4&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">twirling</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enable_gates </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">twirling</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">num_randomizations </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;auto&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pub </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">optimized_circuit</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">job </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sampler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">pub</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> shots</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1e4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">counts_int </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> job</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">meas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_int_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">counts_bin </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> job</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">meas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">shots </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">counts_int</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">final_distribution_int </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> val </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> shots </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> val </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> counts_int</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">items</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">final_distribution_bin </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> val </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> shots </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> val </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> counts_bin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">items</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">final_distribution_int</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{12: 0.0652, 31: 0.0089, 4: 0.0085, 13: 0.0731, 26: 0.0256, 28: 0.0246, 17: 0.0405, 25: 0.0591, 20: 0.031, 15: 0.0221, 8: 0.017, 21: 0.0371, 14: 0.0461, 16: 0.0229, 19: 0.0723, 23: 0.0199, 22: 0.0478, 18: 0.0708, 24: 0.0165, 6: 0.0525, 7: 0.0155, 5: 0.0245, 3: 0.0231, 29: 0.0121, 30: 0.0062, 10: 0.0363, 1: 0.0097, 9: 0.042, 27: 0.0094, 11: 0.0349, 0: 0.0129, 2: 0.0119}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="35-step-4-post-process-return-result-in-classical-format">3.5 Step 4. Post-process, return result in classical format<a href="#35-step-4-post-process-return-result-in-classical-format" class="hash-link" aria-label="Direktang link sa 3.5 Step 4. Post-process, return result in classical format" title="Direktang link sa 3.5 Step 4. Post-process, return result in classical format" translate="no">​</a></h3>
<p>The post-processing step interprets the sampling output to return a solution for your original problem. In this case, you are interested in the bitstring with the highest probability as this determines the optimal cut. The symmetries in the problem allow for four possible solutions, and the sampling process will return one of them with a slightly higher probability, but you can see in the plotted distribution below that four of the bitstrings are distinctively more likely than the rest.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># auxiliary functions to sample most likely bitstring</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">to_bitstring</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">integer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> num_bits</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">binary_repr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">integer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> width</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">num_bits</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">digit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> digit </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">keys </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">final_distribution_int</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">keys</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">values </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">final_distribution_int</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">most_likely </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> keys</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">argmax</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">abs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">values</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">most_likely_bitstring </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> to_bitstring</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">most_likely</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">most_likely_bitstring</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">reverse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Result bitstring:&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> most_likely_bitstring</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Result bitstring: [1, 0, 1, 1, 0]</span><br></span></code></pre></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> matplotlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pyplot </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> plt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">matplotlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rcParams</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;font.size&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">final_bits </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> final_distribution_bin</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">values </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">abs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">final_bits</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">top_4_values </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">sorted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">values</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reverse</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">positions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> value </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> top_4_values</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    positions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">values </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">fig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">figure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">figsize</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">11</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ax </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> fig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_subplot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xticks</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rotation</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">45</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Result Distribution&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Bitstrings (reversed)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ylabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Probability&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ax</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">final_bits</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">keys</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">final_bits</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> color</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;tab:grey&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> p </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> positions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ax</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_children</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_color</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;tab:purple&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="data:image/avif;base64,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" width="932" height="574" class="img_ev3q"></p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="visualize-best-cut">Visualize best cut<a href="#visualize-best-cut" class="hash-link" aria-label="Direktang link sa Visualize best cut" title="Direktang link sa Visualize best cut" translate="no">​</a></h4>
<p>From the optimal bit string, you can then visualize this cut on the original graph.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">colors </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;tab:grey&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;tab:purple&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> most_likely_bitstring</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mpl_draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> node_size</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">600</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pos</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">pos</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> with_labels</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> labels</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> node_color</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">colors</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="data:image/avif;base64,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" width="660" height="499" class="img_ev3q"></p>
<p>And calculate the value of the cut. The solution is not optimal due to noise (the cut value of the optimal solution is 5).</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Sequence</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">evaluate_sample</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Sequence</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> graph</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PyGraph</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nodes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;The length of x must coincide with the number of nodes in the graph.&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        x</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">u</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">u</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> u</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">graph</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">edge_list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">cut_value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> evaluate_sample</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">most_likely_bitstring</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> graph</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;The value of the cut is:&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cut_value</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">The value of the cut is: 5</span><br></span></code></pre></div></div>
<p>This concludes the small-scale QAOA tutorial.
You will learn how to adapt QAOA at a utility-scale in &quot;Part 2: scale it up!&quot; of the <a class="" href="/tutorials/quantum-approximate-optimization-algorithm">Quantum approximate optimization algorithm</a> tutorial.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># Check Qiskit version</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> qiskit</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qiskit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__version__</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;2.0.2&#x27;</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><div class="dq-edit-bookmark-row"><a href="https://github.com/JanLahmann/doQumentation/tree/main/docs/learning/courses/utility-scale-quantum-computing/variational-quantum-algorithms.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>I-edit ang pahinang ito</a><button class="dq-bookmark-button" title="I-bookmark ang pahinang ito" aria-label="I-bookmark ang pahinang ito"><span class="dq-bookmark-button__icon" aria-hidden="true">☆</span>Bookmark</button></div></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Mga pahina ng dokumentasyon"><a class="pagination-nav__link pagination-nav__link--prev" href="/learning/courses/utility-scale-quantum-computing/quantum-phase-estimation"><div class="pagination-nav__sublabel">Nakaraan</div><div class="pagination-nav__label">Quantum phase estimation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/learning/courses/utility-scale-quantum-computing/quantum-simulation"><div class="pagination-nav__sublabel">Susunod</div><div class="pagination-nav__label">Quantum simulation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-introduction" class="table-of-contents__link toc-highlight">1. Introduction</a></li><li><a href="#2-computing-the-minimum-eigenvalue-of-a-simple-hamiltonian" class="table-of-contents__link toc-highlight">2. Computing the minimum eigenvalue of a simple Hamiltonian</a><ul><li><a href="#21-exercise" class="table-of-contents__link toc-highlight">2.1 Exercise</a></li></ul></li><li><a href="#3-quantum-optimization-with-qiskit-patterns" class="table-of-contents__link toc-highlight">3. Quantum Optimization with Qiskit patterns</a><ul><li><a href="#31-small-scale-qiskit-pattern-for-optimization" class="table-of-contents__link toc-highlight">3.1 (Small-scale) Qiskit pattern for optimization</a></li><li><a href="#32-step-1-map-classical-inputs-to-a-quantum-problem" class="table-of-contents__link toc-highlight">3.2 Step 1. Map classical inputs to a quantum problem</a></li><li><a href="#33-step-2-optimize-circuits-for-quantum-hardware-execution" class="table-of-contents__link toc-highlight">3.3 Step 2. Optimize circuits for quantum hardware execution</a></li><li><a href="#34-step-3-execute-using-qiskit-primitives" class="table-of-contents__link toc-highlight">3.4 Step 3. Execute using Qiskit primitives</a></li><li><a href="#35-step-4-post-process-return-result-in-classical-format" class="table-of-contents__link toc-highlight">3.5 Step 4. Post-process, return result in classical format</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">doQumentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/features">Mga Tampok</a></li><li class="footer__item"><a class="footer__link-item" href="/jupyter-settings">Settings</a></li><li class="footer__item"><a href="https://github.com/JanLahmann/doQumentation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">RasQberry</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://rasqberry.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">RasQberry<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/JanLahmann/RasQberry-Two" target="_blank" rel="noopener noreferrer" class="footer__link-item">RasQberry GitHub<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">IBM Quantum &amp; Qiskit</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://quantum.cloud.ibm.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM Quantum Platform<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://ibm.com/quantum" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM Quantum<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://quantum.cloud.ibm.com/docs/en/guides" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dokumentasyon ng Qiskit<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/Qiskit/documentation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Qiskit Docs GitHub<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://qisk.it/join-slack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Qiskit Slack<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Ang nilalaman ng <a href="https://github.com/Qiskit/documentation">Dokumentasyon ng Qiskit</a> © IBM Corp. Ang code ay lisensyado sa ilalim ng Apache 2.0; ang nilalaman (mga tutorial, kurso, media) sa ilalim ng CC BY-SA 4.0.<br>Ang IBM, IBM Quantum at Qiskit ay mga tatak ng IBM Corporation.<br>Ang doQumentation ay bahagi ng proyektong <a href="https://rasqberry.org/">RasQberry</a> at hindi nauugnay, sinusuportahan, o sponsoran ng IBM Corporation.</div></div></div></footer></div>
</body>
</html>