<!doctype html>
<html lang="tl" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/global-data-quantum-optimizer" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Quantum Portfolio Optimizer - A Qiskit Function by Global Data Quantum | doQumentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://tl.doqumentation.org/img/rasqberry-social-card.png"><meta data-rh="true" name="twitter:image" content="https://tl.doqumentation.org/img/rasqberry-social-card.png"><meta data-rh="true" property="og:url" content="https://tl.doqumentation.org/guides/global-data-quantum-optimizer"><meta data-rh="true" property="og:locale" content="tl"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="uk"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="it"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="ar"><meta data-rh="true" property="og:locale:alternate" content="he"><meta data-rh="true" name="docusaurus_locale" content="tl"><meta data-rh="true" name="docsearch:language" content="tl"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Quantum Portfolio Optimizer - A Qiskit Function by Global Data Quantum | doQumentation"><meta data-rh="true" name="description" content="A Qiskit Function to solve Dynamic Portfolio Optimization problems using a fine-tuned implementation of the VQE."><meta data-rh="true" property="og:description" content="A Qiskit Function to solve Dynamic Portfolio Optimization problems using a fine-tuned implementation of the VQE."><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://tl.doqumentation.org/guides/global-data-quantum-optimizer"><link data-rh="true" rel="alternate" href="https://doqumentation.org/guides/global-data-quantum-optimizer" hreflang="en"><link data-rh="true" rel="alternate" href="https://de.doqumentation.org/guides/global-data-quantum-optimizer" hreflang="de"><link data-rh="true" rel="alternate" href="https://es.doqumentation.org/guides/global-data-quantum-optimizer" hreflang="es"><link data-rh="true" rel="alternate" href="https://uk.doqumentation.org/guides/global-data-quantum-optimizer" hreflang="uk"><link data-rh="true" rel="alternate" href="https://fr.doqumentation.org/guides/global-data-quantum-optimizer" hreflang="fr"><link data-rh="true" rel="alternate" href="https://it.doqumentation.org/guides/global-data-quantum-optimizer" hreflang="it"><link data-rh="true" rel="alternate" href="https://pt.doqumentation.org/guides/global-data-quantum-optimizer" hreflang="pt"><link data-rh="true" rel="alternate" href="https://ja.doqumentation.org/guides/global-data-quantum-optimizer" hreflang="ja"><link data-rh="true" rel="alternate" href="https://tl.doqumentation.org/guides/global-data-quantum-optimizer" hreflang="tl"><link data-rh="true" rel="alternate" href="https://ar.doqumentation.org/guides/global-data-quantum-optimizer" hreflang="ar"><link data-rh="true" rel="alternate" href="https://he.doqumentation.org/guides/global-data-quantum-optimizer" hreflang="he"><link data-rh="true" rel="alternate" href="https://doqumentation.org/guides/global-data-quantum-optimizer" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Mga Gabay","item":"https://tl.doqumentation.org/guides/"},{"@type":"ListItem","position":2,"name":"Quantum Portfolio Optimizer - A Qiskit Function by Global Data Quantum","item":"https://tl.doqumentation.org/guides/global-data-quantum-optimizer"}]}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
<script src="https://unpkg.com/thebelab@0.4.0/lib/index.js" async></script><link rel="stylesheet" href="/assets/css/styles.9884e938.css">
<script src="/assets/js/runtime~main.cd18451e.js" defer="defer"></script>
<script src="/assets/js/main.36451ee5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Lumaktaw sa pangunahing nilalaman"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Lumaktaw sa pangunahing nilalaman</a></div><nav aria-label="Pangunahing nabigasyon" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="I-toggle ang navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="doQumentation Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="doQumentation Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">doQumentation</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/tutorials">Mga Tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides">Mga Gabay</a><a class="navbar__item navbar__link" href="/learning/courses/basics-of-quantum-information">Mga Kurso</a><a class="navbar__item navbar__link" href="/learning/modules/computer-science">Mga Modyul</a><a href="https://quantum.cloud.ibm.com/docs/en/api" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Sanggunian ng API<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link navbar-locale-dropdown"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Filipino</a><ul class="dropdown__menu"><li><a href="https://doqumentation.org/guides/global-data-quantum-optimizer" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="https://de.doqumentation.org/guides/global-data-quantum-optimizer" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="https://es.doqumentation.org/guides/global-data-quantum-optimizer" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="https://uk.doqumentation.org/guides/global-data-quantum-optimizer" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="uk">Українська</a></li><li><a href="https://fr.doqumentation.org/guides/global-data-quantum-optimizer" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="https://it.doqumentation.org/guides/global-data-quantum-optimizer" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="https://pt.doqumentation.org/guides/global-data-quantum-optimizer" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li><li><a href="https://ja.doqumentation.org/guides/global-data-quantum-optimizer" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/guides/global-data-quantum-optimizer" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="tl">Filipino</a></li><li><a href="https://ar.doqumentation.org/guides/global-data-quantum-optimizer" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ar">العربية</a></li><li><a href="https://he.doqumentation.org/guides/global-data-quantum-optimizer" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="he">עברית</a></li></ul></div><a class="navbar__item navbar__link header-settings-link" aria-label="Settings" href="/jupyter-settings">Settings</a><a href="https://github.com/JanLahmann/doQumentation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository">GitHub<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="System mode" aria-label="Magpalipat-lipat sa pagitan ng madilim at maliwanag na view (kasalukuyang System mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Maghanap" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Bumalik sa itaas" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Sidebar ng dokumentasyon" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/tutorials"><span title="Mga Tutorial" class="categoryLinkLabel_W154">Mga Tutorial</span></a><button aria-label="I-expand ang kategorya ng sidebar na &#x27;Mga Tutorial&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/guides"><span title="Mga Gabay" class="categoryLinkLabel_W154">Mga Gabay</span></a><button aria-label="I-collapse ang kategorya ng sidebar na &#x27;Mga Gabay&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guides/quick-start"><span title="Magsimula (Mga Gabay)" class="categoryLinkLabel_W154">Magsimula (Mga Gabay)</span></a></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guides/cloud-setup"><span title="IBM Quantum Platform" class="categoryLinkLabel_W154">IBM Quantum Platform</span></a></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/guides/functions"><span title="Qiskit Functions (Mga Gabay)" class="categoryLinkLabel_W154">Qiskit Functions (Mga Gabay)</span></a></div><ul class="menu__list"><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/functions"><span title="Introduction to Qiskit Functions" class="linkLabel_WmDU">Introduction to Qiskit Functions</span></a></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guides/ibm-circuit-function"><span title="Mga Circuit Function" class="categoryLinkLabel_W154">Mga Circuit Function</span></a></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/guides/kipu-optimization"><span title="Mga Application Function" class="categoryLinkLabel_W154">Mga Application Function</span></a></div><ul class="menu__list"><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/kipu-optimization"><span title="Iskay Quantum Optimizer - A Qiskit Function by Kipu Quantum" class="linkLabel_WmDU">Iskay Quantum Optimizer - A Qiskit Function by Kipu Quantum</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/multiverse-computing-singularity"><span title="Singularity Machine Learning by Multiverse Computing" class="linkLabel_WmDU">Singularity Machine Learning by Multiverse Computing</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/q-ctrl-optimization-solver"><span title="Optimization Solver - A Qiskit Function by Q-CTRL Fire Opal" class="linkLabel_WmDU">Optimization Solver - A Qiskit Function by Q-CTRL Fire Opal</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guides/global-data-quantum-optimizer"><span title="Quantum Portfolio Optimizer - A Qiskit Function by Global Data Quantum" class="linkLabel_WmDU">Quantum Portfolio Optimizer - A Qiskit Function by Global Data Quantum</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/colibritd-pde"><span title="QUICK-PDE - A Qiskit Function by ColibriTD" class="linkLabel_WmDU">QUICK-PDE - A Qiskit Function by ColibriTD</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/qunova-chemistry"><span title="HI-VQE Chemistry - A Qiskit Function by Qunova Computing" class="linkLabel_WmDU">HI-VQE Chemistry - A Qiskit Function by Qunova Computing</span></a></li></div></ul></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guides/qiskit-function-templates"><span title="Mga template ng Qiskit Function" class="categoryLinkLabel_W154">Mga template ng Qiskit Function</span></a></div></li></div></ul></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guides/tools-intro"><span title="Mga Tool" class="categoryLinkLabel_W154">Mga Tool</span></a></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/guides/support"><span title="Karagdagang mga mapagkukunan" class="categoryLinkLabel_W154">Karagdagang mga mapagkukunan</span></a></div></li></div></ul></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/learning/courses/basics-of-quantum-information"><span title="Mga Kurso" class="categoryLinkLabel_W154">Mga Kurso</span></a></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/learning/modules/computer-science"><span title="Mga Modyul" class="categoryLinkLabel_W154">Mga Modyul</span></a></div></li></div></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/guides"><span>Mga Gabay</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Qiskit Functions (Mga Gabay)</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Mga Application Function</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Quantum Portfolio Optimizer - A Qiskit Function by Global Data Quantum</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sa pahinang ito</button></div><div class="theme-doc-markdown markdown">
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Hindi pa naisalin</div><div class="admonitionContent_BuS1"><p>Ang pahinang ito ay hindi pa naisalin. Nakikita mo ang orihinal na bersyon sa Ingles.</p></div></div>
<!-- -->
<header><h1>Quantum Portfolio Optimizer: A Qiskit Function by Global Data Quantum</h1></header>
<!-- -->
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>tala</div><div class="admonitionContent_BuS1"><p>Qiskit Functions are an experimental feature available only to IBM Quantum® Premium Plan, Flex Plan, and On-Prem (via IBM Quantum Platform API) Plan users. They are in preview release status and subject to change.</p></div></div>
<h1>Overview</h1>
<p>The Quantum Portfolio Optimizer is a Qiskit Function that tackles the dynamic portfolio optimization problem, a standard problem in finance that aims to rebalance periodic investments across a set of assets, to maximize returns and minimize risks. By deploying cutting-edge quantum optimization techniques, this function simplifies the process so that users, with no expertise in quantum computing, can benefit from its advantages in finding optimal investment trajectories. Ideal for portfolio managers, researchers in quantitative finance, and individual investors, this tool enables back-testing of trading strategies in portfolio optimization.</p>
<h1>Function description</h1>
<p>The Quantum Portfolio Optimizer function uses the Variational Quantum Eigensolver (VQE) algorithm to solve a Quadratic Unconstrained Binary Optimization (QUBO) problem, addressing dynamic portfolio optimization problems. Users simply need to provide the asset price data and define the investment constraint, then the function runs the quantum optimization process that returns a set of optimized investment trajectories.</p>
<p>The process consists of four main stages. First, the input data is mapped to a quantum-compatible problem, constructing the QUBO of the dynamic portfolio optimization problem, and transforming it into a quantum operator (Ising Hamiltonian). Next, the input problem and the VQE algorithm are adapted to be run in the quantum hardware. The VQE algorithm is then run on the quantum hardware, and finally, the results are post-processed to provide the optimal investment trajectories. The system also includes a noise-aware (<a class="" href="/guides/qiskit-addons-sqd">SQD</a>-based) post-processing to maximize the quality of the output.</p>
<p>This Qiskit Function is based on the <a href="https://arxiv.org/abs/2412.19150" target="_blank" rel="noopener noreferrer" class="">published manuscript</a> by Global Data Quantum.
<img decoding="async" loading="lazy" alt="Visualization of the workflow of the function" src="/assets/images/function_workflow-c87c42714c3fd188911c7aa56d50493c.svg" width="855" height="1290" class="img_ev3q"></p>
<h1>Input</h1>
<p>The input arguments of the function are described in the following table. The assets data and other problem specifications must be provided; additionally, the VQE settings can be included to customize the optimization process.</p>
<table><thead><tr><th><strong>Name</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Required</strong></th><th><strong>Default</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td>assets</td><td>json</td><td>Dictionary with the asset prices</td><td>Yes</td><td>-</td><td>-</td></tr><tr><td>qubo_settings</td><td>json</td><td>Settings of the QUBO</td><td>Yes</td><td>-</td><td>See the examples in the table below</td></tr><tr><td>ansatz_settings</td><td>json</td><td>Settings of the ansatz</td><td>No</td><td><code>None</code></td><td>See the examples in the table below.</td></tr><tr><td>optimizer_settings</td><td>json</td><td>Settings of the optimizer</td><td>No</td><td><code>None</code></td><td>See the examples in the table below.</td></tr><tr><td>backend</td><td>str</td><td>The QPU backend name</td><td>No</td><td>-</td><td><code>&quot;ibm_torino&quot;</code></td></tr><tr><td>previous_session_id</td><td>list of str</td><td>List of session IDs to retrieve data from previous runs<a href="#1-note" class="">(*)</a></td><td>No</td><td>Empty list</td><td><code>[&quot;session_id_1&quot;, &quot;session_id_2&quot;]</code></td></tr><tr><td>apply_postprocess</td><td>bool</td><td>Apply noise-aware SQD post-processing</td><td>No</td><td><code>True</code></td><td><code>True</code></td></tr><tr><td>tags</td><td>list of strings</td><td>List of tags to identify the experiment</td><td>No</td><td>Empty list</td><td><code>[&quot;optimization&quot;, &quot;quantum_computing&quot;]</code></td></tr></tbody></table>
<span id="1-note"></span>
<p>*To resume an execution or retrieve jobs that were processed in one or more previous sessions, the list of session IDs must be passed in the <code>previous_session_id</code> parameter. This is particularly useful in cases where an optimization task failed to complete due to any error in the process, and execution needs to finish. To achieve this, you must provide the same arguments used in the initial execution, along with the <code>previous_session_id</code> list as described.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Warning</div><div class="admonitionContent_BuS1"><p>Loading data for previous sessions (for resuming an optimization) can take up to one hour.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="assets"><code>assets</code><a href="#assets" class="hash-link" aria-label="Direktang link sa assets" title="Direktang link sa assets" translate="no">​</a></h2>
<p>The data must be structured as a JSON object that stores information about the closing prices of financial assets on specific dates. The format is as follows:</p>
<ul>
<li class="">Primary key (string): The name or ticker symbol of the financial asset (for example, &quot;8801.T&quot;).</li>
<li class="">Secondary key (string): The date in YYYY-MM-DD format.</li>
<li class="">Value (number): The closing price of the asset on the specified date. Prices can be entered either normalized or non-normalized.</li>
</ul>
<p><em>Note that all dictionaries must have the same secondary key (dates). If a specific asset lacks a date that others have, the data must be filled to ensure consistency. For example, this can be done by using the last tracked closing price of that asset.</em></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example">Example<a href="#example" class="hash-link" aria-label="Direktang link sa Example" title="Direktang link sa Example" translate="no">​</a></h3>
<div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;8801.T&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;2023-01-01&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2374.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;2023-01-02&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2374.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;2023-01-03&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2374.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;2023-01-04&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2356.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;AAPL&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;2023-01-01&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">145.2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;2023-01-02&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">146.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;2023-01-03&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">147.3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;2023-01-04&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">148.1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;asset_name&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;date&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> closing_value</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note</div><div class="admonitionContent_BuS1"><p>The asset data must contain, at least, the closing prices at <code>(nt+1) * dt</code> (see the <a href="#qubo_settings" class=""><code>qubo_settings</code></a> input section) time stamps (for example, days).</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="qubo_settings"><code>qubo_settings</code><a href="#qubo_settings" class="hash-link" aria-label="Direktang link sa qubo_settings" title="Direktang link sa qubo_settings" translate="no">​</a></h2>
<p>The next table describes the keys of the <code>qubo_settings</code> dictionary. Build the dictionary specifying the number of time steps <code>nt</code>, the number of resolution qubits <code>nq</code>, and the <code>max_investment</code> - or change other default values.</p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>nt</td><td>int</td><td>Number of time steps</td><td>Yes</td><td>-</td><td>4</td></tr><tr><td>nq</td><td>int</td><td>Number of resolution qubits</td><td>Yes</td><td>-</td><td>4</td></tr><tr><td>max_investment</td><td>float</td><td>Maximum number of invested currency units across all assets</td><td>Yes</td><td>-</td><td>10</td></tr><tr><td>dt*</td><td>int</td><td>Time window considered in each time step. The unit matches the time intervals between the keys in the asset data</td><td>No</td><td>30</td><td>-</td></tr><tr><td>risk_aversion</td><td>float</td><td>Risk aversion coefficient</td><td>No</td><td>1000</td><td>-</td></tr><tr><td>transaction_fee</td><td>float</td><td>Transaction fee coefficient</td><td>No</td><td>0.01</td><td>-</td></tr><tr><td>restriction_coeff</td><td>float</td><td>Lagrange multiplier used to enforce the problem constraint within the QUBO formulation</td><td>No</td><td>1</td><td>-</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ansatz_settings"><code>ansatz_settings</code><a href="#ansatz_settings" class="hash-link" aria-label="Direktang link sa ansatz_settings" title="Direktang link sa ansatz_settings" translate="no">​</a></h2>
<p>To modify the default options, create a dictionary for the <code>ansatz_settings</code> parameter with the following keys. By default, the ansatz is set to <code>&quot;real_amplitudes&quot;</code>, and both extra options (see the following table) are set to <code>False</code>.</p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th><th>Default</th></tr></thead><tbody><tr><td>ansatz<a href="#single-star" class="">*</a></td><td>str</td><td>Ansatz to be used</td><td>No</td><td><code>&quot;real_amplitudes&quot;</code></td></tr><tr><td>multiple_passmanager<a href="#double-star" class="">**</a></td><td>bool</td><td>Enables multiple passmanager subroutine (not available for Tailored ansatz)</td><td>No</td><td><code>False</code></td></tr><tr><td>dd_enable</td><td>bool</td><td>Adds dynamical decoupling</td><td>No</td><td><code>False</code></td></tr></tbody></table>
<span id="single-star"></span>
<p>* Available ansatzes</p>
<ul>
<li class=""><code>real_amplitudes</code></li>
<li class=""><code>cyclic</code></li>
<li class=""><code>optimized_real_amplitudes</code></li>
<li class=""><code>tailored</code> (Only for <code>ibm_torino</code> backend, 7 assets, 4 time steps, and 4 resolution qubits)</li>
</ul>
<span id="double-star"></span>
<p>** If <code>multiple_passmanager</code> is set to <code>False</code>, the function uses the default Qiskit pass manager with <code>optimization_level=3</code>. If set to <code>True</code>, the <code>multiple_passmanager</code> subroutine compares three pass managers: the previous default Qiskit pass manager, a pass manager mapping qubits over the QPU first neighbors chain, and the <a class="" href="/guides/ai-transpiler-passes">AI transpiler</a> services. Then, the pass manager with the estimated lower cumulative error is selected.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="optimizer_settings"><code>optimizer_settings</code><a href="#optimizer_settings" class="hash-link" aria-label="Direktang link sa optimizer_settings" title="Direktang link sa optimizer_settings" translate="no">​</a></h2>
<p>This parameter is a dictionary with some tunable options of the optimizing process.</p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th><th>Default</th></tr></thead><tbody><tr><td>primitive_options</td><td>json</td><td>Settings of the primitive</td><td>No</td><td>-</td></tr><tr><td>optimizer</td><td>str</td><td>Selected classical optimizer</td><td>No</td><td><code>&quot;differential_evolution&quot;</code></td></tr><tr><td>optimizer_options</td><td>json</td><td>Configuration of the optimizer</td><td>No</td><td>-</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note</div><div class="admonitionContent_BuS1"><p>Currently, the only optimizer option available is <code>&quot;differential_evolution&quot;</code>.</p></div></div>
<p>Under <code>primitive_options</code> and <code>optimizer_options</code> keys we set dictionaries with the following parameters:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="primitive_options"><code>primitive_options</code><a href="#primitive_options" class="hash-link" aria-label="Direktang link sa primitive_options" title="Direktang link sa primitive_options" translate="no">​</a></h3>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td>sampler_shots</td><td>int</td><td>Number of shots of the Sampler.</td><td>No</td><td>100000</td><td>-</td></tr><tr><td>estimator_shots</td><td>int</td><td>Number of shots of the Estimator.</td><td>No</td><td>25000</td><td>-</td></tr><tr><td>estimator_precision</td><td>float</td><td>Desired precision of the expected value. If specified, the precision will be used instead of the <code>estimator_shots</code>.</td><td>No</td><td><code>None</code></td><td>0.015625 · (1 / sqrt(4096))</td></tr><tr><td>max_time</td><td>int or str</td><td>Maximum amount of time a runtime session can remain open before being forcibly closed. Can be given in seconds (int) or as a string, like <code>&quot;2h 30m 40s&quot;</code>. Must be less than the system-imposed maximum.</td><td>No</td><td><code>None</code></td><td><code>&quot;1h 15m&quot;</code></td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="optimizer_options"><code>optimizer_options</code><a href="#optimizer_options" class="hash-link" aria-label="Direktang link sa optimizer_options" title="Direktang link sa optimizer_options" translate="no">​</a></h3>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th><th>Default</th></tr></thead><tbody><tr><td>num_generations</td><td>int</td><td>Number of generations</td><td>No</td><td>20</td></tr><tr><td>population_size</td><td>int</td><td>Size of the population</td><td>No</td><td>20</td></tr><tr><td>mutation_range</td><td>list</td><td>Maximum and minimum mutation factor</td><td>No</td><td>[0, 0.25]</td></tr><tr><td>recombination</td><td>float</td><td>Recombination factor</td><td>No</td><td>0.4</td></tr><tr><td>max_parallel_jobs</td><td>int</td><td>Maximum number of QPU jobs executed in parallel</td><td>No</td><td>3</td></tr><tr><td>max_batchsize</td><td>int</td><td>Maximum batch size</td><td>No</td><td>200</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note</div><div class="admonitionContent_BuS1"><ul>
<li class="">
<p>The number of generations evaluated by the differential evolution is <code>num_generations</code> + 1 since the initial population is included.</p>
</li>
<li class="">
<p>The total number of circuits is calculated as <code>(num_generations + 1) * population_size</code>.</p>
</li>
<li class="">
<p>Using a larger population size and more generations generally improves the quality of the optimization results. However, it is not recommended to exceed a population size of 120 and a number of generations greater than 20 (for example, <code>120 * 21 = 2520</code> total circuits), as this would generate an excessive number of circuits, which can be computationally expensive and time-consuming to process.</p>
</li>
<li class="">
<p>The function allows you to resume previous optimization, and it is always possible to increase the number of generations (by providing the same input except for <code>previous_session_id</code> and an increased <code>num_generations</code>).</p>
</li>
</ul></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note</div><div class="admonitionContent_BuS1"><p>Ensure compliance with Qiskit Runtime job limits.</p><ul>
<li class="">Sampler: <code>sampler_shots &lt;= 10_000_000</code>.</li>
<li class="">Estimator: <code>max_batchsize * estimator_shots * observable_size &lt;= 10_000_000</code> (for this function, all the terms of the observable commute, so <code>observable_size=1</code>).</li>
</ul><p>See the <a class="" href="/guides/job-limits">Job limits</a> guide for more information.</p></div></div>
<h1>Output</h1>
<p>The function returns two dictionaries: <code>&quot;result&quot;</code> dictionary, containing the best optimization results, including the optimal solution and its associated minimum objective cost; and <code>&quot;metadata&quot;</code>, with data from all results obtained during the optimization process, along with their respective metrics.</p>
<p>The first dictionary focuses on the best-performing solution, while the second provides detailed information about all solutions, including objective costs and other relevant metrics.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="output-dictionaries">Output dictionaries:<a href="#output-dictionaries" class="hash-link" aria-label="Direktang link sa Output dictionaries:" title="Direktang link sa Output dictionaries:" translate="no">​</a></h2>
<table><thead><tr><th><strong>Name</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td>result</td><td>dict[str, dict[str, float]]</td><td>Contains the investment strategy over time, with each time-stamp mapping to asset-specific investment weights (each weight is the investment amount normalized by the total investment amount).</td><td><code>{&#x27;time_1&#x27;: {&#x27;asset_1&#x27;: 0.2, &#x27;asset_2&#x27;: 0.3, ...\}, ...\}</code></td></tr><tr><td>metadata</td><td>dict[str, Any]</td><td>Data generated during the analysis, including solutions, costs, and metrics.</td><td>See examples below</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="description-of-the-metadata-dictionary">Description of the <code>metadata</code> dictionary<a href="#description-of-the-metadata-dictionary" class="hash-link" aria-label="Direktang link sa description-of-the-metadata-dictionary" title="Direktang link sa description-of-the-metadata-dictionary" translate="no">​</a></h3>
<table><thead><tr><th><strong>Name</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td>session_id</td><td>str</td><td>Unique identifier for the IBM Quantum session.</td><td><code>&quot;d0h30qjvpqf00084fgw0&quot;</code></td></tr><tr><td>all_samples_metrics</td><td>dict</td><td>Dictionary containing various metrics for each postprocessed sample, such as costs or constraints.</td><td>See description below</td></tr><tr><td>sampler_counts</td><td>dict[str, int]</td><td>Dictionary where keys are bitstring representations of sampled solutions and values are their counts.</td><td><code>{&quot;101010&quot;: 3, &quot;111000&quot;: 1\}</code></td></tr><tr><td>asset_order</td><td>list[str]</td><td>List with the corresponding investment order of assets at each time step within the investment strategies.</td><td><code>[&quot;Asset_0&quot;, &quot;Asset_1&quot;, &quot;Asset_3&quot;]</code></td></tr><tr><td>QUBO</td><td>list[list[float]]</td><td>QUBO matrix of the problem.</td><td><code>[[-6.96e-01, 5.81e-01, -1.26e-02, 0.00e+00], ...]</code></td></tr><tr><td>resource_summary</td><td>dict[str, dict[str, float]]</td><td>Summary of CPU and QPU usage times (in seconds) across different stages of the process.</td><td><code>{&#x27;RUNNING: EXECUTING_QPU&#x27;: {&#x27;CPU_TIME&#x27;: 412.84, &#x27;QPU_TIME&#x27;: 87.22\}, ...\}</code></td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="description-of-the-all_samples_metrics-dictionary">Description of the <code>all_samples_metrics</code> dictionary<a href="#description-of-the-all_samples_metrics-dictionary" class="hash-link" aria-label="Direktang link sa description-of-the-all_samples_metrics-dictionary" title="Direktang link sa description-of-the-all_samples_metrics-dictionary" translate="no">​</a></h3>
<table><thead><tr><th><strong>Name</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th><th><strong>Example</strong></th></tr></thead><tbody><tr><td>investment_trajectories</td><td>list[list]</td><td>Investment strategies derived from decoded quantum states.</td><td><code>[[1, 2, 2], [1, 2, 1]]</code></td></tr></tbody></table>
<p>| counts                  | list[int]      | Number of times each investment trajectory was sampled. Index matches <code>investment_trajectories</code>.                | <code>[5, 3]</code>                     |
| objective_costs         | list[float]    | Value of the objective function for each investment trajectory, ordered from lowest to highest.                 | <code>[0.98, 1.25]</code>               |
| sharpe_ratios           | list[float]    | Risk-adjusted performance (Sharpe ratio) for each investment trajectory. Aligned by index.                      | <code>[1.1, 0.7]</code>                 |
| returns                 | list[float]    | Expected return for each investment trajectory. Aligned by index.                                               | <code>[0.15, 0.10]</code>               |
| rest_breaches           | list[float]    | Maximum constraint deviation within each investment trajectory. Aligned by index.                               | <code>[0.0, 0.25]</code>                |
| transaction_costs       | list[float]    | Estimated transaction cost associated with each investment trajectory. Aligned by index.                        | <code>[0.01, 0.02]</code>               |</p>
<h1>Get started</h1>
<p>Authenticate using your <a href="https://quantum.cloud.ibm.com/" target="_blank" rel="noopener noreferrer" class="">API key</a> and select the Qiskit Function as follows. (This snippet assumes you&#x27;ve already <a class="" href="/guides/functions#install-qiskit-functions-catalog-client">saved your account</a> to your local environment.)</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit_ibm_catalog </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> QiskitFunctionsCatalog</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">catalog </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> QiskitFunctionsCatalog</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">channel</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ibm_quantum_platform&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Access function</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">dpo_solver </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> catalog</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;global-data-quantum/quantum-portfolio-optimizer&quot;</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-dynamic-portfolio-optimization-with-seven-assets">Example: Dynamic portfolio optimization with seven assets<a href="#example-dynamic-portfolio-optimization-with-seven-assets" class="hash-link" aria-label="Direktang link sa Example: Dynamic portfolio optimization with seven assets" title="Direktang link sa Example: Dynamic portfolio optimization with seven assets" translate="no">​</a></h2>
<p>This example demonstrates how to execute the dynamic portfolio optimization (DPO) function and adjust its settings for optimal performance. It includes detailed steps for fine-tuning the parameters to achieve the desired outcomes.</p>
<p>This case involves seven assets, four time steps, and four resolution qubits, resulting in a total requirement of 112 qubits.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-read-the-assets-included-in-the-portfolio">1. Read the assets included in the portfolio.<a href="#1-read-the-assets-included-in-the-portfolio" class="hash-link" aria-label="Direktang link sa 1. Read the assets included in the portfolio." title="Direktang link sa 1. Read the assets included in the portfolio." translate="no">​</a></h3>
<p>If all the assets in the portfolio are stored in a folder at a specific path, you can load them into a <code>pandas.DataFrame</code> and convert it to a <code>dict</code> format object using the following function.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> glob</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pandas </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> pd</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">read_and_join_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_pattern</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token triple-quoted-string string" style="color:#e3116c">    Reads multiple CSV files matching the file pattern and combines them into a single DataFrame.</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token triple-quoted-string string" style="color:#e3116c">    Parameters:</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token triple-quoted-string string" style="color:#e3116c">    file_pattern (str): The pattern to match CSV files.</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token triple-quoted-string string" style="color:#e3116c">    Returns:</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token triple-quoted-string string" style="color:#e3116c">    pd.DataFrame: Combined DataFrame with data from all CSV files.</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token triple-quoted-string string" style="color:#e3116c">    &quot;&quot;&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Find all files matching the pattern</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    csv_files </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> glob</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">glob</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_pattern</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Get the base file names without the .csv extension</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    file_names </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">basename</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;.csv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> f </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> csv_files</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Read each CSV file into a DataFrame and set the first column as the index</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    df_list </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_index</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Unnamed: 0&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> f </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> csv_files</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Rename columns in each DataFrame to the base file names</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> df</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">zip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">df_list</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> file_names</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">columns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Combine all DataFrames into one by merging them side by side</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    combined_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">concat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">df_list</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> axis</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> combined_df</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">file_pattern </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;route/to/folder/with/assets/data/*.csv&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">assets </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> read_and_join_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file_pattern</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_dict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p>For this example, we have used the assets <a href="https://finance.yahoo.com/quote/8801.T" target="_blank" rel="noopener noreferrer" class="">8801.T</a>, <a href="https://finance.yahoo.com/quote/CLF" target="_blank" rel="noopener noreferrer" class="">CLF</a>, <a href="https://finance.yahoo.com/quote/GBPJPY" target="_blank" rel="noopener noreferrer" class="">GBPJPY</a>, <a href="https://finance.yahoo.com/quote/ITX.MC" target="_blank" rel="noopener noreferrer" class="">ITX.MC</a>, <a href="https://finance.yahoo.com/quote/META" target="_blank" rel="noopener noreferrer" class="">META</a>, <a href="https://finance.yahoo.com/quote/TMBMKDE-10Y" target="_blank" rel="noopener noreferrer" class="">TMBMKDE-10Y</a>, and <a href="https://finance.yahoo.com/quote/XS2239553048" target="_blank" rel="noopener noreferrer" class="">XS2239553048</a>. The following figure illustrates the data used in this example, showing the daily closing price evolution of the assets from 1 January to 1 September in 2023.</p>
<p>In this example, to ensure uniformity across dates, we have filled non-trading days with the closing price from the previous available date. We apply this step because the selected assets come from different markets with varying trading days, making it essential to standardize the dataset for consistency.
<img decoding="async" loading="lazy" alt="Visualization of the historical data of the assets" src="data:image/avif;base64,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" width="486" height="324" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-define-the-problem">2. Define the problem.<a href="#2-define-the-problem" class="hash-link" aria-label="Direktang link sa 2. Define the problem." title="Direktang link sa 2. Define the problem." translate="no">​</a></h3>
<p>Define the specifications of the problem by configuring the parameters in the <code>qubo_settings</code> dictionary.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qubo_settings </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;nt&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;nq&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;dt&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;max_investment&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;risk_aversion&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;transaction_fee&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.01</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;restriction_coeff&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span><br></span></code></pre></div></div></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-define-the-optimizer-and-ansatz-settings-optional">3. Define the optimizer and ansatz settings. (Optional)<a href="#3-define-the-optimizer-and-ansatz-settings-optional" class="hash-link" aria-label="Direktang link sa 3. Define the optimizer and ansatz settings. (Optional)" title="Direktang link sa 3. Define the optimizer and ansatz settings. (Optional)" translate="no">​</a></h3>
<p>Optionally define specific requirements for the optimization process, including the selection of the optimizer and its parameters, as well as the specification of the primitive and its configurations.</p>
<p>For the Tailored Ansatz, the chosen population size was based on previous experiments showing that this value yields stable and efficient optimization.</p>
<p>In the case of the Real Amplitudes Ansatz, you can follow a linear relationship between the <code>population_size</code> and the number of qubits in the circuit. As an approximated rule of thumb, it is recommended to use a <strong>minimum</strong> <code>population_size ~ 0.8 * n_qubits</code> for the <code>real_amplitudes</code> ansatz.</p>
<p>It is expected that the Optimized Real Amplitudes will have a better optimization performance than the Real Amplitudes ansatz. However, the number of variables to optimize in this ansatz increases much faster than in the Real Amplitudes case (see the <a href="https://arxiv.org/pdf/2412.19150" target="_blank" rel="noopener noreferrer" class="">manuscript</a>). Thus, for large problems, the Optimized Real Amplitudes requires more circuit executions. The Optimized Real Amplitudes is likely to be useful for problems requiring up to 100 qubits, but it is recommended to be mindful when setting the <code>population_size</code> parameters. As an example of this scale-up in <code>population_size</code>, the previous table shows that for an 84-qubit problem, the Optimize Real Amplitudes requires 120 <code>population_size</code>, while for a 56-qubit problem, a <code>population_size</code> of 40 is enough.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">optimizer_settings </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;de_optimizer_settings&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;num_generations&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;population_size&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">90</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;recombination&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;max_parallel_jobs&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;max_batchsize&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;mutation_range&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.25</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;optimizer&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;differential_evolution&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;primitive_settings&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;estimator_shots&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25_000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;estimator_precision&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;sampler_shots&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100_000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span><br></span></code></pre></div></div></div></div>
<p>It is also possible to choose a specific ansatz. The following uses the <code>&#x27;Tailored&#x27;</code> ansatz.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ansatz_settings </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;ansatz&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;tailored&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;multiple_passmanager&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span><br></span></code></pre></div></div></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-run-the-problem">4. Run the problem.<a href="#4-run-the-problem" class="hash-link" aria-label="Direktang link sa 4. Run the problem." title="Direktang link sa 4. Run the problem." translate="no">​</a></h3>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">dpo_job </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> dpo_solver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    assets</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">assets</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    qubo_settings</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">qubo_settings</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    optimizer_settings</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">optimizer_settings</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ansatz_settings</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ansatz_settings</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    backend_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;&lt;backend name&gt;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    previous_session_id</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    apply_postprocess</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-retrieve-results">5. Retrieve results.<a href="#5-retrieve-results" class="hash-link" aria-label="Direktang link sa 5. Retrieve results." title="Direktang link sa 5. Retrieve results." translate="no">​</a></h3>
<p>As mentioned in the <a href="#output" class="">Output</a> section, the function returns a dictionary with the investment trajectories ordered from lowest to highest according to their objective function value. This set of results allows for the identification of the trajectory with the lowest cost and its corresponding investment evaluations. Additionally, it provides for the analysis of different trajectories, facilitating the selection of those that best align with specific needs or objectives. This flexibility ensures that choices can be tailored to suit a variety of preferences or scenarios.
Begin by presenting the resulting strategy that achieved the lowest objective cost found during the process.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># Get the results of the job</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">dpo_result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> dpo_job</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Show the solution strategy</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">dpo_result</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;result&quot;</span><span class="token punctuation" style="color:#393A34">]</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&#x27;time_step_0&#x27;: {&#x27;8801.T&#x27;: 0.11764705882352941,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;ITX.MC&#x27;: 0.20588235294117646,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;META&#x27;: 0.38235294117647056,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;GBPJPY=X&#x27;: 0.058823529411764705,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;TMBMKDE-10Y&#x27;: 0.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;CLF&#x27;: 0.058823529411764705,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;XS2239553048&#x27;: 0.17647058823529413},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;time_step_1&#x27;: {&#x27;8801.T&#x27;: 0.11428571428571428,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;ITX.MC&#x27;: 0.14285714285714285,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;META&#x27;: 0.2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;GBPJPY=X&#x27;: 0.02857142857142857,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;TMBMKDE-10Y&#x27;: 0.42857142857142855,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;CLF&#x27;: 0.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;XS2239553048&#x27;: 0.08571428571428572},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;time_step_2&#x27;: {&#x27;8801.T&#x27;: 0.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;ITX.MC&#x27;: 0.09375,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;META&#x27;: 0.3125,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;GBPJPY=X&#x27;: 0.34375,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;TMBMKDE-10Y&#x27;: 0.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;CLF&#x27;: 0.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;XS2239553048&#x27;: 0.25},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;time_step_3&#x27;: {&#x27;8801.T&#x27;: 0.3939393939393939,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;ITX.MC&#x27;: 0.09090909090909091,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;META&#x27;: 0.12121212121212122,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;GBPJPY=X&#x27;: 0.18181818181818182,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;TMBMKDE-10Y&#x27;: 0.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;CLF&#x27;: 0.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;XS2239553048&#x27;: 0.21212121212121213}}</span><br></span></code></pre></div></div>
<p>Afterwards, using the metadata, you can access the results of all the sampled strategies. You can thereby further analyze the alternative trajectories returned by the optimizer. To do this, read the dictionary stored in <code>dpo_result[&#x27;metadata&#x27;][&#x27;all_samples_metrics&#x27;]</code>, which contains not only additional information about the optimal strategy, but also details of the other candidate strategies evaluated during the optimization.</p>
<p>The following example shows how to read this information using <code>pandas</code> to extract key metrics associated with the optimal strategy. These include Restriction Deviation, Sharpe Ratio, and the corresponding investment return.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># Convert metadata to a DataFrame</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dpo_result</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;metadata&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;all_samples_metrics&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Find the minimum objective cost</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">min_cost </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;objective_costs&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">min</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Minimum Objective Cost Found: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">min_cost</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">.2f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Extract the row with the lowest cost</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">best_row </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;objective_costs&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> min_cost</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">iloc</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Display the results associated with the best solution</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Best Solution:&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;  - Restriction Deviation: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">best_row</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;rest_breaches&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">]</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">%&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;  - Sharpe Ratio: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">best_row</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;sharpe_ratios&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">]</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">.2f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;  - Return: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">best_row</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[</span><span class="token string-interpolation interpolation string" style="color:#e3116c">&#x27;returns&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">]</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Minimum Objective Cost Found: -3.78</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Best Solution:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - Restriction Deviation: 40.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - Sharpe Ratio: 24.82</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - Return: 0.46</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="6-performance-analysis">6. Performance analysis<a href="#6-performance-analysis" class="hash-link" aria-label="Direktang link sa 6. Performance analysis" title="Direktang link sa 6. Performance analysis" translate="no">​</a></h3>
<p>Last, analyze the performance of your optimization application. Specifically, compare your results, obtained in the previous example, against a random baseline to assess the effectiveness of our approach. If the quantum algorithm demonstrably and consistently produces results with lower cost values, it indicates an effective optimization process.</p>
<p>The figure presents the probability distributions of the objective costs. To generate these distributions, take the list of objective costs from the function result and count the occurrences of each cost value (values rounded to the second decimal place). Then, update the count column accordingly by joining counts of identical rounded values. Note that, for better visual comparison, the occurrence counts have been normalized so that each distribution is displayed between 0 and 1.
<img decoding="async" loading="lazy" alt="Visualization of the solution of the optimization" src="/assets/images/cost_distribution-fc97342f26992571b7ef89ec7d4f14ba.svg" width="1220" height="637" class="img_ev3q">
As shown in the figure (blue solid line), the cost distribution for our Variational Quantum Eigensolver (post-processed with SQD) approach is sharply concentrated at lower objective cost values, indicating good optimization performance. In contrast, the noisy baseline exhibits a broader distribution, centered around higher cost values. The gray dashed vertical line represents the mean value of the random distribution, further highlighting the consistency of the function in returning optimized investment strategies. For an additional comparison, the black dashed line in the figure corresponds to the solution obtained with the Gurobi optimizer (free version). All these results are further explored in the benchmarks below for the &quot;Mixed Assets&quot; example evaluated with the &quot;Tailored&quot; ansatz.</p>
<h1>Benchmarks</h1>
<p>This function was tested under different configurations of resolution qubits, ansatz circuits, and groupings of assets from various sectors: a mix of different assets (Set 1), oil derivatives (Set 2), and IBEX35 (Set 3). See more details in the following table.</p>
<table><thead><tr><th>Set</th><th>Date</th><th>Assets</th></tr></thead><tbody><tr><td><strong>Set 1</strong></td><td>01/01/2023</td><td>8801.T, CL=F, GBPJPY=X, ITX.MC, META, TMBMKDE-10Y, XS2239553048</td></tr><tr><td><strong>Set 2</strong></td><td>01/06/2023</td><td>CL=F, BZ=F, HO=F, NG=F, XOM, RB=F, 2222.SR</td></tr><tr><td><strong>Set 3</strong></td><td>01/11/2022</td><td>ACS.MC, ITX.MC, FER.MC, ELE.MC, SCYR.MC, AENA.MC, AMS.MC</td></tr></tbody></table>
<p>Two key metrics were used to evaluate solution quality.</p>
<ol>
<li class="">The objective cost, which measures optimization efficiency by comparing the cost function value from each experiment with results from Gurobi (free version).</li>
<li class="">The Sharpe ratio, which captures the risk-adjusted return of each portfolio, offering insight into the financial performance of the solutions.</li>
</ol>
<p>Together, these metrics benchmark both computational and financial aspects of the quantum-generated portfolios.</p>
<table><thead><tr><th>Example</th><th>Qubits</th><th>Ansatz</th><th>Depth</th><th>Runtime Usage (s)</th><th>Total usage (s)</th><th>Objective cost</th><th>Sharpe</th><th>Gurobi objective cost</th><th>Gurobi Sharpe</th></tr></thead><tbody><tr><td>Mixed Assets (Set 1, 4 time steps, 4-bit)</td><td>112</td><td>Tailored</td><td>83</td><td>12735</td><td>13095</td><td>-3.78</td><td>24.82</td><td>-4.25</td><td>24.71</td></tr><tr><td>Mixed Assets (Set 1,4 time steps, 4 time steps, 4-bit)</td><td>112</td><td>Real Amplitudes</td><td>359</td><td>11739</td><td>11903</td><td>-3.39</td><td>23.64</td><td>-4.25</td><td>24.71</td></tr><tr><td>Oil Derivatives (Set 2, 4 time steps, 3-bit)</td><td>84</td><td>Optimized Real Amplitudes</td><td>78</td><td>6180</td><td>6350</td><td>-3.73</td><td>19.13</td><td>-4.19</td><td>21.71</td></tr><tr><td>IBEX35 (Set 3, 4 time steps, 2-bit)</td><td>56</td><td>Optimized Real Amplitudes</td><td>96</td><td>3314</td><td>3523</td><td>-3.67</td><td>14.48</td><td>-4.11</td><td>16.44</td></tr></tbody></table>
<p>Results show that the quantum optimizer, with problem-specific ansatzes, effectively identifies efficient investment strategies across various portfolio types.
Below we detail both the population size and the number of generations specified in the <code>optimizer_options</code> dictionary. All other parameters were set to their default values.</p>
<table><thead><tr><th><strong>Example</strong></th><th><code>population_size</code></th><th><code>num_generations</code></th></tr></thead><tbody><tr><td>Mixed Assets Portfolio</td><td>90</td><td>20</td></tr><tr><td>Mixed Assets Portfolio</td><td>92</td><td>20</td></tr><tr><td>Oil Derivatives Portfolio</td><td>120</td><td>20</td></tr><tr><td>IBEX35 Portfolio</td><td>40</td><td>20</td></tr></tbody></table>
<p>The number of generations was set to 20, as this value was found to be sufficient to reach convergence. Additionally, the default values for the optimizer&#x27;s internal parameters were left unchanged, as they consistently provided good performance and are generally recommended by the literature and implementation guidelines.</p>
<h1>Get support</h1>
<p>If you need help, you can send an email to <a href="mailto:qpo.support@globaldataquantum.com" target="_blank" rel="noopener noreferrer" class="">qpo.support@globaldataquantum.com</a>. In your message, provide the function job ID.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="next-steps">Next steps<a href="#next-steps" class="hash-link" aria-label="Direktang link sa Next steps" title="Direktang link sa Next steps" translate="no">​</a></h2>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Recommendations</div><div class="admonitionContent_BuS1"><ul>
<li class="">Read <a href="https://arxiv.org/pdf/2412.19150" target="_blank" rel="noopener noreferrer" class="">the associated research paper</a>.</li>
<li class="">Request access to the function by filling in <a href="https://www.globaldataquantum.com/en/quantum-portfolio-optimizer/#form" target="_blank" rel="noopener noreferrer" class="">this form</a>.</li>
<li class="">Try the <a class="" href="/tutorials/global-data-quantum-optimizer">Dynamic Portfolio Optimization</a> tutorial.</li>
</ul></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><div class="dq-edit-bookmark-row"><a href="https://github.com/JanLahmann/doQumentation/tree/main/docs/guides/global-data-quantum-optimizer.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>I-edit ang pahinang ito</a><button class="dq-bookmark-button" title="Bookmark this page" aria-label="Bookmark this page"><span class="dq-bookmark-button__icon" aria-hidden="true">☆</span>Bookmark</button></div></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Mga pahina ng dokumentasyon"><a class="pagination-nav__link pagination-nav__link--prev" href="/guides/q-ctrl-optimization-solver"><div class="pagination-nav__sublabel">Nakaraan</div><div class="pagination-nav__label">Optimization Solver - A Qiskit Function by Q-CTRL Fire Opal</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/guides/colibritd-pde"><div class="pagination-nav__sublabel">Susunod</div><div class="pagination-nav__label">QUICK-PDE - A Qiskit Function by ColibriTD</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#assets" class="table-of-contents__link toc-highlight"><code>assets</code></a><ul><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li></ul></li><li><a href="#qubo_settings" class="table-of-contents__link toc-highlight"><code>qubo_settings</code></a></li><li><a href="#ansatz_settings" class="table-of-contents__link toc-highlight"><code>ansatz_settings</code></a></li><li><a href="#optimizer_settings" class="table-of-contents__link toc-highlight"><code>optimizer_settings</code></a><ul><li><a href="#primitive_options" class="table-of-contents__link toc-highlight"><code>primitive_options</code></a></li><li><a href="#optimizer_options" class="table-of-contents__link toc-highlight"><code>optimizer_options</code></a></li></ul></li><li><a href="#output-dictionaries" class="table-of-contents__link toc-highlight">Output dictionaries:</a><ul><li><a href="#description-of-the-metadata-dictionary" class="table-of-contents__link toc-highlight">Description of the <code>metadata</code> dictionary</a></li><li><a href="#description-of-the-all_samples_metrics-dictionary" class="table-of-contents__link toc-highlight">Description of the <code>all_samples_metrics</code> dictionary</a></li></ul></li><li><a href="#example-dynamic-portfolio-optimization-with-seven-assets" class="table-of-contents__link toc-highlight">Example: Dynamic portfolio optimization with seven assets</a><ul><li><a href="#1-read-the-assets-included-in-the-portfolio" class="table-of-contents__link toc-highlight">1. Read the assets included in the portfolio.</a></li><li><a href="#2-define-the-problem" class="table-of-contents__link toc-highlight">2. Define the problem.</a></li><li><a href="#3-define-the-optimizer-and-ansatz-settings-optional" class="table-of-contents__link toc-highlight">3. Define the optimizer and ansatz settings. (Optional)</a></li><li><a href="#4-run-the-problem" class="table-of-contents__link toc-highlight">4. Run the problem.</a></li><li><a href="#5-retrieve-results" class="table-of-contents__link toc-highlight">5. Retrieve results.</a></li><li><a href="#6-performance-analysis" class="table-of-contents__link toc-highlight">6. Performance analysis</a></li></ul></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next steps</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">doQumentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/features">Mga Tampok</a></li><li class="footer__item"><a class="footer__link-item" href="/jupyter-settings">Settings</a></li><li class="footer__item"><a href="https://github.com/JanLahmann/doQumentation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">RasQberry</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://rasqberry.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">RasQberry<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/JanLahmann/RasQberry-Two" target="_blank" rel="noopener noreferrer" class="footer__link-item">RasQberry GitHub<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">IBM Quantum &amp; Qiskit</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://quantum.cloud.ibm.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM Quantum<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://quantum.cloud.ibm.com/docs/en/guides" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dokumentasyon ng Qiskit<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/Qiskit/documentation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Qiskit Docs GitHub<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://qisk.it/join-slack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Qiskit Slack<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Ang nilalaman ng <a href="https://github.com/Qiskit/documentation">Dokumentasyon ng Qiskit</a> © IBM Corp. Ang code ay lisensyado sa ilalim ng Apache 2.0; ang nilalaman (mga tutorial, kurso, media) sa ilalim ng CC BY-SA 4.0.<br>Ang IBM, IBM Quantum at Qiskit ay mga tatak ng IBM Corporation.<br>Ang doQumentation ay bahagi ng proyektong <a href="https://rasqberry.org/">RasQberry</a> at hindi nauugnay, sinusuportahan, o sponsoran ng IBM Corporation.</div></div></div></footer></div>
</body>
</html>