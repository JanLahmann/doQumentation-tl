<!doctype html>
<html lang="tl" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorials/fractional-gates" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Introduction to fractional gates | doQumentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://tl.doqumentation.org/img/rasqberry-social-card.png"><meta data-rh="true" name="twitter:image" content="https://tl.doqumentation.org/img/rasqberry-social-card.png"><meta data-rh="true" property="og:url" content="https://tl.doqumentation.org/tutorials/fractional-gates"><meta data-rh="true" property="og:locale" content="tl"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="uk"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="it"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="ar"><meta data-rh="true" property="og:locale:alternate" content="he"><meta data-rh="true" property="og:locale:alternate" content="swg"><meta data-rh="true" property="og:locale:alternate" content="bad"><meta data-rh="true" property="og:locale:alternate" content="bar"><meta data-rh="true" name="docusaurus_locale" content="tl"><meta data-rh="true" name="docsearch:language" content="tl"><meta data-rh="true" property="og:type" content="website"><meta data-rh="true" property="og:site_name" content="doQumentation"><meta data-rh="true" name="twitter:title" content="doQumentation"><meta data-rh="true" name="twitter:description" content="Open-source frontend for IBM Quantum tutorials, courses, and documentation with live code execution."><meta data-rh="true" name="theme-color" content="#161616"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Introduction to fractional gates | doQumentation"><meta data-rh="true" name="description" content="Fractional gates, parameterized quantum gates that enable direct execution of arbitrary-angle rotations, can reduce depth and duration of quantum circuits."><meta data-rh="true" property="og:description" content="Fractional gates, parameterized quantum gates that enable direct execution of arbitrary-angle rotations, can reduce depth and duration of quantum circuits."><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://tl.doqumentation.org/tutorials/fractional-gates"><link data-rh="true" rel="alternate" href="https://doqumentation.org/tutorials/fractional-gates" hreflang="en"><link data-rh="true" rel="alternate" href="https://de.doqumentation.org/tutorials/fractional-gates" hreflang="de"><link data-rh="true" rel="alternate" href="https://es.doqumentation.org/tutorials/fractional-gates" hreflang="es"><link data-rh="true" rel="alternate" href="https://uk.doqumentation.org/tutorials/fractional-gates" hreflang="uk"><link data-rh="true" rel="alternate" href="https://fr.doqumentation.org/tutorials/fractional-gates" hreflang="fr"><link data-rh="true" rel="alternate" href="https://it.doqumentation.org/tutorials/fractional-gates" hreflang="it"><link data-rh="true" rel="alternate" href="https://pt.doqumentation.org/tutorials/fractional-gates" hreflang="pt"><link data-rh="true" rel="alternate" href="https://ja.doqumentation.org/tutorials/fractional-gates" hreflang="ja"><link data-rh="true" rel="alternate" href="https://tl.doqumentation.org/tutorials/fractional-gates" hreflang="tl"><link data-rh="true" rel="alternate" href="https://ar.doqumentation.org/tutorials/fractional-gates" hreflang="ar"><link data-rh="true" rel="alternate" href="https://he.doqumentation.org/tutorials/fractional-gates" hreflang="he"><link data-rh="true" rel="alternate" href="https://swg.doqumentation.org/tutorials/fractional-gates" hreflang="swg"><link data-rh="true" rel="alternate" href="https://bad.doqumentation.org/tutorials/fractional-gates" hreflang="bad"><link data-rh="true" rel="alternate" href="https://bar.doqumentation.org/tutorials/fractional-gates" hreflang="bar"><link data-rh="true" rel="alternate" href="https://doqumentation.org/tutorials/fractional-gates" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Mga Tutorial","item":"https://tl.doqumentation.org/tutorials/"},{"@type":"ListItem","position":2,"name":"Introduction to fractional gates","item":"https://tl.doqumentation.org/tutorials/fractional-gates"}]}</script><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
<link rel="preconnect" href="https://cdn.jsdelivr.net">
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large">
<script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","name":"doQumentation","url":"https://doqumentation.org","logo":"https://doqumentation.org/img/logo.svg","description":"Open-source frontend for IBM Quantum tutorials, courses, and documentation with live code execution.","sameAs":["https://github.com/JanLahmann/doQumentation"]}</script>
<script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","name":"doQumentation","description":"doQumentation adds a feature-rich, user-friendly, open-source frontend to IBM Quantum tutorials, courses, and documentation.","url":"https://doqumentation.org","isPartOf":{"@type":"WebSite","name":"doQumentation","url":"https://doqumentation.org"}}</script>
<script type="application/ld+json">{"@context":"https://schema.org","@type":"SoftwareApplication","name":"doQumentation","applicationCategory":"EducationalApplication","operatingSystem":"Web, Docker, Raspberry Pi","description":"Open-source frontend for IBM Quantum documentation with live Jupyter code execution, simulator mode, and offline support.","url":"https://doqumentation.org","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"license":"https://www.apache.org/licenses/LICENSE-2.0"}</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
<script src="https://unpkg.com/thebelab@0.4.0/lib/index.js" async></script><link rel="stylesheet" href="/assets/css/styles.7532f41c.css">
<script src="/assets/js/runtime~main.b58c4dac.js" defer="defer"></script>
<script src="/assets/js/main.6004524a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Lumaktaw sa pangunahing nilalaman"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Lumaktaw sa pangunahing nilalaman</a></div><nav aria-label="Pangunahing nabigasyon" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="I-toggle ang navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="doQumentation Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="doQumentation Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">doQumentation</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/tutorials">Mga Tutorial</a><a class="navbar__item navbar__link" href="/guides">Mga Gabay</a><a class="navbar__item navbar__link" href="/learning/courses/basics-of-quantum-information">Mga Kurso</a><a class="navbar__item navbar__link" href="/learning/modules/computer-science">Mga Modyul</a><a href="https://quantum.cloud.ibm.com/docs/en/api" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Sanggunian ng API<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link navbar-locale-dropdown"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Filipino</a><ul class="dropdown__menu"><li><a href="https://doqumentation.org/tutorials/fractional-gates" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="https://de.doqumentation.org/tutorials/fractional-gates" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="https://es.doqumentation.org/tutorials/fractional-gates" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="https://uk.doqumentation.org/tutorials/fractional-gates" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="uk">Українська</a></li><li><a href="https://fr.doqumentation.org/tutorials/fractional-gates" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="https://it.doqumentation.org/tutorials/fractional-gates" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="https://pt.doqumentation.org/tutorials/fractional-gates" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li><li><a href="https://ja.doqumentation.org/tutorials/fractional-gates" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/tutorials/fractional-gates" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="tl">Filipino</a></li><li><a href="https://ar.doqumentation.org/tutorials/fractional-gates" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ar">العربية</a></li><li><a href="https://he.doqumentation.org/tutorials/fractional-gates" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="he">עברית</a></li><li><a href="https://swg.doqumentation.org/tutorials/fractional-gates" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="swg">Schwäbisch</a></li><li><a href="https://bad.doqumentation.org/tutorials/fractional-gates" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="bad">Badisch</a></li><li><a href="https://bar.doqumentation.org/tutorials/fractional-gates" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="bar">Boarisch</a></li></ul></div><a class="navbar__item navbar__link header-settings-link" aria-label="Settings" href="/jupyter-settings">Settings</a><a href="https://github.com/JanLahmann/doQumentation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository">GitHub<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="System mode" aria-label="Magpalipat-lipat sa pagitan ng madilim at maliwanag na view (kasalukuyang System mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Maghanap" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Bumalik sa itaas" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Sidebar ng dokumentasyon" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/"><span title="Home" class="linkLabel_WmDU">Home</span></a></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/tutorials"><span title="Mga Tutorial" class="categoryLinkLabel_W154">Mga Tutorial</span></a><button aria-label="I-collapse ang kategorya ng sidebar na &#x27;Mga Tutorial&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/hello-world"><span title="Hello World: Your First Quantum Circuit" class="linkLabel_WmDU">Hello World: Your First Quantum Circuit</span></a></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tutorials/chsh-inequality"><span title="Magsimula" class="categoryLinkLabel_W154">Magsimula</span></a></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tutorials/sample-based-quantum-diagonalization"><span title="Tuklasin ang mga workflow tungo sa quantum advantage" class="categoryLinkLabel_W154">Tuklasin ang mga workflow tungo sa quantum advantage</span></a></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/tutorials/edc-cut-bell-pair-benchmarking"><span title="Samantalahin ang mga kakayahan ng Qiskit" class="categoryLinkLabel_W154">Samantalahin ang mga kakayahan ng Qiskit</span></a></div><ul class="menu__list"><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/tutorials/edc-cut-bell-pair-benchmarking"><span title="Pag-optimize ng workload" class="categoryLinkLabel_W154">Pag-optimize ng workload</span></a></div><ul class="menu__list"><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/edc-cut-bell-pair-benchmarking"><span title="Benchmark dynamic circuits with cut Bell pairs" class="linkLabel_WmDU">Benchmark dynamic circuits with cut Bell pairs</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tutorials/fractional-gates"><span title="Introduction to fractional gates" class="linkLabel_WmDU">Introduction to fractional gates</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/ai-transpiler-introduction"><span title="Qiskit AI-powered transpiler service introduction" class="linkLabel_WmDU">Qiskit AI-powered transpiler service introduction</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/transpilation-optimizations-with-sabre"><span title="Transpilation optimizations with SABRE" class="linkLabel_WmDU">Transpilation optimizations with SABRE</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/long-range-entanglement"><span title="Long-range entanglement gamit ang mga dynamic na circuit" class="linkLabel_WmDU">Long-range entanglement gamit ang mga dynamic na circuit</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/compilation-methods-for-hamiltonian-simulation-circuits"><span title="Compilation methods for Hamiltonian simulation circuits" class="linkLabel_WmDU">Compilation methods for Hamiltonian simulation circuits</span></a></li></div><div class="dq-sidebar-link"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/dc-hex-ising"><span title="Simulation ng kicked Ising Hamiltonian gamit ang dynamic circuits" class="linkLabel_WmDU">Simulation ng kicked Ising Hamiltonian gamit ang dynamic circuits</span></a></li></div></ul></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tutorials/global-data-quantum-optimizer"><span title="Qiskit Functions" class="categoryLinkLabel_W154">Qiskit Functions</span></a></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tutorials/multi-product-formula"><span title="Mga Qiskit addon" class="categoryLinkLabel_W154">Mga Qiskit addon</span></a></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tutorials/probabilistic-error-amplification"><span title="Pagpapaliit ng error" class="categoryLinkLabel_W154">Pagpapaliit ng error</span></a></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tutorials/repetition-codes"><span title="Pagtuklas ng error" class="categoryLinkLabel_W154">Pagtuklas ng error</span></a></div></li></div></ul></li></div></ul></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/guides"><span title="Mga Gabay" class="categoryLinkLabel_W154">Mga Gabay</span></a><button aria-label="I-expand ang kategorya ng sidebar na &#x27;Mga Gabay&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/learning/courses/basics-of-quantum-information"><span title="Mga Kurso" class="categoryLinkLabel_W154">Mga Kurso</span></a></div></li></div><div class="dq-sidebar-category"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/learning/modules/computer-science"><span title="Mga Modyul" class="categoryLinkLabel_W154">Mga Modyul</span></a></div></li></div></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/tutorials"><span>Mga Tutorial</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Samantalahin ang mga kakayahan ng Qiskit</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Pag-optimize ng workload</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Introduction to fractional gates</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sa pahinang ito</button></div><div class="theme-doc-markdown markdown"><header><h1>Introduction to fractional gates</h1></header>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Hindi pa naisalin</div><div class="admonitionContent_BuS1"><p>Ang pahinang ito ay hindi pa naisalin. Nakikita mo ang orihinal na bersyon sa Ingles.</p></div></div>
<!-- -->
<p><em>Usage estimate: under 30 seconds on a Heron r2 processor (NOTE: This is an estimate only. Your runtime may vary.)</em></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="background">Background<a href="#background" class="hash-link" aria-label="Direktang link sa Background" title="Direktang link sa Background" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="fractional-gates-on-ibm-qpus">Fractional gates on IBM QPUs<a href="#fractional-gates-on-ibm-qpus" class="hash-link" aria-label="Direktang link sa Fractional gates on IBM QPUs" title="Direktang link sa Fractional gates on IBM QPUs" translate="no">​</a></h3>
<p>Fractional gates are parameterized quantum gates that enable direct execution of arbitrary-angle rotations (within specific bounds),
eliminating the need to decompose them into multiple basis gates.
By leveraging the native interactions between physical qubits, users can implement certain unitaries more efficiently on hardware.</p>
<p>IBM Quantum® Heron QPUs support the following fractional gates:</p>
<ul>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>Z</mi><mi>Z</mi></mrow></msub><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R_{ZZ}(\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">ZZ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span></span></span></span> for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>θ</mi><mo>&lt;</mo><mi>π</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">0 &lt; \theta &lt; \pi / 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.03588em">π</span><span class="mord">/2</span></span></span></span></li>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>X</mi></msub><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R_X(\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em">X</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span></span></span></span> for any real value <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span></span></li>
</ul>
<p>These gates can significantly reduce both the depth and duration of quantum circuits.
They are particularly advantageous in applications that rely heavily on <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>Z</mi><mi>Z</mi></mrow></msub></mrow><annotation encoding="application/x-tex">R_{ZZ}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">ZZ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>X</mi></msub></mrow><annotation encoding="application/x-tex">R_X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em">X</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>,
such as Hamiltonian simulation, the Quantum Approximate Optimization Algorithm (QAOA), and quantum kernel methods.
In this tutorial, we focus on the quantum kernel as a practical example.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="limitations">Limitations<a href="#limitations" class="hash-link" aria-label="Direktang link sa Limitations" title="Direktang link sa Limitations" translate="no">​</a></h3>
<p>Fractional gates are currently an experimental feature and come with a few constraints:</p>
<ul>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>Z</mi><mi>Z</mi></mrow></msub></mrow><annotation encoding="application/x-tex">R_{ZZ}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">ZZ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> is limited to angles in the range <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>θ</mi><mo>&lt;</mo><mi>π</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">0 &lt; \theta &lt; \pi / 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.03588em">π</span><span class="mord">/2</span></span></span></span>.</li>
<li class="">Using fractional gates is not supported for <a class="" href="/guides/classical-feedforward-and-control-flow">dynamic circuits</a>, <a class="" href="/guides/error-mitigation-and-suppression-techniques#pauli-twirling">Pauli twirling</a>, <a class="" href="/guides/error-mitigation-and-suppression-techniques#probabilistic-error-cancellation-pec">probabilistic error cancellation</a> (PEC), and <a class="" href="/guides/error-mitigation-and-suppression-techniques#zero-noise-extrapolation-zne">zero-noise extrapolation</a> (ZNE) (using <a class="" href="/guides/error-mitigation-and-suppression-techniques#probabilistic-error-amplification-pea">probabilistic error amplification</a> (PEA)).</li>
</ul>
<p>Fractional gates require a different workflow compared to the standard approach.
This tutorial explains how to work with fractional gates through a practical application.</p>
<p>See the following for more details on fractional gates.</p>
<ul>
<li class=""><a class="" href="/guides/fractional-gates">Fractional gates</a></li>
<li class=""><a class="" href="/guides/fractional-gates#when-not-to-use">When <em>not</em> to use fractional gates</a></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direktang link sa Overview" title="Direktang link sa Overview" translate="no">​</a></h2>
<p>The workflow for using the fractional gates generally follows the <a class="" href="/guides/intro-to-patterns">Qiskit patterns</a> workflow.
The key difference is that all RZZ angles must satisfy the constraint <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>θ</mi><mo>≤</mo><mi>π</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">0 &lt; \theta \leq \pi/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.136em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.03588em">π</span><span class="mord">/2</span></span></span></span>.
There are two approaches to ensure this condition is met.
This tutorial focuses on and recommends the second approach.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># Added by doQumentation — installs packages not in the Binder environment</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token operator" style="color:#393A34">%</span><span class="token plain">pip install </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">q qiskit</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">basis</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">constructor</span></span><br></span></code></pre></div></div></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-generate-parameter-values-that-satisfy-the-rzz-angle-constraint">1. Generate parameter values that satisfy the RZZ angle constraint<a href="#1-generate-parameter-values-that-satisfy-the-rzz-angle-constraint" class="hash-link" aria-label="Direktang link sa 1. Generate parameter values that satisfy the RZZ angle constraint" title="Direktang link sa 1. Generate parameter values that satisfy the RZZ angle constraint" translate="no">​</a></h3>
<p>If you are confident that all RZZ angles fall within the valid range, you can follow the standard Qiskit patterns workflow.
In this case, you simply submit the parameter values as part of a PUB. The workflow proceeds as follows.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pm </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> generate_preset_pass_manager</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">backend</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">backend</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">t_circuit </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">circuit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">t_observable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> observable</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">apply_layout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t_circuit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">layout</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t_circuit</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> parameter_values</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">estimator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t_circuit</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> t_observable</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> parameter_values</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p>If you attempt to submit a PUB that includes an RZZ gate with an angle outside the valid range, you will encounter an error message such as:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;The instruction rzz is supported only for angles in the range [0, pi/2], but an angle (20.0) outside of this range has been requested; via parameter value(s) γ[0]=10.0, substituted in parameter expression 2.0*γ[0].&#x27;</span><br></span></code></pre></div></div>
<p>To avoid this error, you should consider the second approach described below.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-assign-parameter-values-to-circuits-before-transpilation">2. Assign parameter values to circuits before transpilation<a href="#2-assign-parameter-values-to-circuits-before-transpilation" class="hash-link" aria-label="Direktang link sa 2. Assign parameter values to circuits before transpilation" title="Direktang link sa 2. Assign parameter values to circuits before transpilation" translate="no">​</a></h3>
<p>The <code>qiskit-ibm-runtime</code> package provides a specialized transpiler pass called <a href="https://docs.quantum.ibm.com/api/qiskit-ibm-runtime/transpiler-passes-fold-rzz-angle" target="_blank" rel="noopener noreferrer" class=""><code>FoldRzzAngle</code></a>.
This pass transforms quantum circuits so that all RZZ angles comply with the RZZ angle constraint.
If you provide the backend to <code>generate_preset_pass_manager</code> or <code>transpile</code>, Qiskit automatically applies <code>FoldRzzAngle</code> to the quantum circuits.
This asks you to assign parameter values to quantum circuits before transpilation.
The workflow proceeds as follows.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pm </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> generate_preset_pass_manager</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">backend</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">backend</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">b_circuit </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> circuit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">assign_parameters</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">parameter_values</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">t_circuit </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b_circuit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">t_observable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> observable</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">apply_layout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t_circuit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">layout</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t_circuit</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">estimator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t_circuit</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> t_observable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p>Note that this workflow incurs a higher computational cost than the first approach, as it involves assigning parameter values to quantum circuits and storing the parameter-bound circuits locally.
Additionally, there is a known issue in Qiskit where the transformation of RZZ gates may fail in certain scenarios. For a workaround, please refer to the <a href="#troubleshooting" class="">Troubleshooting</a> section.
This tutorial demonstrates how to use fractional gates via the second approach through an example inspired by the quantum kernel method.
To better understand where quantum kernels are likely to be useful, we recommend reading <a href="https://www.nature.com/articles/s41567-021-01287-z" target="_blank" rel="noopener noreferrer" class="">Liu, Arunachalam &amp; Temme (2021).</a></p>
<p>You can also work through the <a class="" href="/tutorials/quantum-kernel-training">Quantum kernel training</a> tutorial and the <a class="" href="/learning/courses/quantum-machine-learning/quantum-kernel-methods">Quantum kernels</a> lesson in the Quantum machine learning course on IBM Quantum Learning.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direktang link sa Requirements" title="Direktang link sa Requirements" translate="no">​</a></h3>
<p>Before starting this tutorial, be sure you have the following installed:</p>
<ul>
<li class="">Qiskit SDK v2.0 or later, with <a href="https://docs.quantum.ibm.com/api/qiskit/visualization" target="_blank" rel="noopener noreferrer" class="">visualization</a> support</li>
<li class="">Qiskit Runtime v0.37 or later (<code>pip install qiskit-ibm-runtime</code>)</li>
<li class="">Qiskit Basis Constructor (<code>pip install qiskit_basis_constructor</code>)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="setup">Setup<a href="#setup" class="hash-link" aria-label="Direktang link sa Setup" title="Direktang link sa Setup" translate="no">​</a></h3>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> matplotlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pyplot </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> plt</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> QuantumCircuit</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> generate_preset_pass_manager</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">circuit </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ParameterVector</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">circuit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">library </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> unitary_overlap</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit_ibm_runtime </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> QiskitRuntimeService</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> SamplerV2</span></span><br></span></code></pre></div></div></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="enable-fractional-gates-and-check-basis-gates">Enable fractional gates and check basis gates<a href="#enable-fractional-gates-and-check-basis-gates" class="hash-link" aria-label="Direktang link sa Enable fractional gates and check basis gates" title="Direktang link sa Enable fractional gates and check basis gates" translate="no">​</a></h3>
<p>To use fractional gates, you can obtain a backend that supports them by setting the <code>use_fractional_gates=True</code> option.
If the backend supports fractional gates, you will see <code>rzz</code> and <code>rx</code> listed among its basis gates.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">service </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> QiskitRuntimeService</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">backend </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> service</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">least_busy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    operational</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> simulator</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> min_num_qubits</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">133</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># backend should be a heron device or later</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">backend_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> backend</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">backend_c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> service</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">backend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">backend_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># w/o fractional gates</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">backend_f </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> service</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">backend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    backend_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> use_fractional_gates</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># w/ fractional gates</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Backend: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">backend_name</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;No fractional gates: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">backend_c</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">basis_gates</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;With fractional gates: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">backend_f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">basis_gates</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;rzz&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> backend_f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">basis_gates</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Backend </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">backend_name</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> does not support fractional gates&quot;</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Backend: ibm_fez</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">No fractional gates: [&#x27;cz&#x27;, &#x27;id&#x27;, &#x27;rz&#x27;, &#x27;sx&#x27;, &#x27;x&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">With fractional gates: [&#x27;cz&#x27;, &#x27;id&#x27;, &#x27;rx&#x27;, &#x27;rz&#x27;, &#x27;rzz&#x27;, &#x27;sx&#x27;, &#x27;x&#x27;]</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="workflow-with-fractional-gates">Workflow with fractional gates<a href="#workflow-with-fractional-gates" class="hash-link" aria-label="Direktang link sa Workflow with fractional gates" title="Direktang link sa Workflow with fractional gates" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-1-map-classical-inputs-to-quantum-problem">Step 1: Map classical inputs to quantum problem<a href="#step-1-map-classical-inputs-to-quantum-problem" class="hash-link" aria-label="Direktang link sa Step 1: Map classical inputs to quantum problem" title="Direktang link sa Step 1: Map classical inputs to quantum problem" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="quantum-kernel-circuit">Quantum kernel circuit<a href="#quantum-kernel-circuit" class="hash-link" aria-label="Direktang link sa Quantum kernel circuit" title="Direktang link sa Quantum kernel circuit" translate="no">​</a></h4>
<p>In this section, we explore the quantum kernel circuit using RZZ gates to introduce the workflow for fractional gates.</p>
<p>We begin by constructing a quantum circuit to compute individual entries of the kernel matrix.
This is done by combining ZZ feature map circuits with a unitary overlap.
The kernel function takes vectors in the feature-mapped space and returns their inner product as an entry of the kernel matrix:
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">⟨</mo><mi mathvariant="normal">Φ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi><mi mathvariant="normal">Φ</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo stretchy="false">⟩</mo><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">K(x, y) = \langle \Phi(x) | \Phi(y) \rangle,</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">⟨</span><span class="mord">Φ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord">∣Φ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mclose">)⟩</span><span class="mpunct">,</span></span></span></span>
where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">Φ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">⟩</mo></mrow><annotation encoding="application/x-tex">|\Phi(x)\rangle</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">∣Φ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)⟩</span></span></span></span> represents the feature-mapped quantum state.</p>
<p>We manually construct a ZZ feature map circuit using RZZ gates.
Although Qiskit provides a built-in <code>zz_feature_map</code>, it does not currently support RZZ gates as of Qiskit v2.0.2 (<a href="https://github.com/Qiskit/qiskit/issues/14469" target="_blank" rel="noopener noreferrer" class="">see issue</a>).</p>
<p>Next, we compute the kernel function for identical inputs - for example, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">K(x, x) = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span>.
On noisy quantum computers, this value may be less than 1 due to noise.
A result closer to 1 indicates lower noise in the execution.
In this tutorial, we refer to this value as the <em>fidelity</em>, defined as
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>fidelity</mtext><mo>=</mo><mi>K</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\text{fidelity} = K(x, x).</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord text"><span class="mord">fidelity</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord">.</span></span></span></span></p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">optimization_level </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">shots </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">reps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">rng </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">random</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">default_rng</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">seed</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">123</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">my_zz_feature_map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">num_qubits</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> QuantumCircuit</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ParameterVector</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;x&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> num_qubits </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> reps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    qc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> QuantumCircuit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">num_qubits</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">h</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">num_qubits</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> k </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        K </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> k </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> num_qubits</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">num_qubits</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> K</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        pairs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">num_qubits </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> j </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> pairs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> pairs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rzz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pi </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> K</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pi </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> K</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> j</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> qc</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">quantum_kernel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">num_qubits</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> QuantumCircuit</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    qc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> my_zz_feature_map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">num_qubits</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reps</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">reps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    inner_product </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> unitary_overlap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> qc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;x&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;y&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> insert_barrier</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    inner_product</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">measure_all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> inner_product</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">random_parameters</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inner_product</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> QuantumCircuit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ndarray</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rng</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">random</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inner_product</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">num_parameters </span><span class="token operator" style="color:#393A34">//</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fidelity</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    ba </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">meas</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ba</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_int_counts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> ba</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">num_shots</span></span><br></span></code></pre></div></div></div></div>
<p>Quantum kernel circuits and their corresponding parameter values are generated for systems with 4 to 40 qubits, and their fidelities are subsequently evaluated.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qubits </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">44</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">circuits </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">quantum_kernel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reps</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">reps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> qubits</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">params </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">random_parameters</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">circ</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> circ </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> circuits</span><span class="token punctuation" style="color:#393A34">]</span></span><br></span></code></pre></div></div></div></div>
<p>The four-qubit circuit is visualized below.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">circuits</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mpl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fold</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="/assets/images/b3d6341a-0-0aca9fb180f66f5daed9b9e4233b0f3a.avif" width="4651" height="367" class="img_ev3q"></p>
<p>In the standard Qiskit patterns workflow, parameter values are typically passed to the Sampler or Estimator primitive as part of a PUB.
However, when using a backend that supports fractional gates, these parameter values must be explicitly assigned to the quantum circuit prior to transpilation.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">b_qc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    circ</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">assign_parameters</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">param</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> circ</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> param </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">zip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">circuits</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> params</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">b_qc</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mpl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fold</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="/assets/images/6c9c1977-0-0f62b4de29fd9117e939964d6f6e2ef5.avif" width="2591" height="367" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-2-optimize-problem-for-quantum-hardware-execution">Step 2: Optimize problem for quantum hardware execution<a href="#step-2-optimize-problem-for-quantum-hardware-execution" class="hash-link" aria-label="Direktang link sa Step 2: Optimize problem for quantum hardware execution" title="Direktang link sa Step 2: Optimize problem for quantum hardware execution" translate="no">​</a></h3>
<p>We then transpile the circuit using the pass manager following the standard Qiskit pattern.
By providing a backend that supports fractional gates to <code>generate_preset_pass_manager</code>, a specialized pass called <code>FoldRzzAngle</code> is automatically included.
This pass modifies the circuit to comply with the RZZ angle constraints.
As a result, RZZ gates with negative values in the previous figure are transformed into positive values, and some additional X gates are added.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">backend_f </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> service</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">backend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">backend_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> use_fractional_gates</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># pm_f includes `FoldRzzAngle` pass</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pm_f </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> generate_preset_pass_manager</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    optimization_level</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">optimization_level</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> backend</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">backend_f</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">t_qc_f </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pm_f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b_qc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t_qc_f</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">count_ops</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">t_qc_f</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mpl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fold</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">OrderedDict([(&#x27;rz&#x27;, 35), (&#x27;rzz&#x27;, 18), (&#x27;x&#x27;, 13), (&#x27;rx&#x27;, 9), (&#x27;measure&#x27;, 4), (&#x27;barrier&#x27;, 2)])</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="/assets/images/a18e5c70-1-8b1ae57adfeef5a3bdf63e2ee5b3ada8.avif" width="3851" height="380" class="img_ev3q"></p>
<p>To assess the impact of fractional gates, we evaluate the number of non-local gates (CZ and RZZ for this backend),
along with circuit depths and durations, and compare these metrics to those from a standard workflow later.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">nnl_f </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">num_nonlocal_gates</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> qc </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> t_qc_f</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">depth_f </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">depth</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> qc </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> t_qc_f</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">duration_f </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">estimate_duration</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">backend_f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> unit</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;u&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> qc </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> t_qc_f</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span></span><br></span></code></pre></div></div></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-3-execute-using-qiskit-primitives">Step 3: Execute using Qiskit primitives<a href="#step-3-execute-using-qiskit-primitives" class="hash-link" aria-label="Direktang link sa Step 3: Execute using Qiskit primitives" title="Direktang link sa Step 3: Execute using Qiskit primitives" translate="no">​</a></h3>
<p>We run the transpiled circuit with the backend that supports fractional gates.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler_f </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SamplerV2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mode</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">backend_f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler_f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dynamical_decoupling</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler_f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dynamical_decoupling</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sequence_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;XY4&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler_f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dynamical_decoupling</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">skip_reset_qubits </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">job </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sampler_f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t_qc_f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> shots</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">shots</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">job</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">job_id</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">d4bninsi51bc738j97eg</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-4-post-process-and-return-result-in-desired-classical-format">Step 4: Post-process and return result in desired classical format<a href="#step-4-post-process-and-return-result-in-desired-classical-format" class="hash-link" aria-label="Direktang link sa Step 4: Post-process and return result in desired classical format" title="Direktang link sa Step 4: Post-process and return result in desired classical format" translate="no">​</a></h3>
<p>You can obtain the kernel function value <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">K(x, x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> by measuring the probability of the all-zero bitstring <code>00...00</code> in the output.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># job = service.job(&quot;d1obougt0npc73flhiag&quot;)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> job</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">fidelity_f </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">fidelity</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> res </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fidelity_f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">usage_f </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> job</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">usage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[0.9005, 0.647, 0.3345, 0.355, 0.3315, 0.174, 0.1875, 0.149, 0.1175, 0.085]</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="comparison-of-workflow-and-circuit-without-fractional-gates">Comparison of workflow and circuit without fractional gates<a href="#comparison-of-workflow-and-circuit-without-fractional-gates" class="hash-link" aria-label="Direktang link sa Comparison of workflow and circuit without fractional gates" title="Direktang link sa Comparison of workflow and circuit without fractional gates" translate="no">​</a></h2>
<p>In this section, we present the the standard Qiskit patterns workflow using a backend that does not support fractional gates.
By comparing the transpiled circuits, you will notice that the version using fractional gates (from the previous section) is more compact than the one without fractional gates.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># step 1: map classical inputs to quantum problem</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># `circuits` and `params` from the previous section are reused here</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># step 2: optimize circuits</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">backend_c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> service</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">backend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">backend_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># w/o fractional gates</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pm_c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> generate_preset_pass_manager</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    optimization_level</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">optimization_level</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> backend</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">backend_c</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">t_qc_c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pm_c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">circuits</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t_qc_c</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">count_ops</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">t_qc_c</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mpl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fold</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">OrderedDict([(&#x27;rz&#x27;, 130), (&#x27;sx&#x27;, 80), (&#x27;cz&#x27;, 36), (&#x27;measure&#x27;, 4), (&#x27;barrier&#x27;, 2)])</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="/assets/images/a10f2d95-1-471cfd487c6fdd801a8ea048f83075fa.avif" width="10288" height="378" class="img_ev3q"></p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">nnl_c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">num_nonlocal_gates</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> qc </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> t_qc_c</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">depth_c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">depth</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> qc </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> t_qc_c</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">duration_c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">estimate_duration</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">backend_c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> unit</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;u&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> qc </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> t_qc_c</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># step 3: execute</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler_c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SamplerV2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">backend_c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler_c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dynamical_decoupling</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler_c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dynamical_decoupling</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sequence_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;XY4&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sampler_c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dynamical_decoupling</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">skip_reset_qubits </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">job </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sampler_c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pubs</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">zip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t_qc_c</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> params</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> shots</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">shots</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">job</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">job_id</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">d4bnirvnmdfs73ae3a2g</span><br></span></code></pre></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># step 4: post-processing</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># job = service.job(&quot;d1obp8j3rr0s73bg4810&quot;)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> job</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">fidelity_c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">fidelity</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> res </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fidelity_c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">usage_c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> job</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">usage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[0.6675, 0.5725, 0.098, 0.102, 0.065, 0.0235, 0.006, 0.0015, 0.0015, 0.002]</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="comparison-of-depths-and-fidelities">Comparison of depths and fidelities<a href="#comparison-of-depths-and-fidelities" class="hash-link" aria-label="Direktang link sa Comparison of depths and fidelities" title="Direktang link sa Comparison of depths and fidelities" translate="no">​</a></h2>
<p>In this section, we compare the number of non-local gates and the fidelities between circuits with and without fractional gates.
This highlights the potential benefits of using fractional gates in terms of execution efficiency and quality.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qubits</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> depth_c</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;-o&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;no fractional gates&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qubits</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> depth_f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;-o&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;with fractional gates&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;number of qubits&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ylabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;depth&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Comparison of depths&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">grid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">legend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;matplotlib.legend.Legend at 0x12bcaac50&gt;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="data:image/avif;base64,AAAAHGZ0eXBhdmlmAAAAAG1pZjFhdmlmbWlhZgAAAXBtZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAANGlsb2MAAAAAREAAAgABAAAAAAGUAAEAAAAAAAAUKgACAAAAABW+AAEAAAAAAAAAMwAAADhpaW5mAAAAAAACAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAAFWluZmUCAAAAAAIAAGF2MDEAAAAAr2lwcnAAAACKaXBjbwAAAAxhdjFDgQEMAAAAABRpc3BlAAAAAAAAAjsAAAHHAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQEcAAAAAA5waXhpAAAAAAEIAAAAOGF1eEMAAAAAdXJuOm1wZWc6bXBlZ0I6Y2ljcDpzeXN0ZW1zOmF1eGlsaWFyeTphbHBoYQAAAAAdaXBtYQAAAAAAAAACAAEDgQIDAAIEhAIFhgAAABppcmVmAAAAAAAAAA5hdXhsAAIAAQABAAAUZW1kYXQSAAoKGGYjrjMEBDQaEDKZKEyAArR9LZsadZLrXa2BiYV81yCXytsTVtn2wT3Gl8FnAaW53K4WVVMqMXt4ngFIaGb/qWtfGWo84zY0An8j9+uoD0m1vPbuvern5V113Lr7gpHCCRVYNllkB0b+DDKr4844NxopGId0ki6L3IIzTjTfAIF3LWSZer9p/eKpIJQMNKS+npmDyNGktAH2UyG3wygmG+3gNK0NXfsvq3doTby70+5hxgAikbpeRJlJw+6nGmDi9tXQe02PO8/YGd220ZDeAqvBv1BT4/FSgAa7wIlwmvdryw+FJhWkUaQXhqetr8HrQ7A26JX6j0QjWnWDiRRFXtgkvuuvfroLuq/pJnTv5sA+I+m5PLbjNhj06XSglQc0u4TlGKlgu2Wz8+K2667uySBRjGteavjrh8BAe3yDk68+qdRaWikET6GK3gpwS8+z6ZzDhqVPIBe56eZ4nZtHhF/lvW24acAsSY9d4FXb1QCAvV0blSIO2xRAm4k/afEDSA8ySMkeUA8iHACWt/lRoJRCygSXkW83bBzyJRCH6mMwyjmoZWQVIwUpEhWSL9hZQ68Y7+cafLgLrTWeYwV9rSvjQCkM4m9ZQcsVWWkZ37GC/FbzedRKninaZgWIkLIM2wU84VpJ0RQiGtHUC2Dgv/J6ESRjfZjJqdg960Ql5yu8CcYJiJDiVIY+QkvQiAHdITW87xematRPw3blzvmrLKtuR84B9B/IFiQvV1cvOeqxAQXFJoUBHDgGEDeFeyKfRKmAcrYD3+whBEb+7TLZW1q4yxTLu8CbFohRVIl1zes4XfZxHRACSZVyWfFlV9MPsMivvuKCk5Vxyu8NMqAlnTjOkyaILHi4nRVUcOQ1SPAHzNNRK/ynRDgEOWwjcc3yavG4BoEbg0cuOzxX9r02L+kwQXb2pMLxXAYJPOfPcDjDgJ+M9h45nanhkrGLEldtmocps9z7JxREAnUdyf+Sa867wvJs202NbsLx4D53sPtUT5T9NcQxB+Jin7gf4oZyO+LZ6lomxK5IVgaJWK5baa4ocQeMi7b4DlFqEWak6NtrY0rxMKOifWFGUgqS5pj3qRQmNB7IfGI8QpoEmpf7a1P80yv62+iLe/pPNEUuRe/77GIoEh2yd0PMTBfBTUJP15qGbhpVds1H0u6QEvI6MEsXI3ht5UEArbQqF4jc2fLpx78uDuKqDY8/vKtwMoW/htHuu36aR5Q+CCe3KiMM5wd/8eaZ8NG2dnUTUUPV5v5ZMkfZT92DUHV0PHPgyW0gRwienSCc/3hM+85Vx04K5ER4RrM6fWO93zKlfGIYJN1wIbk+mqTnPl+AJS1XHsj/mab1k1si/iuzeGg1W1i3nUqNFSQXOSedHpACGXnx/mmTStu8m6nISDVOSd+FyBJ/mTON2Hq1qX0gFAYZdoWTUiPHWVQtfm6nrdEFHmEW/oGD/hHHSxiumm7UW+pAz+ZwTHHwE+Yuo6Kn/M9gRDN7kyR5tZCarjP7TTXR/Q47IQUbfVNNXiCJgfCkqc7kuTc8ja1j/XbX4TqkMSDtTCIIVgNTPPLe1vif2cwNHREFwuJ8K9knKDrA4hOX/6Y2Tanoh7nOFH/mpLAms0qUioslkqEkGWa/oUWOH17t8cDMLlPTl0qjOmYXLDCbNCsi64MQBDgGUzbFcgo8IrABvUOAa+UL9M8zhgGkM+/KcPJJUI5+WChYCY+AaLff+wzAMajvKhzZSY0ELPGyTU1845Svl3QJjbHluWMjFRJb5u4BS2tgME2l58lnKp0fBJ7yE5eANtZYB3WtPwL8zxdFNVr+Ya87ANahX0WgTp+u/jLY/lf/TPTduJckenFe9yXERdvBZZB7YFAuqHy4uXdV99MyQj4JQzdFcGBjZESWytuVtTdWAlocF+fhigT2b67GqJRGOSkw399iZJ1yxftpSdbdoBqTOBXwWZYoM+Db0LRQgMeRaOx5ri7VE+P0e3FcfzsEVlGt/yHlTlHpj8nsPysPvtqpdCRZ6+F1CXibby7WGWd7z6hFiYm0PdUaPC6KxCNg8ubYWlvjGvSlRmeK8ZLozj/kOgW9FgbGvGENkz4HI5R+zsy+GBuXxhjbXuwcNqLOm9EcB8WhxnJ0X6pu4UnQFJLRqFkZIrAtKwJLKe75P8n8nTMK7PLPpoCFgCQEad12o83zTIyOfapCRn0VM7nqtKVJq1p1H8evOLMVWpm/xamNhKyszOJGJu9lKLNqana7VqxRkGTatdQFsNjpU/6abtMMo2+yV6d+0zgTWxaLV33kffjrg6DGZeZP69zAOJWUcy/VzyyHC80MpXXSIYNXB1ycQfxjHbAZk2tXHcNkw7201D23hEnf4HFXBvm3/xJz+dXIfWsdyxJ9ZKh7bCRucG62RqtdmHDPuAYPKu/OH6517jaUtD3gZNTBCKBXqWyQiG+feZu+0SVXo69D2uklIJ6TRxSvzWQx7/av/uJWwUdjNv2GG65024psuAlUTadnZqzf8a4YPEBpcJ1axm5jgfkQF8qHXQjR+dtTzFEQHbY8IY9xpy+iJfzAQqKV+yF8ftqr9l0aEAPWiIPNCFXgvMzX38NOmhaOLCQa9JTVK8OvplHRW7RtJWMkCMaGBy5zEpgrt5N9H4+n/DIZmjs0hlTMKLDJFUv7GFbTCZsPjudVBHLanykQScNLax8i1c2rg1fYSIC4TalW3P2ZAdZWvUAWd2rgqDUvv7xAUd+aNKLJOfqfCytYObsF5gZROrNs//H+KN8lpU9JFP8LAYfuKs2AoiPmcMKNOUR1OEa597cauZ3MbdniGpbjPBpITfmoxPe/VlaracctBmORnlT6Iu3FBGBfx8OnwEN4GjE+66+fB48hGWbMi5LBkJFP1WkwVAg58Tl/2jBpKKACwd6ywasFizQ4Y8glOpsruSYP55hVzfZRETusfuDXLk68f33k1G84I7HboVQ5AdrX313q1war3W+k5WVgsJjxxAcmQ+LJaPnaLI8cfNLOMT80J463P7nvp2OaLd4GNoziiZyV5YST/gsBCErF33CnG3XU+SD3kWH0cIIiUif2dbopLaZBZcanP1NEC9kkxrY4YFqgUfDCT/rFO9GxZ6SLpw2OCamJ5OPX3MXrltvmQyKZ0m3KDFPgAnXbOZ6JW4NNqncry0WZlWPi19JOfFbvco64nGAB3wBDX0q0k32TnDQ7kP1EuP38aKnKe7kX1gYYknbsPPLnarCosMIDnQlPtGLVYRsuqjwaxYpPAbAyLrZ/fLKNI7vYeN/V5UgvSP3aadzo4hOsKjqwl+H38EY4H63whv9aM223N3+r41GtZvf9UX4HLwAwvSj556wPiFARFejKZ+cs7ccgb4nC6fb6VyISikot/PDeYXyW2CTHQWnfrmcR1DEcjMM7FVeSGUYByYAwYl+YCz0hLlpODYXsJutKSA+M+qXkerKUjWC0cP8+oQBKlaazYw90pAa7BQC1usjMscA7hRM2JCTaQs8+39YHsGG9c4NE3VoSm8mId13MbBU+MhhRZEPu/1XQVZ+dE7k/VlNpkAaZmVaBieAZnmkt4tml2aZ712cEQXIqA9geq7A8LbvLF6QGrGuS/N+s3XRf9o54p/AzNgfaf3Bj4rpm6NwNnt5Xug1ANq/C43gX+WKyFBeUJ/gTJJJfv4cngrxp/4QxQdO/eZFp14t9VMe0CX5vp9kjFK3cY/YNQYg7mERwRs6edI524sPimehMlrFq+HrJTYvaNPJAfrtCpQlnOVrFc5r8k8OL4c7VHzNypzzWOa4dwJ25Y8A70SyKdSs0jZAYMck8Xfc6DqdfrkmcskaqQh/XetAuxy5gSZc4y2b4mfNCAnTOv5btuhaA6gmlCoo5/HvDj79y5LEqMLLw340FlkvO/OqiDYS2iUHwJDNy80+g3Uv021N3tlXQJ34lpUUVdwwUNaewFrSKzV7h0oLcFSzDd6146UPxpYvtovrw7iCbWPt6Q4F9T6xheipWtfYWZygMWdlPwoAD+IAkQrNvrr8ix0bpwXyyuJBcYpsXa9s/RGYbQdbj+JiXG6zrIgKqzOKkLywRRxJLq7afEtaKZWN9Yofxb+HSdN3vLJoD3+WigL9E1StgvdraxvLVW84xewLYoX0uaSUnFEmeBtQqHmOUa1kKq1XmPKoEvUEyEgZTUZiNKyMRJb9hibAhcR0hL4KtDKdmSL7cc6DIa/kpqDCCTIKXeQ8DMWpk5t/anqiXjzqxx3kN1YeN7HTNtOQVUub3ZsLGGAYPCrGfcbanYcvRyRlw9qfx2mr43FLgEATntvvDpCpfbOgAMSVuKgmpEG0b9Ago7oETvPvo+9Jm1Zki7+yoC2NJEnkmofm3wvz/4C7H2KgRMq8HVlWJ8ujgumUaTe3JZgaY4I6Y7j2IchNNws+/Cu3x8C7zRK096uq5ulTa+rFlO8+sDHielfVyUzUe8EC2YULZFYwTdl9SHQ9+zpH089vF7Alffprwr6rkiTGKR9eJ1zTw9whHwMPguW9ar8hq5lGYV5uQJY3bD2BtZt51rZlgQPD4aQsLTaAUzIXtYbszNRUbKrBv5oyZVut3ZwWb9tGFY6NfNVX/UPIZ/GaCksBVGLXHstnzA4k1OeOn985EcsYRozKSRm8fDNE/+JtQAC+BfdkF+gK1v4LRIm+Z01SisnJJY6yy/BrHF776P/NhAzYRjMmqd2vunDTScKy8oD/HrZCqO6uGyqWN/yGx9BHSKR5IBhZMS9Xj7t5wo6RSN6VKqPekAcgqyQUXKQPh6njI/Iog0ZuXOxQozAiZ9QoX8M/ywMFQFrUOyVpcarGi+6zqf7Vlv9kqNnkUFGN25GKHBpN8r8JhqUohpGFSd+AMMgLWsU15XsNIvDs7te5D6Y62MHcDxkGWu0GVQwCSFR6geo0ii+wdl/A0/O+re7Y1iIJiy8aBZAa8xZvSJdHuoD7RekepUw35GSfoBswM6YAYQBQc3E+krONUDSXFaj/kUlQVyDQ8RiHe39hI6S09k2ma2OcuOM+0cI9lZGFSYV6PYh4Soooi5oYHO82xJr3dZcVC+LMg8QkOWNz7sDxSfzhkEVihCmAytgeZ8nxREH53sB6otJlBeS3EQWetPnkKjkAGKBbdHQuIDo7qnjoYn+m0qn4kNLIEIU89nKrtSktigVuOtCAZEhzOaSJTWF/+nRAYojCxaAZ6NI/WRlFZkUZjYc0FujqqtdAlakZRFIXAJB3khYbAzNGyF3Z+UibMhBoHRcWsJwoT9y3PLHy1pWaLanmkQ4BL49Tp8rR7UlIbJwHNzGpysUQT0Yuw6wrE4PDlAi2j7azqNsVuUz1Xoh2jKNz95y5JpC3IoLIW/hmLK1l6owdklxaxoGG3fHlZcTesZmer8XAQfhR8RQ3lZc7M6X5chm4+9roXaJ6JmN3rxsRJCF8UNqEfEQWxkrayLMyRzIVtJRXgodBPt1X53VREWwjQXnJ2LjJ0A5z0ivBOeI+YuP/Vfen/wHs9abTgO4L/LTDjldcyLaKm/Kv+aWCrM+yLxwnh9idE46xKCvP7pENBoWr+Z/mR+M0YNnLFFFG5N9LIl9PAKQqkD4clnzX6S4mxInjRdV4+cBLzq2stSjX29SEIMf7a+yhugHX4MJsyFqpqqcp6A3xRqIRRBW5DGg/51wUeoCEZ9MZSiOh29UY7VkYrO/TCuGOoH5R5CO4oc4ofzR0PZMOLC8vqCOvCeWne3ZufJ1aGZvEXuyciDsbwG8vf1oAk+QQtrbx9U7/CGe3nGmmn1X1/oUcCS7jYlrRapnygjJhZurpE4IATGmsV3p0hPYkIp1XPboMMoUQyp4mDXYeBgF07+91iFcuV0kB0L8nqrZHXa9qxwjuvNBrYkUYwzmBI3wUWGPB+OTZfW/GUp7UG7v0Si0JDEWd0QE0VmKC+RSb8Huo/djFFmHzkgl60hDsw2jFCxbTzPM0OwPFjFbwpPr23PGJxc4H1SfkzqW1rriaSu8zD52A27u5goOMOL6Up4/UAZhrC8cnuJX9q476WoAv133DGZFbX8HjIk7ErhLuLCJUPCPnkTe82xd30NN2CNJL0QgtuZ/4GW01AO68Fyu54lRvRrtvqyUdpgLYWeYkUpogMPBs53hR57ftMs4+QUpLMCYwpQhmd9pQbLZwlkyqPzENLU8GB42fDBFxb7JWzix/E1g0S8N59i14jCDr1yoqz5RQA+KC1liN7PdciDmAel6YQ5/48MMjQiTDO3SXtq5kCKsTD6R/HD3wVNMxtr3Q/yvfnT0KH9us2xZvxqKDcV3bn7faLnXrPu0oGltG4cC4/mxDXWpvmWE8HAyp+FdkcJvHCrQyvWNCfzUCK6lVE30ZhkqABialaAQYn/fX0KcbolKUzM2aawmy6xoEPPRhgnA3TrVSr8iWdp2OwRDR79yrevrodNay/UWZ+7AW3egIEmjzsC48XyFdgVQcDEp/I9Wwa5toX74gRH4nGeIxc3hWU7+kIV/trwEDwIwhhFM2ka6ki4PByKjCfduQA8d1ysOKLdcrszW1SQIArDTF1ogx+CD9oaURAeZGxfoIOSEFckrO/ugjKD7Xj/DTCn+DIxxBzHKJuXbGmahMMCIr2N1jydyCGorAv4RR/9x8YXMFsGvfbiv3FsOyJuokNmvmcoHG03B4RyBOKweLZ8i+5Dqgw2gAYcknT0p04HU2PrmGdbOYIO9SRtUoZao53wlEcXkWlNDZsLVHEEGonbYfsF3w4L+LQlxOf5MjUtdrJBGCzEv6EDkkT7M3yWvmAogJo9gFDaYRusJfxCsIbOUeU+KhXpdckznrUgErtCrcvwGyRN0Anl4kZV/UYhy/cArEflsNqhS6a0jkhVaa9zLzM5EENYZ+vh597CMEMx2PrgBIACgcYZiOuMwqAMiYSAAooQLYY0zp885zACdkZsAbt7qN73cVA9FKM32oQDH6F+uxeMg==" width="571" height="455" class="img_ev3q"></p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qubits</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> duration_c</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;-o&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;no fractional gates&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qubits</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> duration_f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;-o&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;with fractional gates&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;number of qubits&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ylabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;duration (µs)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Comparison of durations&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">grid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">legend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;matplotlib.legend.Legend at 0x12bdef310&gt;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="data:image/avif;base64,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" width="575" height="455" class="img_ev3q"></p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qubits</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> nnl_c</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;-o&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;no fractional gates&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qubits</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> nnl_f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;-o&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;with fractional gates&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;number of qubits&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ylabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;number of non-local gates&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Comparison of numbers of non-local gates&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">grid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">legend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;matplotlib.legend.Legend at 0x12be8ac90&gt;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="data:image/avif;base64,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" width="571" height="455" class="img_ev3q"></p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qubits</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fidelity_c</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;-o&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;no fractional gates&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qubits</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fidelity_f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;-o&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;with fractional gates&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;number of qubits&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ylabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;fidelity&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Comparison of fidelities&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">grid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">legend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;matplotlib.legend.Legend at 0x12bea8290&gt;</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="data:image/avif;base64,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" width="567" height="455" class="img_ev3q"></p>
<p>We compare the QPU usage time with and without fractional gates. The results in the following cell show that the QPU usage times are almost identical.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;no fractional gates: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">usage_c</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> seconds&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;fractional gates: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">usage_f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> seconds&quot;</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">no fractional gates: 7 seconds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fractional gates: 7 seconds</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="advanced-topic-using-only-fractional-rx-gates">Advanced topic: Using only fractional RX gates<a href="#advanced-topic-using-only-fractional-rx-gates" class="hash-link" aria-label="Direktang link sa Advanced topic: Using only fractional RX gates" title="Direktang link sa Advanced topic: Using only fractional RX gates" translate="no">​</a></h2>
<p>The need for the modified workflow when using fractional gates primarily stems from the restriction on RZZ gate angles.
However, if you use only the fractional RX gates and exclude the fractional RZZ gates, you can continue to follow the standard Qiskit patterns workflow.
This approach can still offer meaningful benefits, particularly in circuits that involve a large number of RX gates and U gates, by reducing the overall gate count and potentially improving performance.
In this section, we demonstrate how to optimize your circuits using only fractional RX gates, while omitting RZZ gates.</p>
<p>To support this, we provide a utility function that allows you to disable a specific basis gate in a Target object.
Here, we use it to disable RZZ gates.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">circuit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">library </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> n_local</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">transpiler </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Target</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">remove_instruction_from_target</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> gate_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> Target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    new_target </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Target</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        description</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        num_qubits</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">num_qubits</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        dt</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dt</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        granularity</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">granularity</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        min_length</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">min_length</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        pulse_alignment</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pulse_alignment</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        acquire_alignment</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">acquire_alignment</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        qubit_properties</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">qubit_properties</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        concurrent_measurements</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">concurrent_measurements</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> qarg_map </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">items</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> gate_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">continue</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        instruction </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">operation_from_name</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> qarg_map </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            qarg_map </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        new_target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_instruction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">instruction</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> qarg_map</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> new_target</span></span><br></span></code></pre></div></div></div></div>
<p>We use a circuit consisting of U, CZ, and RZZ gates as an example.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> n_local</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;u&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cz&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;linear&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reps</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rzz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1.1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mpl&quot;</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="data:image/avif;base64,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" width="692" height="238" class="img_ev3q"></p>
<p>We first transpile the circuit for a backend that does not support fractional gates.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pm_c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> generate_preset_pass_manager</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    optimization_level</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">optimization_level</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> backend</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">backend_c</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">t_qc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pm_c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t_qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">count_ops</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">t_qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mpl&quot;</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">OrderedDict([(&#x27;rz&#x27;, 23), (&#x27;sx&#x27;, 16), (&#x27;cz&#x27;, 4)])</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="/assets/images/9e8e0709-1-3a2ebbd86bd6333575f26a16e6f693f8.avif" width="1790" height="508" class="img_ev3q"></p>
<p>Then, we transpile the same circuit using fractional RX gates, while excluding RZZ gates.
This results in a slight reduction in the total gate count, thanks to the more efficient implementation of the RX gates.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">backend_f </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> service</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">backend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">backend_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> use_fractional_gates</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">target </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> remove_instruction_from_target</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">backend_f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;rzz&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pm_f </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> generate_preset_pass_manager</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    optimization_level</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">optimization_level</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    target</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">t_qc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pm_f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t_qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">count_ops</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">t_qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mpl&quot;</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">OrderedDict([(&#x27;rz&#x27;, 22), (&#x27;sx&#x27;, 14), (&#x27;cz&#x27;, 4), (&#x27;rx&#x27;, 1)])</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="/assets/images/db45feb0-1-6f8fff4228743d8fdd05f1c09db803ab.avif" width="1726" height="251" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="optimize-u-gates-with-fractional-rx-gates">Optimize U gates with fractional RX gates<a href="#optimize-u-gates-with-fractional-rx-gates" class="hash-link" aria-label="Direktang link sa Optimize U gates with fractional RX gates" title="Direktang link sa Optimize U gates with fractional RX gates" translate="no">​</a></h3>
<p>In this section, we demonstrate how to optimize U gates using fractional RX gates, building on the same circuit introduced in the previous section.</p>
<p>You will need to install the <code>qiskit-basis-constructor</code> <a href="https://github.com/Qiskit/qiskit-basis-constructor" target="_blank" rel="noopener noreferrer" class="">package</a> for this section.
This is a beta version of a new transpilation plugin for Qiskit, which might be integrated into Qiskit in the future.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># %pip install qiskit-basis-constructor</span></span><br></span></code></pre></div></div></div></div>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">circuit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">library </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> UGate</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> qiskit_basis_constructor </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> DEFAULT_EQUIVALENCE_LIBRARY</span></span><br></span></code></pre></div></div></div></div>
<p>We transpile the circuit using only fractional RX gates, excluding RZZ gates.
By introducing a custom decomposition rule, as shown in the following,
we can reduce the number of single-qubit gates required to implement a U gate.</p>
<p>This feature is currently under discussion in this <a href="https://github.com/Qiskit/qiskit/issues/13455" target="_blank" rel="noopener noreferrer" class="">GitHub issue.</a></p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic"># special decomposition rule for UGate</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ParameterVector</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;x&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">zxz </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> QuantumCircuit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">zxz</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pi </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">zxz</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rx</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">zxz</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rz</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pi </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">DEFAULT_EQUIVALENCE_LIBRARY</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_equivalence</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">UGate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> zxz</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<p>Next, we apply the transpiler using <code>constructor-beta</code> translation provided by <code>qiskit-basis-constructor</code> package.
As a result, the total number of gates is reduced compare to the previous transpilation.</p>
<div class="executable-code"><div class="executable-code__code" style="display:block"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">pm_f </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> generate_preset_pass_manager</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    optimization_level</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">optimization_level</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    target</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    translation_method</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;constructor-beta&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">t_qc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pm_f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">qc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t_qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">count_ops</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">t_qc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;mpl&quot;</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">OrderedDict([(&#x27;rz&#x27;, 16), (&#x27;rx&#x27;, 9), (&#x27;cz&#x27;, 4)])</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Output of the previous code cell" src="data:image/avif;base64,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" width="1661" height="250" class="img_ev3q"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direktang link sa Troubleshooting" title="Direktang link sa Troubleshooting" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="issue-invalid-rzz-angles-might-remain-after-transpilation">Issue: Invalid RZZ angles might remain after transpilation<a href="#issue-invalid-rzz-angles-might-remain-after-transpilation" class="hash-link" aria-label="Direktang link sa Issue: Invalid RZZ angles might remain after transpilation" title="Direktang link sa Issue: Invalid RZZ angles might remain after transpilation" translate="no">​</a></h3>
<p>As of Qiskit v2.0.3, there are known issues where RZZ gates with invalid angles may remain in the circuits even after transpilation.
The issue typically arises under the following conditions.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="failure-when-using-target-option-with-generate_preset_pass_manager-or-transpiler">Failure when using <code>target</code> option with <code>generate_preset_pass_manager</code> or <code>transpiler</code><a href="#failure-when-using-target-option-with-generate_preset_pass_manager-or-transpiler" class="hash-link" aria-label="Direktang link sa failure-when-using-target-option-with-generate_preset_pass_manager-or-transpiler" title="Direktang link sa failure-when-using-target-option-with-generate_preset_pass_manager-or-transpiler" translate="no">​</a></h4>
<p>When the <code>target</code> option is used with <code>generate_preset_pass_manager</code> or <code>transpiler</code>, the specialized transpiler pass <code>FoldRzzAngle</code> is not invoked.
To ensure proper handling of RZZ angles for fractional gates, we recommend always using the <code>backend</code> option instead.
See <a href="https://github.com/Qiskit/qiskit/issues/14318" target="_blank" rel="noopener noreferrer" class="">this issue</a> for more details.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="failure-when-circuits-contain-certain-gates">Failure when circuits contain certain gates<a href="#failure-when-circuits-contain-certain-gates" class="hash-link" aria-label="Direktang link sa Failure when circuits contain certain gates" title="Direktang link sa Failure when circuits contain certain gates" translate="no">​</a></h4>
<p>If your circuit includes certain gates such as <code>XXPlusYYGate</code>, the Qiskit transpiler may generate RZZ gates with invalid angles.
If you encounter this issue, see this <a href="https://github.com/Qiskit/qiskit-ibm-runtime/issues/2256#issuecomment-2889487152" target="_blank" rel="noopener noreferrer" class="">GitHub issue</a> for a workaround.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="tutorial-survey">Tutorial survey<a href="#tutorial-survey" class="hash-link" aria-label="Direktang link sa Tutorial survey" title="Direktang link sa Tutorial survey" translate="no">​</a></h2>
<p>Please take this short survey to provide feedback on this tutorial. Your insights will help us improve our content offerings and user experience.</p>
<p><a href="https://your.feedback.ibm.com/jfe/form/SV_cCNiGkGX5xZMzoG" target="_blank" rel="noopener noreferrer" class="">Link to survey</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><div class="dq-edit-bookmark-row"><a href="https://github.com/JanLahmann/doQumentation/tree/main/docs/tutorials/fractional-gates.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>I-edit ang pahinang ito</a><button class="dq-bookmark-button" title="Bookmark this page" aria-label="Bookmark this page"><span class="dq-bookmark-button__icon" aria-hidden="true">☆</span>Bookmark</button></div></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Mga pahina ng dokumentasyon"><a class="pagination-nav__link pagination-nav__link--prev" href="/tutorials/edc-cut-bell-pair-benchmarking"><div class="pagination-nav__sublabel">Nakaraan</div><div class="pagination-nav__label">Benchmark dynamic circuits with cut Bell pairs</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tutorials/ai-transpiler-introduction"><div class="pagination-nav__sublabel">Susunod</div><div class="pagination-nav__label">Qiskit AI-powered transpiler service introduction</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#background" class="table-of-contents__link toc-highlight">Background</a><ul><li><a href="#fractional-gates-on-ibm-qpus" class="table-of-contents__link toc-highlight">Fractional gates on IBM QPUs</a></li><li><a href="#limitations" class="table-of-contents__link toc-highlight">Limitations</a></li></ul></li><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a><ul><li><a href="#1-generate-parameter-values-that-satisfy-the-rzz-angle-constraint" class="table-of-contents__link toc-highlight">1. Generate parameter values that satisfy the RZZ angle constraint</a></li><li><a href="#2-assign-parameter-values-to-circuits-before-transpilation" class="table-of-contents__link toc-highlight">2. Assign parameter values to circuits before transpilation</a></li><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#setup" class="table-of-contents__link toc-highlight">Setup</a></li><li><a href="#enable-fractional-gates-and-check-basis-gates" class="table-of-contents__link toc-highlight">Enable fractional gates and check basis gates</a></li></ul></li><li><a href="#workflow-with-fractional-gates" class="table-of-contents__link toc-highlight">Workflow with fractional gates</a><ul><li><a href="#step-1-map-classical-inputs-to-quantum-problem" class="table-of-contents__link toc-highlight">Step 1: Map classical inputs to quantum problem</a></li><li><a href="#step-2-optimize-problem-for-quantum-hardware-execution" class="table-of-contents__link toc-highlight">Step 2: Optimize problem for quantum hardware execution</a></li><li><a href="#step-3-execute-using-qiskit-primitives" class="table-of-contents__link toc-highlight">Step 3: Execute using Qiskit primitives</a></li><li><a href="#step-4-post-process-and-return-result-in-desired-classical-format" class="table-of-contents__link toc-highlight">Step 4: Post-process and return result in desired classical format</a></li></ul></li><li><a href="#comparison-of-workflow-and-circuit-without-fractional-gates" class="table-of-contents__link toc-highlight">Comparison of workflow and circuit without fractional gates</a></li><li><a href="#comparison-of-depths-and-fidelities" class="table-of-contents__link toc-highlight">Comparison of depths and fidelities</a></li><li><a href="#advanced-topic-using-only-fractional-rx-gates" class="table-of-contents__link toc-highlight">Advanced topic: Using only fractional RX gates</a><ul><li><a href="#optimize-u-gates-with-fractional-rx-gates" class="table-of-contents__link toc-highlight">Optimize U gates with fractional RX gates</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#issue-invalid-rzz-angles-might-remain-after-transpilation" class="table-of-contents__link toc-highlight">Issue: Invalid RZZ angles might remain after transpilation</a></li></ul></li><li><a href="#tutorial-survey" class="table-of-contents__link toc-highlight">Tutorial survey</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">doQumentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/features">Mga Tampok</a></li><li class="footer__item"><a class="footer__link-item" href="/jupyter-settings">Settings</a></li><li class="footer__item"><a href="https://github.com/JanLahmann/doQumentation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">RasQberry</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://rasqberry.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">RasQberry<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/JanLahmann/RasQberry-Two" target="_blank" rel="noopener noreferrer" class="footer__link-item">RasQberry GitHub<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">IBM Quantum &amp; Qiskit</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://quantum.cloud.ibm.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBM Quantum<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://quantum.cloud.ibm.com/docs/en/guides" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dokumentasyon ng Qiskit<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/Qiskit/documentation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Qiskit Docs GitHub<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://qisk.it/join-slack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Qiskit Slack<svg width="13.5" height="13.5" aria-label="(magbubukas sa bagong tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Ang nilalaman ng <a href="https://github.com/Qiskit/documentation">Dokumentasyon ng Qiskit</a> © IBM Corp. Ang code ay lisensyado sa ilalim ng Apache 2.0; ang nilalaman (mga tutorial, kurso, media) sa ilalim ng CC BY-SA 4.0.<br>Ang IBM, IBM Quantum at Qiskit ay mga tatak ng IBM Corporation.<br>Ang doQumentation ay bahagi ng proyektong <a href="https://rasqberry.org/">RasQberry</a> at hindi nauugnay, sinusuportahan, o sponsoran ng IBM Corporation.</div></div></div></footer></div>
</body>
</html>