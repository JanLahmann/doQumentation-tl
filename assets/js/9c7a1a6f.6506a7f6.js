"use strict";(globalThis.webpackChunkdoqumentation=globalThis.webpackChunkdoqumentation||[]).push([[7389],{23442(e,i,t){t.r(i),t.d(i,{assets:()=>a,contentTitle:()=>r,default:()=>l,frontMatter:()=>c,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"guides/qiskit-backendv1-to-v2","title":"Migrate from BackendV1 to BackendV2","description":"How to update your code to use BackendV2 instead of BackendV1.","source":"@site/i18n/tl/docusaurus-plugin-content-docs/current/guides/qiskit-backendv1-to-v2.mdx","sourceDirName":"guides","slug":"/guides/qiskit-backendv1-to-v2","permalink":"/guides/qiskit-backendv1-to-v2","draft":false,"unlisted":false,"editUrl":"https://github.com/JanLahmann/doQumentation/tree/main/docs/guides/qiskit-backendv1-to-v2.mdx","tags":[],"version":"current","frontMatter":{"title":"Migrate from BackendV1 to BackendV2","description":"How to update your code to use BackendV2 instead of BackendV1."},"sidebar":"tutorialsSidebar","previous":{"title":"Qiskit v2.0 migration guide","permalink":"/guides/qiskit-2.0"},"next":{"title":"Qiskit 1.0 migration guide","permalink":"/guides/qiskit-1.0"}}');var s=t(74848),d=t(28453);const c={title:"Migrate from BackendV1 to BackendV2",description:"How to update your code to use BackendV2 instead of BackendV1."},r="Migrate from BackendV1 to BackendV2",a={},o=[{value:"High-level changes in <code>BackendV2</code>",id:"high-level-changes-in-backendv2",level:2},{value:"Specific changes in <code>BackendV2</code>",id:"specific-changes-in-backendv2",level:2}];function h(e){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components},{Admonition:t}=i;return t||function(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Admonition",!0),(0,s.jsxs)(s.Fragment,{children:["\n",(0,s.jsx)(i.admonition,{title:"Hindi pa naisalin",type:"note",children:(0,s.jsx)(i.p,{children:"Ang pahinang ito ay hindi pa naisalin. Nakikita mo ang orihinal na bersyon sa Ingles."})}),"\n",(0,s.jsx)(i.header,{children:(0,s.jsxs)(i.h1,{id:"migrate-from-backendv1-to-backendv2",children:["Migrate from ",(0,s.jsx)(i.code,{children:"BackendV1"})," to ",(0,s.jsx)(i.code,{children:"BackendV2"})]})}),"\n",(0,s.jsxs)(i.p,{children:["The Qiskit ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/1.4/qiskit.providers.BackendV1",children:(0,s.jsx)(i.code,{children:"BackendV1"})})," class has been deprecated and will be removed from service. This migration guide describes the small adjustments you need to make if you use a provider that upgraded from ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/1.4/qiskit.providers.BackendV1",children:(0,s.jsx)(i.code,{children:"BackendV1"})})," to ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.BackendV2",children:(0,s.jsx)(i.code,{children:"BackendV2"})}),"."]}),"\n",(0,s.jsx)(t,{type:"note",children:(0,s.jsxs)(i.p,{children:["If you exclusively use ",(0,s.jsx)(i.code,{children:"qiskit_ibm_runtime"})," and ",(0,s.jsx)(i.code,{children:"qiskit_aer"}),", no action is needed.  The ",(0,s.jsx)(i.code,{children:"qiskit_ibm_runtime"})," package has always used ",(0,s.jsx)(i.code,{children:"BackendV2"}),", and ",(0,s.jsx)(i.code,{children:"qiskit_aer"})," has used ",(0,s.jsx)(i.code,{children:"BackendV2"})," since version 0.13."]})}),"\n",(0,s.jsxs)(i.h2,{id:"high-level-changes-in-backendv2",children:["High-level changes in ",(0,s.jsx)(i.code,{children:"BackendV2"})]}),"\n",(0,s.jsxs)(i.p,{children:["The Qiskit ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.Backend",children:(0,s.jsx)(i.code,{children:"Backend"})})," model was designed to provide the Qiskit SDK with an abstraction\nlayer that enabled reasoning about quantum computers within the scope of the SDK. The first iteration of the model was introduced with the\n",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/1.4/qiskit.providers.BackendV1",children:(0,s.jsx)(i.code,{children:"BackendV1"})})," class. This class stored the backend information in a series\nof data containers, namely the ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/1.4/qiskit.providers.models.BackendConfiguration",children:(0,s.jsx)(i.code,{children:"BackendConfiguration"})})," and\n",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/1.4/qiskit.providers.models.BackendProperties",children:(0,s.jsx)(i.code,{children:"BackendProperties"})})," classes."]}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.BackendV2",children:(0,s.jsx)(i.code,{children:"BackendV2"})})," class redefined\nuser access for most backend properties to make them work with native Qiskit data structures and have flatter\naccess patterns. The core of the ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.BackendV2",children:(0,s.jsx)(i.code,{children:"BackendV2"})})," model is the\n",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.Target",children:(0,s.jsx)(i.code,{children:"Target"})})," class, a representation of the QPU that contains the transpilation constraints that Qiskit can use to optimize circuits for execution."]}),"\n",(0,s.jsxs)(i.p,{children:["The Qiskit SDK has been updated to work exclusively with ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.BackendV2",children:(0,s.jsx)(i.code,{children:"BackendV2"})})," inputs,\nand most providers have upgraded from ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/1.4/qiskit.providers.BackendV1",children:(0,s.jsx)(i.code,{children:"BackendV1"})})," to ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.BackendV2",children:(0,s.jsx)(i.code,{children:"BackendV2"})}),". It is expected that existing providers will deprecate the old access where possible to provide a graceful migration, but eventually users will need to adjust their code."]}),"\n",(0,s.jsxs)(i.p,{children:["The principle behind ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.BackendV2",children:(0,s.jsx)(i.code,{children:"BackendV2"})})," is\nthat most of the information about a backend is contained in its\n",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.Target",children:(0,s.jsx)(i.code,{children:"Target"})})," object, and the backend's attributes often query\nits ",(0,s.jsx)(i.code,{children:"BackendV2.target"})," attribute to return information. However, in many cases the attributes only provide\na subset of information that the target can contain. For example, ",(0,s.jsx)(i.code,{children:"backend.coupling_map"}),"\nreturns a ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.CouplingMap",children:(0,s.jsx)(i.code,{children:"CouplingMap"})})," constructed from the\n",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.Target",children:(0,s.jsx)(i.code,{children:"Target"})})," accessible in the\n",(0,s.jsx)(i.code,{children:"BackendV2.target"})," attribute. However, the target might contain\ninstructions that operate on more than two qubits (which can't be represented in a\n",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.CouplingMap",children:(0,s.jsx)(i.code,{children:"CouplingMap"})}),") or it might have instructions that only operate on\na subset of qubits (or two qubit links, for a two qubit instruction), which won't be\ndetailed in the full coupling map returned by\n",(0,s.jsx)(i.code,{children:"BackendV2.coupling_map"}),". So depending on your use case,\nit might be necessary to look deeper than just the equivalent access with\n",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.BackendV2",children:(0,s.jsx)(i.code,{children:"BackendV2"})}),"."]}),"\n",(0,s.jsxs)(i.h2,{id:"specific-changes-in-backendv2",children:["Specific changes in ",(0,s.jsx)(i.code,{children:"BackendV2"})]}),"\n",(0,s.jsxs)(i.p,{children:["Most attributes have a direct replacement, simplifying the migration efforts. The only point of mismatch between interfaces is in the ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.CouplingMap",children:(0,s.jsx)(i.code,{children:"CouplingMap"})}),"."]}),"\n",(0,s.jsxs)(i.p,{children:["Following is a table of example access patterns in ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/1.4/qiskit.providers.BackendV1",children:(0,s.jsx)(i.code,{children:"BackendV1"})})," and the new form\nwith ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.BackendV2",children:(0,s.jsx)(i.code,{children:"BackendV2"})}),"."]}),"\n",(0,s.jsx)(t,{type:"important",children:(0,s.jsx)(i.p,{children:"Scroll to the right to see important notes."})}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/1.4/qiskit.providers.BackendV1",children:(0,s.jsx)(i.code,{children:"BackendV1"})})}),(0,s.jsx)(i.th,{children:(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.BackendV2",children:(0,s.jsx)(i.code,{children:"BackendV2"})})}),(0,s.jsx)(i.th,{children:"Notes"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.configuration().n_qubits"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.num_qubits"})}),(0,s.jsx)(i.td,{})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.configuration().coupling_map"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.coupling_map"})}),(0,s.jsxs)(i.td,{children:["The return from ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.BackendV2",children:(0,s.jsx)(i.code,{children:"BackendV2"})})," is a ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.CouplingMap",children:(0,s.jsx)(i.code,{children:"CouplingMap"})})," object. In ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/1.4/qiskit.providers.BackendV1",children:(0,s.jsx)(i.code,{children:"BackendV1"})})," it is an edge list. Also, this is just a view of the information contained in ",(0,s.jsx)(i.code,{children:"backend.target"})," which may only be a subset of the information contained in the ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.Target",children:(0,s.jsx)(i.code,{children:"Target"})})," object."]})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.configuration().backend_name"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.name"})}),(0,s.jsx)(i.td,{})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.configuration().backend_version"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.backend_version"})}),(0,s.jsxs)(i.td,{children:["The ",(0,s.jsx)(i.code,{children:"BackendV2.version"})," attribute represents the version of the abstract ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.Backend",children:(0,s.jsx)(i.code,{children:"Backend"})})," interface that the object implements, while ",(0,s.jsx)(i.code,{children:"BackendV2.backend_version"})," is metadata about the version of the backend itself."]})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.configuration().basis_gates"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.operation_names"})}),(0,s.jsxs)(i.td,{children:["The ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.BackendV2",children:(0,s.jsx)(i.code,{children:"BackendV2"})})," returns a list of operation names contained in the ",(0,s.jsx)(i.code,{children:"backend.target"})," attribute. The ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.Target",children:(0,s.jsx)(i.code,{children:"Target"})})," might contain more information than can be expressed by this list of names. For example, some operations only work on a subset of qubits, and some names implement the same gate with different parameters."]})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.configuration().dt"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.dt"})}),(0,s.jsx)(i.td,{})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.configuration().dtm"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.dtm"})}),(0,s.jsx)(i.td,{})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.configuration().max_experiments"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.max_circuits"})}),(0,s.jsx)(i.td,{})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.configuration().online_date"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.online_date"})}),(0,s.jsx)(i.td,{})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"InstructionDurations.from_backend(backend)"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.instruction_durations"})}),(0,s.jsx)(i.td,{})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.defaults().instruction_schedule_map"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.instruction_schedule_map"})}),(0,s.jsx)(i.td,{})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.properties().t1(0)"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.qubit_properties(0).t1"})}),(0,s.jsx)(i.td,{})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.properties().t2(0)"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.qubit_properties(0).t2"})}),(0,s.jsx)(i.td,{})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.properties().frequency(0)"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.qubit_properties(0).frequency"})}),(0,s.jsx)(i.td,{})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.properties().readout_error(0)"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:'backend.target["measure"][(0,)].error'})}),(0,s.jsxs)(i.td,{children:["In ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.BackendV2",children:(0,s.jsx)(i.code,{children:"BackendV2"})}),", the error rate for the ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/circuit#measure",children:(0,s.jsx)(i.code,{children:"Measure"})})," operation on a given qubit is used to model the readout error. However, a ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.BackendV2",children:(0,s.jsx)(i.code,{children:"BackendV2"})})," object can implement multiple measurement types and list them separately in a ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.Target",children:(0,s.jsx)(i.code,{children:"Target"})}),"."]})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"backend.properties().readout_length(0)"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:'backend.target["measure"][(0,)].duration'})}),(0,s.jsxs)(i.td,{children:["In ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.BackendV2",children:(0,s.jsx)(i.code,{children:"BackendV2"})}),", the duration for the ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/circuit#measure",children:(0,s.jsx)(i.code,{children:"Measure"})})," operation on a given qubit is used to model the readout length. However, a ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.providers.BackendV2",children:(0,s.jsx)(i.code,{children:"BackendV2"})})," object can implement multiple measurement types and list them separately in a ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.Target",children:(0,s.jsx)(i.code,{children:"Target"})}),"."]})]})]})]})]})}function l(e={}){const{wrapper:i}={...(0,d.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453(e,i,t){t.d(i,{R:()=>c,x:()=>r});var n=t(96540);const s={},d=n.createContext(s);function c(e){const i=n.useContext(d);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),n.createElement(d.Provider,{value:i},e.children)}}}]);