"use strict";(globalThis.webpackChunkdoqumentation=globalThis.webpackChunkdoqumentation||[]).push([[4008],{96229(e,i,s){s.r(i),s.d(i,{assets:()=>o,contentTitle:()=>r,default:()=>d,frontMatter:()=>l,metadata:()=>n,toc:()=>p});const n=JSON.parse('{"id":"guides/transpiler-plugins","title":"Install and use transpiler plugins","description":"How to install and use transpiler plugins in Qiskit.","source":"@site/i18n/tl/docusaurus-plugin-content-docs/current/guides/transpiler-plugins.mdx","sourceDirName":"guides","slug":"/guides/transpiler-plugins","permalink":"/guides/transpiler-plugins","draft":false,"unlisted":false,"editUrl":"https://github.com/JanLahmann/doQumentation/tree/main/docs/guides/transpiler-plugins.mdx","tags":[],"version":"current","frontMatter":{"title":"Install and use transpiler plugins","sidebar_label":"Install and use transpiler plugins","description":"How to install and use transpiler plugins in Qiskit.","notebook_path":"docs/guides/transpiler-plugins.ipynb"},"sidebar":"tutorialsSidebar","previous":{"title":"Create and transpile against custom backends","permalink":"/guides/custom-backend"},"next":{"title":"Create a transpiler plugin","permalink":"/guides/create-transpiler-plugin"}}');var t=s(74848),a=s(28453);const l={title:"Install and use transpiler plugins",sidebar_label:"Install and use transpiler plugins",description:"How to install and use transpiler plugins in Qiskit.",notebook_path:"docs/guides/transpiler-plugins.ipynb"},r=void 0,o={},p=[{value:"List available plugins and install new ones",id:"list-available-plugins-and-install-new-ones",level:2},{value:"List available transpiler stage plugins",id:"list-available-transpiler-stage-plugins",level:3},{value:"List available unitary synthesis plugins",id:"list-available-unitary-synthesis-plugins",level:3},{value:"List available high-level synthesis plugins",id:"list-available-high-level-synthesis-plugins",level:3},{value:"Use a plugin",id:"use-a-plugin",level:2},{value:"Use a transpiler stage plugin",id:"use-a-transpiler-stage-plugin",level:3},{value:"Use a unitary synthesis plugin",id:"use-a-unitary-synthesis-plugin",level:3},{value:"Use a high-level synthesis plugin",id:"use-a-high-level-synthesis-plugin",level:3},{value:"Next steps",id:"next-steps",level:2}];function c(e){const i={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components},{Admonition:s,Details:n,OpenInLabBanner:l}=i;return s||h("Admonition",!0),n||h("Details",!0),l||h("OpenInLabBanner",!0),(0,t.jsxs)(t.Fragment,{children:["\n",(0,t.jsx)(i.admonition,{title:"Hindi pa naisalin",type:"note",children:(0,t.jsx)(i.p,{children:"Ang pahinang ito ay hindi pa naisalin. Nakikita mo ang orihinal na bersyon sa Ingles."})}),"\n",(0,t.jsx)(l,{notebookPath:"docs/guides/transpiler-plugins.ipynb"}),"\n","\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Package versions"})}),(0,t.jsx)(i.p,{children:"The code on this page was developed using the following requirements.\nWe recommend using these versions or newer."}),(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"qiskit[all]~=2.3.0\nqiskit-ibm-runtime~=0.43.1\n"})})]}),"\n",(0,t.jsx)(i.p,{children:"To facilitate the development and reuse of custom transpilation code by the wider community of Qiskit users, the Qiskit SDK supports a plugin interface that enables third-party Python packages to declare that they provide extended transpilation functionality accessible via Qiskit."}),"\n",(0,t.jsx)(i.p,{children:"Currently, third-party plugins can provide extended transpilation functionality in three ways:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["A ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/transpiler_plugins",children:"transpiler stage plugin"})," provides a pass manager that can be used in place of one of the ",(0,t.jsx)(i.a,{href:"transpiler-stages",children:"6 stages"})," of a preset staged pass manager: ",(0,t.jsx)(i.code,{children:"init"}),", ",(0,t.jsx)(i.code,{children:"layout"}),", ",(0,t.jsx)(i.code,{children:"routing"}),", ",(0,t.jsx)(i.code,{children:"translation"}),", ",(0,t.jsx)(i.code,{children:"optimization"}),", and ",(0,t.jsx)(i.code,{children:"scheduling"}),"."]}),"\n",(0,t.jsxs)(i.li,{children:["A ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.passes.synthesis.plugin.UnitarySynthesisPlugin",children:"unitary synthesis plugin"})," provides extended functionality for unitary gate synthesis."]}),"\n",(0,t.jsxs)(i.li,{children:["A ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.passes.synthesis.plugin.HighLevelSynthesisPlugin",children:"high-level synthesis plugin"}),' provides extended functionality for synthesizing "high-level objects" such as linear functions or Clifford operators. High-level objects are represented by subclasses of the ',(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.circuit.Operation",children:"Operation"})," class."]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"The rest of the page describes how to list available plugins, install new ones, and use them."}),"\n",(0,t.jsx)(i.h2,{id:"list-available-plugins-and-install-new-ones",children:"List available plugins and install new ones"}),"\n",(0,t.jsxs)(i.p,{children:["Qiskit already includes some built-in plugins for transpilation. To install more, you can use your Python package manager. For example, you might run ",(0,t.jsx)(i.code,{children:"pip install qiskit-toqm"})," to install the ",(0,t.jsx)(i.a,{href:"https://github.com/qiskit-toqm/qiskit-toqm",children:"Qiskit TOQM"})," routing stage plugin. A number of third-party plugins are part of the ",(0,t.jsx)(i.a,{href:"https://qiskit.github.io/ecosystem/#transpiler_plugin",children:"Qiskit ecosystem"}),"."]}),"\n",(0,t.jsx)(i.h3,{id:"list-available-transpiler-stage-plugins",children:"List available transpiler stage plugins"}),"\n",(0,t.jsxs)(i.p,{children:["Use the ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/transpiler_plugins#qiskit.transpiler.preset_passmanagers.plugin.list_stage_plugins",children:"list_stage_plugins"})," function, passing the name of the stage whose plugins you want to list."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'from qiskit.transpiler.preset_passmanagers.plugin import list_stage_plugins\n\nlist_stage_plugins("layout")\n'})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-text",children:"['default', 'dense', 'sabre', 'trivial']\n"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'list_stage_plugins("routing")\n'})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-text",children:"['basic', 'default', 'lookahead', 'none', 'sabre']\n"})}),"\n",(0,t.jsxs)(i.p,{children:["If ",(0,t.jsx)(i.code,{children:"qiskit-toqm"})," were installed, then ",(0,t.jsx)(i.code,{children:"toqm"})," would appear in the list of ",(0,t.jsx)(i.code,{children:"routing"})," plugins."]}),"\n",(0,t.jsx)(i.h3,{id:"list-available-unitary-synthesis-plugins",children:"List available unitary synthesis plugins"}),"\n",(0,t.jsxs)(i.p,{children:["Use the ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.passes.synthesis.plugin.unitary_synthesis_plugin_names",children:"unitary_synthesis_plugin_names"})," function."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:"from qiskit.transpiler.passes.synthesis import unitary_synthesis_plugin_names\n\nunitary_synthesis_plugin_names()\n"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-text",children:"['aqc', 'clifford', 'default', 'gridsynth', 'sk']\n"})}),"\n",(0,t.jsx)(i.h3,{id:"list-available-high-level-synthesis-plugins",children:"List available high-level synthesis plugins"}),"\n",(0,t.jsxs)(i.p,{children:["Use the ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.passes.synthesis.plugin.high_level_synthesis_plugin_names",children:"high_level_synthesis_plugin_names"}),' function, passing the name of the type of "high-level object" to be synthesized. The name corresponds to the ',(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.circuit.Operation#name",children:(0,t.jsx)(i.code,{children:"name"})})," attribute of the ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.circuit.Operation",children:"Operation"})," class representing the type of object being synthesized."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'from qiskit.transpiler.passes.synthesis import (\n    high_level_synthesis_plugin_names,\n)\n\nhigh_level_synthesis_plugin_names("clifford")\n'})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-text",children:"['ag', 'bm', 'default', 'greedy', 'layers', 'lnn', 'rb_default']\n"})}),"\n",(0,t.jsxs)(i.p,{children:["You can use the ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.passes.synthesis.plugin.HighLevelSynthesisPluginManager",children:"HighLevelSynthesisPluginManager"})," class to list the names of all high-level synthesis plugins:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:"from qiskit.transpiler.passes.synthesis.plugin import (\n    HighLevelSynthesisPluginManager,\n)\n\nHighLevelSynthesisPluginManager().plugins.names()\n"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-text",children:"['FullAdder.default',\n 'FullAdder.ripple_c04',\n 'FullAdder.ripple_v95',\n 'HalfAdder.default',\n 'HalfAdder.qft_d00',\n 'HalfAdder.ripple_c04',\n 'HalfAdder.ripple_r25',\n 'HalfAdder.ripple_v95',\n 'IntComp.default',\n 'IntComp.noaux',\n 'IntComp.twos',\n 'ModularAdder.default',\n 'ModularAdder.modular_v17',\n 'ModularAdder.qft_d00',\n 'ModularAdder.ripple_c04',\n 'ModularAdder.ripple_v95',\n 'Multiplier.cumulative_h18',\n 'Multiplier.default',\n 'Multiplier.qft_r17',\n 'PauliEvolution.default',\n 'PauliEvolution.rustiq',\n 'WeightedSum.default',\n 'annotated.default',\n 'clifford.ag',\n 'clifford.bm',\n 'clifford.default',\n 'clifford.greedy',\n 'clifford.layers',\n 'clifford.lnn',\n 'linear_function.default',\n 'linear_function.kms',\n 'linear_function.pmh',\n 'mcmt.default',\n 'mcmt.noaux',\n 'mcmt.vchain',\n 'mcmt.xgate',\n 'mcx.1_clean_b95',\n 'mcx.1_clean_kg24',\n 'mcx.1_dirty_kg24',\n 'mcx.2_clean_kg24',\n 'mcx.2_dirty_kg24',\n 'mcx.default',\n 'mcx.gray_code',\n 'mcx.n_clean_m15',\n 'mcx.n_dirty_i15',\n 'mcx.noaux_hp24',\n 'mcx.noaux_v24',\n 'permutation.acg',\n 'permutation.basic',\n 'permutation.default',\n 'permutation.kms',\n 'permutation.token_swapper',\n 'qft.default',\n 'qft.full',\n 'qft.line',\n 'clifford.rb_default']\n"})}),"\n",(0,t.jsx)(i.h2,{id:"use-a-plugin",children:"Use a plugin"}),"\n",(0,t.jsx)(i.p,{children:"In this section, we show how to use transpiler plugins. In the code examples, we use plugins that come with Qiskit, but plugins installed from third-party packages are used the same way."}),"\n",(0,t.jsx)(i.h3,{id:"use-a-transpiler-stage-plugin",children:"Use a transpiler stage plugin"}),"\n",(0,t.jsxs)(i.p,{children:["To use a transpiler stage plugin, specify its name with the appropriate argument to ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.generate_preset_pass_manager#qiskit.transpiler.generate_preset_pass_manager",children:(0,t.jsx)(i.code,{children:"generate_preset_pass_manager"})})," or ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/compiler#qiskit.compiler.transpile",children:(0,t.jsx)(i.code,{children:"transpile"})}),". The argument is formed by appending ",(0,t.jsx)(i.code,{children:"_method"})," to the name of the transpilation stage. For example, to use the ",(0,t.jsx)(i.code,{children:"lookahead"})," routing plugin, we would specify ",(0,t.jsx)(i.code,{children:"lookahead"})," for the ",(0,t.jsx)(i.code,{children:"routing_method"})," argument:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'from qiskit.transpiler import generate_preset_pass_manager\nfrom qiskit_ibm_runtime import QiskitRuntimeService\n\nservice = QiskitRuntimeService()\nbackend = service.backend("ibm_fez")\n\npass_manager = generate_preset_pass_manager(\n    optimization_level=3, backend=backend, routing_method="lookahead"\n)\n'})}),"\n",(0,t.jsx)(i.h3,{id:"use-a-unitary-synthesis-plugin",children:"Use a unitary synthesis plugin"}),"\n",(0,t.jsxs)(i.p,{children:["To use a unitary synthesis plugin, specify its name as the ",(0,t.jsx)(i.code,{children:"unitary_synthesis_method"})," argument to ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.generate_preset_pass_manager#qiskit.transpiler.generate_preset_pass_manager",children:(0,t.jsx)(i.code,{children:"generate_preset_pass_manager"})})," or ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/compiler#qiskit.compiler.transpile",children:(0,t.jsx)(i.code,{children:"transpile"})}),":"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'pass_manager = generate_preset_pass_manager(\n    optimization_level=3,\n    backend=backend,\n    unitary_synthesis_method="sk",\n    unitary_synthesis_plugin_config=dict(\n        basis_gates=["cz", "id", "rz", "sx", "x"]\n    ),\n)\n'})}),"\n",(0,t.jsxs)(i.p,{children:["Unitary synthesis is used in the ",(0,t.jsx)(i.code,{children:"init"}),", ",(0,t.jsx)(i.code,{children:"translation"}),", and ",(0,t.jsx)(i.code,{children:"optimization"})," stages of the staged pass manager returned by ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.generate_preset_pass_manager#qiskit.transpiler.generate_preset_pass_manager",children:(0,t.jsx)(i.code,{children:"generate_preset_pass_manager"})})," or used in ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/compiler#qiskit.compiler.transpile",children:(0,t.jsx)(i.code,{children:"transpile"})}),". See ",(0,t.jsx)(i.a,{href:"transpiler-stages",children:"Transpiler stages"})," for a description of these stages."]}),"\n",(0,t.jsxs)(i.p,{children:["Use the ",(0,t.jsx)(i.code,{children:"unitary_synthesis_plugin_config"})," argument, a free-form dictionary, to pass options for the unitary synthesis method. The documentation of the synthesis method should explain the options it supports. See ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/transpiler_synthesis_plugins#unitary-synthesis-plugins-2",children:"this list"})," for links to the documentation of the built-in unitary synthesis plugins."]}),"\n",(0,t.jsx)(i.h3,{id:"use-a-high-level-synthesis-plugin",children:"Use a high-level synthesis plugin"}),"\n",(0,t.jsxs)(i.p,{children:["First, create an ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.passes.HLSConfig",children:"HLSConfig"})," to\nstore the names of the plugins to use for various high-level objects. For example:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:'from qiskit.transpiler.passes import HLSConfig\n\nhls_config = HLSConfig(clifford=["layers"], linear_function=["pmh"])\n'})}),"\n",(0,t.jsxs)(i.p,{children:["This code cell creates a high-level synthesis configuration that uses the ",(0,t.jsx)(i.code,{children:"layers"})," plugin\nfor synthesizing ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.quantum_info.Clifford#clifford",children:"Clifford"})," objects and the ",(0,t.jsx)(i.code,{children:"pmh"})," plugin for synthesizing\n",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.circuit.library.LinearFunction#linearfunction",children:"LinearFunction"})," objects. The names of the keyword arguments correspond to the\n",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.circuit.Operation#name",children:(0,t.jsx)(i.code,{children:"name"})})," attribute of the ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.circuit.Operation",children:"Operation"})," class representing the type of object being synthesized.\nFor each high-level object, the list of given plugins are tried in sequence until one of them\nsucceeds (in the example above, each list only contains a single plugin)."]}),"\n",(0,t.jsxs)(i.p,{children:["In addition to specifying\na plugin by its name, you can instead pass a ",(0,t.jsx)(i.code,{children:"(name, options)"})," tuple, where the second element of the tuple is a dictionary containing options for the plugin. The documentation of the synthesis method should explain the options it supports. See ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/transpiler_synthesis_plugins#high-level-synthesis-plugins-2",children:"this list"})," for links to the documentation of the built-in high-level synthesis plugins."]}),"\n",(0,t.jsxs)(i.p,{children:["Once you have created the ",(0,t.jsx)(i.code,{children:"HLSConfig"})," object, pass it as the\n",(0,t.jsx)(i.code,{children:"hls_config"})," argument to ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.generate_preset_pass_manager#qiskit.transpiler.generate_preset_pass_manager",children:(0,t.jsx)(i.code,{children:"generate_preset_pass_manager"})})," or ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/compiler#qiskit.compiler.transpile",children:(0,t.jsx)(i.code,{children:"transpile"})}),":"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-python",children:"pass_manager = generate_preset_pass_manager(\n    optimization_level=3, backend=backend, hls_config=hls_config\n)\n"})}),"\n",(0,t.jsxs)(i.p,{children:["High-level synthesis is used in the ",(0,t.jsx)(i.code,{children:"init"}),", ",(0,t.jsx)(i.code,{children:"translation"}),", and ",(0,t.jsx)(i.code,{children:"optimization"})," stages of the staged pass manager returned by ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.transpiler.generate_preset_pass_manager#qiskit.transpiler.generate_preset_pass_manager",children:(0,t.jsx)(i.code,{children:"generate_preset_pass_manager"})})," or used in ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/compiler#qiskit.compiler.transpile",children:(0,t.jsx)(i.code,{children:"transpile"})}),". See ",(0,t.jsx)(i.a,{href:"transpiler-stages",children:"Transpiler stages"})," for a description of these stages."]}),"\n",(0,t.jsx)(i.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,t.jsx)(s,{type:"tip",title:"Recommendation",children:(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"./create-transpiler-plugin",children:"Create a transpiler plugin"}),"."]}),"\n",(0,t.jsxs)(i.li,{children:["Check out the ",(0,t.jsx)(i.a,{href:"https://docs.quantum.ibm.com/tutorials",children:"tutorials"})," for examples of transpiling and running quantum circuits."]}),"\n"]})})]})}function d(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}function h(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},28453(e,i,s){s.d(i,{R:()=>l,x:()=>r});var n=s(96540);const t={},a=n.createContext(t);function l(e){const i=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),n.createElement(a.Provider,{value:i},e.children)}}}]);