"use strict";(globalThis.webpackChunkdoqumentation=globalThis.webpackChunkdoqumentation||[]).push([[579],{96794(e,i,t){t.r(i),t.d(i,{assets:()=>r,contentTitle:()=>m,default:()=>d,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"guides/max-execution-time","title":"Maximum execution time for Qiskit Runtime workloads","description":"Describes how long a Qiskit Runtime job can run, regardless of what execution mode is used.","source":"@site/i18n/tl/docusaurus-plugin-content-docs/current/guides/max-execution-time.mdx","sourceDirName":"guides","slug":"/guides/max-execution-time","permalink":"/guides/max-execution-time","draft":false,"unlisted":false,"editUrl":"https://github.com/JanLahmann/doQumentation/tree/main/docs/guides/max-execution-time.mdx","tags":[],"version":"current","frontMatter":{"title":"Maximum execution time for Qiskit Runtime workloads","sidebar_label":"Maximum execution time for Qiskit Runtime workloads","description":"Describes how long a Qiskit Runtime job can run, regardless of what execution mode is used.","notebook_path":"docs/guides/max-execution-time.ipynb"},"sidebar":"tutorialsSidebar","previous":{"title":"Minimize job run time","permalink":"/guides/minimize-time"},"next":{"title":"Job limits","permalink":"/guides/job-limits"}}');var s=t(74848),o=t(28453);const a={title:"Maximum execution time for Qiskit Runtime workloads",sidebar_label:"Maximum execution time for Qiskit Runtime workloads",description:"Describes how long a Qiskit Runtime job can run, regardless of what execution mode is used.",notebook_path:"docs/guides/max-execution-time.ipynb"},m=void 0,r={},c=[{value:"Set a maximum execution time",id:"set-a-maximum-execution-time",level:2},{value:"Service-calculated maximum execution time",id:"service-calculated-maximum-execution-time",level:2},{value:"Batch maximum execution time",id:"batch-maximum-execution-time",level:2},{value:"Session maximum execution time",id:"session-maximum-execution-time",level:2},{value:"Other limitations",id:"other-limitations",level:2},{value:"Next steps",id:"next-steps",level:2}];function u(e){const i={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components},{Admonition:t,OpenInLabBanner:n}=i;return t||l("Admonition",!0),n||l("OpenInLabBanner",!0),(0,s.jsxs)(s.Fragment,{children:["\n",(0,s.jsx)(i.admonition,{title:"Hindi pa naisalin",type:"note",children:(0,s.jsx)(i.p,{children:"Ang pahinang ito ay hindi pa naisalin. Nakikita mo ang orihinal na bersyon sa Ingles."})}),"\n",(0,s.jsx)(n,{notebookPath:"docs/guides/max-execution-time.ipynb"}),"\n",(0,s.jsxs)(i.p,{children:["To ensure fairness, there is a ",(0,s.jsx)(i.a,{href:"#max-QPU",children:"service-calculated"})," maximum amount of time each Qiskit Runtime job can run. If a job exceeds this time limit, it is forcibly canceled and a ",(0,s.jsx)(i.code,{children:"RuntimeJobMaxTimeoutError"})," exception is raised. You can also ",(0,s.jsx)(i.a,{href:"#max-job",children:"set a maximum execution time"})," on your jobs to help control costs."]}),"\n",(0,s.jsx)(t,{type:"note",children:(0,s.jsx)(i.p,{children:"The session or batch is immediately terminated when the cost limit is reached."})}),"\n",(0,s.jsx)("span",{id:"max-job"}),"\n",(0,s.jsx)(i.h2,{id:"set-a-maximum-execution-time",children:"Set a maximum execution time"}),"\n",(0,s.jsx)(i.p,{children:"The maximum execution time for a job is the smaller of these values:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["The value set for ",(0,s.jsx)(i.code,{children:"max_execution_time"})]}),"\n",(0,s.jsx)(i.li,{children:"The service-determined job timeout value"}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.code,{children:"max_execution_time"})," value is based on ",(0,s.jsx)(i.em,{children:"quantum time"}),", not wall clock time. Quantum time is the amount of time that the QPU is dedicated to processing your job."]}),"\n",(0,s.jsxs)(i.p,{children:["Set the maximum execution time (in seconds) on the job options, as shown in the following example.  See ",(0,s.jsx)(i.a,{href:"/guides/specify-runtime-options",children:"Specify options"})," for information about setting options."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-python",children:"from qiskit_ibm_runtime import QiskitRuntimeService\nfrom qiskit_ibm_runtime import EstimatorV2 as Estimator\n\nservice = QiskitRuntimeService()\nbackend = service.least_busy(operational=True, simulator=False)\n\nestimator = Estimator(mode=backend)\n\nestimator.options.max_execution_time = 2500\n"})}),"\n",(0,s.jsx)(i.p,{children:"You can also find how much quantum time completed jobs have used by returning the job metrics as follows:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-python",children:"# Find quantum time used by the job\nprint(f\"Quantum time used by job {job.job_id()} was {job.metrics()['usage']['quantum_seconds']} seconds\")\n"})}),"\n",(0,s.jsx)("span",{id:"max-QPU"}),"\n",(0,s.jsx)(i.h2,{id:"service-calculated-maximum-execution-time",children:"Service-calculated maximum execution time"}),"\n",(0,s.jsxs)(i.p,{children:["The service calculates an appropriate job timeout value based on the input circuits and options. This service-calculated timeout is capped at 3 hours to ensure fair device usage. If a ",(0,s.jsx)(i.code,{children:"max_execution_time"})," is also specified for the job, the lesser of the two values is used."]}),"\n",(0,s.jsxs)(i.p,{children:["For example, if you specify ",(0,s.jsx)(i.code,{children:"max_execution_time=5000"})," (approximately 83 minutes), but the service determines it should not take more than 5 minutes (300 seconds) to execute the job, then the job is canceled after 5 minutes."]}),"\n",(0,s.jsx)("span",{id:"batch-max-time"}),"\n",(0,s.jsx)(i.h2,{id:"batch-maximum-execution-time",children:"Batch maximum execution time"}),"\n",(0,s.jsx)(i.p,{children:"When a batch is started, it is assigned a maximum time to live (maximum TTL) value. After this TTL is reached, the batch is terminated, any jobs that are already running continue running, and any queued jobs that remain in the batch are put into a failed state."}),"\n",(0,s.jsx)(i.p,{children:"Batches also have an interactive time to live (interactive TTL) value between jobs that cannot be configured. If you don't explicitly close a batch, it is deactivated after the interactive TTL expires and can be reactivated at any time until it reaches its  maximum TTL."}),"\n",(0,s.jsxs)(i.p,{children:["For instructions to work with these values, see ",(0,s.jsx)(i.a,{href:"/guides/run-jobs-batch",children:"Run jobs in a batch."})]}),"\n",(0,s.jsx)("span",{id:"session-max-time"}),"\n",(0,s.jsx)(i.h2,{id:"session-maximum-execution-time",children:"Session maximum execution time"}),"\n",(0,s.jsx)(i.p,{children:"When a session is started, it is assigned a maximum TTL value that determines how long a session can run. After this TTL is reached, the session is terminated, any jobs that are already running continue running, and any queued jobs that remain in the session are put into a failed state."}),"\n",(0,s.jsx)(i.p,{children:"There is also an interactive TTL value that cannot be configured.  If no session jobs are queued within that window, the session is temporarily deactivated."}),"\n",(0,s.jsxs)(i.p,{children:["For instructions to work with these values, see ",(0,s.jsx)(i.a,{href:"/guides/run-jobs-session",children:"Run jobs in a session."})]}),"\n",(0,s.jsx)(i.h2,{id:"other-limitations",children:"Other limitations"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Inputs to jobs cannot exceed 50MB in size."}),"\n",(0,s.jsxs)(i.li,{children:["Open Plan users can use up to 10 minutes of quantum time per 28-day rolling window. Quantum time is the amount of time that the QPU is dedicated to processing your job. You can view an instance's usage on the ",(0,s.jsx)(i.a,{href:"https://quantum.cloud.ibm.com/instances",children:"Instances"})," page."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,s.jsx)(t,{type:"tip",title:"Recommendations",children:(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.a,{href:"estimate-job-run-time",children:"Workload usage"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Review these tips: ",(0,s.jsx)(i.a,{href:"minimize-time",children:"Minimize job run time"}),"."]}),"\n"]})})]})}function d(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}function l(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},28453(e,i,t){t.d(i,{R:()=>a,x:()=>m});var n=t(96540);const s={},o=n.createContext(s);function a(e){const i=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function m(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(o.Provider,{value:i},e.children)}}}]);