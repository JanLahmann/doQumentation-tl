"use strict";(globalThis.webpackChunkdoqumentation=globalThis.webpackChunkdoqumentation||[]).push([[3478],{64487(e,t,i){i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"guides/repetition-rate-execution","title":"Qubit initialization","description":"Explanatory content about dynamic repetition rate execution","source":"@site/i18n/tl/docusaurus-plugin-content-docs/current/guides/repetition-rate-execution.mdx","sourceDirName":"guides","slug":"/guides/repetition-rate-execution","permalink":"/guides/repetition-rate-execution","draft":false,"unlisted":false,"editUrl":"https://github.com/JanLahmann/doQumentation/tree/main/docs/guides/repetition-rate-execution.mdx","tags":[],"version":"current","frontMatter":{"title":"Qubit initialization","sidebar_label":"Qubit initialization","description":"Explanatory content about dynamic repetition rate execution","notebook_path":"docs/guides/repetition-rate-execution.ipynb"},"sidebar":"tutorialsSidebar","previous":{"title":"Calibration jobs","permalink":"/guides/calibration-jobs"},"next":{"title":"Retired QPUs","permalink":"/guides/retired-qpus"}}');var r=i(74848),o=i(28453);const s={title:"Qubit initialization",sidebar_label:"Qubit initialization",description:"Explanatory content about dynamic repetition rate execution",notebook_path:"docs/guides/repetition-rate-execution.ipynb"},a=void 0,c={},l=[{value:"Specify rep_delay for a primitive job",id:"specify-rep_delay-for-a-primitive-job",level:2},{value:"Next steps",id:"next-steps",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components},{Admonition:n,Details:s,OpenInLabBanner:a}=t;return n||h("Admonition",!0),s||h("Details",!0),a||h("OpenInLabBanner",!0),(0,r.jsxs)(r.Fragment,{children:["\n",(0,r.jsx)(t.admonition,{title:"Hindi pa naisalin",type:"note",children:(0,r.jsx)(t.p,{children:"Ang pahinang ito ay hindi pa naisalin. Nakikita mo ang orihinal na bersyon sa Ingles."})}),"\n",(0,r.jsx)(a,{notebookPath:"docs/guides/repetition-rate-execution.ipynb"}),"\n","\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"Package versions"})}),(0,r.jsx)(t.p,{children:"The code on this page was developed using the following requirements.\nWe recommend using these versions or newer."}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"qiskit-ibm-runtime~=0.43.1\n"})})]}),"\n",(0,r.jsxs)(t.p,{children:["When a circuit is executed on an IBM\xae quantum processing unit (QPU), an implicit reset is typically inserted at the beginning of the circuit to ensure the qubits are initialized to zero. This is controlled by the ",(0,r.jsx)(t.code,{children:"init_qubits"})," flag, set as a ",(0,r.jsx)(t.a,{href:"https://docs.quantum.ibm.com/api/qiskit-ibm-runtime/options-execution-options-v2",children:"primitive execution option"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["However, the reset process is not perfect, leading to state preparation errors. To alleviate the error, the system also inserts repetition delay time (or ",(0,r.jsx)(t.code,{children:"rep_delay"}),") between circuits. Each backend has a different default ",(0,r.jsx)(t.code,{children:"rep_delay"}),", but it's usually longer than T1 to allow the environment to reset the qubits. The default ",(0,r.jsx)(t.code,{children:"rep_delay"})," can be queried by running ",(0,r.jsx)(t.code,{children:"backend.default_rep_delay"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["All IBM QPUs use dynamic repetition rate execution, which allows you to change the ",(0,r.jsx)(t.code,{children:"rep_delay"})," for each job. Circuits you submit in a primitive job are batched together for execution on the QPU. These circuits are executed by iterating over the circuits for each shot requested; the execution is column-wise over a matrix of circuits and shots, as illustrated in the following figure."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"The first column represents shot 0.  The circuits are run in order from 0 through 3.  The second column represents shot 1.  The circuits are run in order from 0 through 3.  The remaining columns follow the same pattern. ",src:i(27922).A+"",title:"Column-wise execution matrix",width:"4838",height:"1508"})}),"\n",(0,r.jsxs)(t.p,{children:["Because ",(0,r.jsx)(t.code,{children:"rep_delay"})," is inserted between circuits, each shot of the execution encounters this delay. Therefore, lowering the ",(0,r.jsx)(t.code,{children:"rep_delay"})," decreases the total QPU execution time, but at the expense of increased state preparation error rate, as can be seen in the following image:"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"This image shows that as the rep_delay value is lowered, the state preparation error rate increases.",src:i(86090).A+"",title:"Repetition delay versus error rate",width:"800",height:"600"})}),"\n",(0,r.jsxs)(t.p,{children:["Setting both ",(0,r.jsx)(t.code,{children:"rep_delay=0"})," and ",(0,r.jsx)(t.code,{children:"init_qubits=False"}),' essentially "merges" the circuits together, since the qubits will begin in the final state from the previous shot.']}),"\n",(0,r.jsxs)(t.p,{children:["Note that while circuits in a primitive job are batched together for QPU execution, there is no guarantee on the order the circuits from PUBs are executed. Thus, even though you submit ",(0,r.jsx)(t.code,{children:"pubs=[pub1, pub2]"}),", there is no guarantee the circuits from ",(0,r.jsx)(t.code,{children:"pub1"})," will run before those from ",(0,r.jsx)(t.code,{children:"pub2"}),". There is also no guarantee that circuits from the same job would run as a single batch on the QPU."]}),"\n",(0,r.jsx)(t.h2,{id:"specify-rep_delay-for-a-primitive-job",children:"Specify rep_delay for a primitive job"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:"from qiskit_ibm_runtime import QiskitRuntimeService, SamplerV2 as Sampler\n\nservice = QiskitRuntimeService()\n\n# Make sure your backend supports it\nbackend = service.least_busy(\n    operational=True, min_num_qubits=100, dynamic_reprate_enabled=True\n)\n\n# Determine the allowable range\nbackend.rep_delay_range\nsampler = Sampler(mode=backend)\n\n# Specify a value in the supported range\nsampler.options.execution.rep_delay = 0.0005\n"})}),"\n",(0,r.jsx)(t.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,r.jsx)(n,{type:"tip",title:"Recommendations",children:(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Try an example in the ",(0,r.jsx)(t.a,{href:"/tutorials/quantum-approximate-optimization-algorithm",children:"Quantum approximate optimization algorithm (QAOA)"})," tutorial."]}),"\n",(0,r.jsxs)(t.li,{children:["Review how to ",(0,r.jsx)(t.a,{href:"./get-started-with-primitives",children:"get started with primitives."})]}),"\n"]})})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}function h(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},27922(e,t,i){i.d(t,{A:()=>n});const n=i.p+"assets/images/circuits_shots_matrix1-5dfd5013cd1a03abd518a160551fe973.avif"},86090(e,t,i){i.d(t,{A:()=>n});const n=i.p+"assets/images/rep_delay-e1c326493c36201cd25c3a58bbe07ea1.avif"},28453(e,t,i){i.d(t,{R:()=>s,x:()=>a});var n=i(96540);const r={},o=n.createContext(r);function s(e){const t=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);