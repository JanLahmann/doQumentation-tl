"use strict";(globalThis.webpackChunkdoqumentation=globalThis.webpackChunkdoqumentation||[]).push([[828],{70677(I,e,s){s.r(e),s.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"tutorials/transpilation-optimizations-with-sabre","title":"Transpilation optimizations with SABRE","description":"SABRE is an optimization tool for layout and routing. It is especially effective with large-scale circuits and complex coupling maps,","source":"@site/i18n/tl/docusaurus-plugin-content-docs/current/tutorials/transpilation-optimizations-with-sabre.mdx","sourceDirName":"tutorials","slug":"/tutorials/transpilation-optimizations-with-sabre","permalink":"/tutorials/transpilation-optimizations-with-sabre","draft":false,"unlisted":false,"editUrl":"https://github.com/JanLahmann/doQumentation/tree/main/docs/tutorials/transpilation-optimizations-with-sabre.mdx","tags":[],"version":"current","frontMatter":{"title":"Transpilation optimizations with SABRE","sidebar_label":"Transpilation optimizations with SABRE","description":"SABRE is an optimization tool for layout and routing. It is especially effective with large-scale circuits and complex coupling maps,","notebook_path":"docs/tutorials/transpilation-optimizations-with-sabre.ipynb"},"sidebar":"tutorialsSidebar","previous":{"title":"Qiskit AI-powered transpiler service introduction","permalink":"/tutorials/ai-transpiler-introduction"},"next":{"title":"Long-range entanglement gamit ang mga dynamic na circuit","permalink":"/tutorials/long-range-entanglement"}}');var t=s(74848),n=s(28453);const a={title:"Transpilation optimizations with SABRE",sidebar_label:"Transpilation optimizations with SABRE",description:"SABRE is an optimization tool for layout and routing. It is especially effective with large-scale circuits and complex coupling maps,",notebook_path:"docs/tutorials/transpilation-optimizations-with-sabre.ipynb"},r="Transpilation Optimizations with SABRE",l={},c=[{value:"Background",id:"background",level:2},{value:"Why use SABRE?",id:"why-use-sabre",level:3},{value:"What you\u2019ll learn",id:"what-youll-learn",level:3},{value:"Requirements",id:"requirements",level:2},{value:"Setup",id:"setup",level:2},{value:"Part I. Using SABRE with Qiskit patterns",id:"part-i-using-sabre-with-qiskit-patterns",level:2},{value:"Step 1: Map classical inputs to a quantum problem",id:"step-1-map-classical-inputs-to-a-quantum-problem",level:3},{value:"Step 2: Optimize problem for quantum hardware execution",id:"step-2-optimize-problem-for-quantum-hardware-execution",level:3},{value:"Why Are Circuit Size and Depth Important?",id:"why-are-circuit-size-and-depth-important",level:4},{value:"Key parameters",id:"key-parameters",level:4},{value:"Configurations in this tutorial",id:"configurations-in-this-tutorial",level:4},{value:"Step 3: Execute using Qiskit primitives",id:"step-3-execute-using-qiskit-primitives",level:3},{value:"Step 4: Post-process and return result in desired classical format",id:"step-4-post-process-and-return-result-in-desired-classical-format",level:3},{value:"Analysis of Results",id:"analysis-of-results",level:3},{value:"Part II. Configuring the heuristic in SABRE and using Serverless",id:"part-ii-configuring-the-heuristic-in-sabre-and-using-serverless",level:2},{value:"How to Change the Routing Heuristic",id:"how-to-change-the-routing-heuristic",level:3},{value:"Results without serverless runtime (1 layout trial):",id:"results-without-serverless-runtime-1-layout-trial",level:3},{value:"Results with serverless runtime (multiple layout trials)",id:"results-with-serverless-runtime-multiple-layout-trials",level:3},{value:"Conclusion",id:"conclusion",level:2},{value:"Tutorial survey",id:"tutorial-survey",level:2}];function o(I){const e={a:"a",admonition:"admonition",annotation:"annotation",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msqrt:"msqrt",msub:"msub",msup:"msup",mtext:"mtext",ol:"ol",p:"p",path:"path",pre:"pre",semantics:"semantics",span:"span",strong:"strong",svg:"svg",ul:"ul",...(0,n.R)(),...I.components},{OpenInLabBanner:i}=e;return i||function(I,e){throw new Error("Expected "+(e?"component":"object")+" `"+I+"` to be defined: you likely forgot to import, pass, or provide it.")}("OpenInLabBanner",!0),(0,t.jsxs)(t.Fragment,{children:["\n",(0,t.jsx)(e.admonition,{title:"Hindi pa naisalin",type:"note",children:(0,t.jsx)(e.p,{children:"Ang pahinang ito ay hindi pa naisalin. Nakikita mo ang orihinal na bersyon sa Ingles."})}),"\n",(0,t.jsx)(i,{notebookPath:"docs/tutorials/transpilation-optimizations-with-sabre.ipynb"}),"\n","\n",(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"transpilation-optimizations-with-sabre",children:"Transpilation Optimizations with SABRE"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.em,{children:"Usage estimate: under one minute on a Heron r2 processor (NOTE: This is an estimate only. Your runtime might vary.)"})}),"\n",(0,t.jsx)(e.h2,{id:"background",children:"Background"}),"\n",(0,t.jsxs)(e.p,{children:["Transpilation is a critical step in Qiskit that converts quantum circuits into forms compatible with specific quantum hardware. It involves two key stages: ",(0,t.jsx)(e.strong,{children:"qubit layout"})," (mapping logical qubits to physical qubits on the device) and ",(0,t.jsx)(e.strong,{children:"gate routing"})," (ensuring multi-qubit gates respect device connectivity by inserting SWAP gates as needed)."]}),"\n",(0,t.jsxs)(e.p,{children:["SABRE (",(0,t.jsx)(e.em,{children:"SWAP-Based Bidirectional heuristic search algorithm"}),") is a powerful optimization tool for both layout and routing. It is especially effective for ",(0,t.jsx)(e.strong,{children:"large-scale circuits"})," (100+ qubits) and devices with complex coupling maps, like the ",(0,t.jsx)(e.strong,{children:"IBM\xae Heron"}),", where the exponential growth in possible qubit mappings demands efficient solutions."]}),"\n",(0,t.jsx)(e.h3,{id:"why-use-sabre",children:"Why use SABRE?"}),"\n",(0,t.jsxs)(e.p,{children:["SABRE minimizes the number of SWAP gates and reduces circuit depth, improving circuit performance on real hardware. Its heuristic-based approach makes it ideal for advanced hardware and large, complex circuits. Recent improvements introduced in the ",(0,t.jsx)(e.a,{href:"https://arxiv.org/abs/2409.08368",children:"LightSABRE"})," algorithm further optimize SABRE\u2019s performance, offering faster runtimes and fewer SWAP gates. These enhancements make it even more effective for large-scale circuits."]}),"\n",(0,t.jsx)(e.h3,{id:"what-youll-learn",children:"What you\u2019ll learn"}),"\n",(0,t.jsx)(e.p,{children:"This tutorial is divided into two parts:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["Learn to use SABRE with ",(0,t.jsx)(e.strong,{children:"Qiskit patterns"})," for advanced optimization of large circuits."]}),"\n",(0,t.jsxs)(e.li,{children:["Leverage ",(0,t.jsx)(e.strong,{children:"qiskit_serverless"})," to maximize SABRE\u2019s potential for scalable and efficient transpilation."]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"You will:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Optimize SABRE for circuits with 100+ qubits, surpassing default transpilation settings like ",(0,t.jsx)(e.code,{children:"optimization_level=3"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["Explore ",(0,t.jsx)(e.strong,{children:"LightSABRE enhancements"})," that improve runtime and reduce gate counts."]}),"\n",(0,t.jsxs)(e.li,{children:["Customize key SABRE parameters (",(0,t.jsx)(e.code,{children:"swap_trials"}),", ",(0,t.jsx)(e.code,{children:"layout_trials"}),", ",(0,t.jsx)(e.code,{children:"max_iterations"}),", ",(0,t.jsx)(e.code,{children:"heuristic"}),") to balance ",(0,t.jsx)(e.strong,{children:"circuit quality"})," and ",(0,t.jsx)(e.strong,{children:"transpilation runtime"}),"."]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"requirements",children:"Requirements"}),"\n",(0,t.jsx)(e.p,{children:"Before starting this tutorial, be sure you have the following installed:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Qiskit SDK v1.0 or later, with ",(0,t.jsx)(e.a,{href:"https://docs.quantum.ibm.com/api/qiskit/visualization",children:"visualization"})," support"]}),"\n",(0,t.jsxs)(e.li,{children:["Qiskit Runtime v0.28 or later (",(0,t.jsx)(e.code,{children:"pip install qiskit-ibm-runtime"}),")"]}),"\n",(0,t.jsxs)(e.li,{children:["Serverless (",(0,t.jsx)(e.code,{children:"pip install qiskit-ibm-catalog qiskit_serverless"}),")"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"setup",children:"Setup"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# Added by doQumentation \u2014 installs packages not in the Binder environment\n%pip install -q qiskit-serverless\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"from qiskit import QuantumCircuit\nfrom qiskit.quantum_info import SparsePauliOp\nfrom qiskit_ibm_catalog import QiskitServerless, QiskitFunction\nfrom qiskit_ibm_runtime import QiskitRuntimeService\nfrom qiskit_ibm_runtime import EstimatorOptions\nfrom qiskit_ibm_runtime import EstimatorV2 as Estimator\nfrom qiskit.transpiler import CouplingMap\nfrom qiskit.transpiler.passes import SabreLayout, SabreSwap\nfrom qiskit.transpiler.preset_passmanagers import generate_preset_pass_manager\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport time\n"})}),"\n",(0,t.jsx)(e.h2,{id:"part-i-using-sabre-with-qiskit-patterns",children:"Part I. Using SABRE with Qiskit patterns"}),"\n",(0,t.jsxs)(e.p,{children:["SABRE can be used in Qiskit to optimize quantum circuits by handling both the qubit layout and gate routing stages. In this section, we\u2019ll guide you through the ",(0,t.jsx)(e.strong,{children:"minimal example"})," of using SABRE with Qiskit patterns, with the primary focus on step 2 of optimization."]}),"\n",(0,t.jsx)(e.p,{children:"To run SABRE, you need:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["A ",(0,t.jsx)(e.strong,{children:"DAG"})," (Directed Acyclic Graph) representation of your quantum circuit."]}),"\n",(0,t.jsxs)(e.li,{children:["The ",(0,t.jsx)(e.strong,{children:"coupling map"})," from the backend, which specifies how qubits are physically connected."]}),"\n",(0,t.jsxs)(e.li,{children:["The ",(0,t.jsx)(e.strong,{children:"SABRE pass"}),", which applies the algorithm to optimize the layout and routing."]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["For this part, we\u2019ll focus on the ",(0,t.jsx)(e.strong,{children:"SabreLayout"})," pass. It performs both layout and routing trials, working to find the most efficient initial layout while minimizing the number of SWAP gates needed. Importantly, ",(0,t.jsx)(e.code,{children:"SabreLayout"}),", just by itself, internally optimizes both the layout and routing by storing the solution that adds the least number of SWAP gates. Note that when using just ",(0,t.jsx)(e.strong,{children:"SabreLayout"}),", we cannot change the heuristic of SABRE, but we are able to customize the number of ",(0,t.jsx)(e.code,{children:"layout_trials"}),"."]}),"\n",(0,t.jsx)(e.h3,{id:"step-1-map-classical-inputs-to-a-quantum-problem",children:"Step 1: Map classical inputs to a quantum problem"}),"\n",(0,t.jsxs)(e.p,{children:["A ",(0,t.jsx)(e.strong,{children:"GHZ (Greenberger-Horne-Zeilinger)"})," circuit is a quantum circuit that prepares an entangled state where all qubits are either in the ",(0,t.jsx)(e.code,{children:"|0...0\u27e9"})," or ",(0,t.jsx)(e.code,{children:"|1...1\u27e9"})," state. The GHZ state for ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsx)(e.mi,{children:"n"})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"n"})]})})]})," qubits is mathematically represented as:\n",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{mathvariant:"normal",children:"\u2223"}),(0,t.jsx)(e.mtext,{children:"GHZ"}),(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e9"}),(0,t.jsx)(e.mo,{children:"="}),(0,t.jsxs)(e.mfrac,{children:[(0,t.jsx)(e.mn,{children:"1"}),(0,t.jsx)(e.msqrt,{children:(0,t.jsx)(e.mn,{children:"2"})})]}),(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mo,{fence:"true",children:"("}),(0,t.jsx)(e.mi,{mathvariant:"normal",children:"\u2223"}),(0,t.jsx)(e.mn,{children:"0"}),(0,t.jsxs)(e.msup,{children:[(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e9"}),(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mo,{children:"\u2297"}),(0,t.jsx)(e.mi,{children:"n"})]})]}),(0,t.jsx)(e.mo,{children:"+"}),(0,t.jsx)(e.mi,{mathvariant:"normal",children:"\u2223"}),(0,t.jsx)(e.mn,{children:"1"}),(0,t.jsxs)(e.msup,{children:[(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e9"}),(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mo,{children:"\u2297"}),(0,t.jsx)(e.mi,{children:"n"})]})]}),(0,t.jsx)(e.mo,{fence:"true",children:")"})]})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"|\\text{GHZ}\\rangle = \\frac{1}{\\sqrt{2}} \\left( |0\\rangle^{\\otimes n} + |1\\rangle^{\\otimes n} \\right)"})]})})}),(0,t.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(e.span,{className:"mord",children:"\u2223"}),(0,t.jsx)(e.span,{className:"mord text",children:(0,t.jsx)(e.span,{className:"mord",children:"GHZ"})}),(0,t.jsx)(e.span,{className:"mclose",children:"\u27e9"}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.jsx)(e.span,{className:"mrel",children:"="}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"1.3831em",verticalAlign:"-0.538em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,t.jsx)(e.span,{className:"mfrac",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsxs)(e.span,{className:"vlist",style:{height:"0.8451em"},children:[(0,t.jsxs)(e.span,{style:{top:"-2.551em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:(0,t.jsx)(e.span,{className:"mord sqrt mtight",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsxs)(e.span,{className:"vlist",style:{height:"0.9128em"},children:[(0,t.jsxs)(e.span,{className:"svg-align",style:{top:"-3em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{className:"mord mtight",style:{paddingLeft:"0.833em"},children:(0,t.jsx)(e.span,{className:"mord mtight",children:"2"})})]}),(0,t.jsxs)(e.span,{style:{top:"-2.8728em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{className:"hide-tail mtight",style:{minWidth:"0.853em",height:"1.08em"},children:(0,t.jsx)(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:(0,t.jsx)(e.path,{d:"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z"})})})]})]}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.1272em"},children:(0,t.jsx)(e.span,{})})})]})})})})]}),(0,t.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,t.jsxs)(e.span,{style:{top:"-3.394em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:"1"})})})]})]}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.538em"},children:(0,t.jsx)(e.span,{})})})]})}),(0,t.jsx)(e.span,{className:"mclose nulldelimiter"})]}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.jsxs)(e.span,{className:"minner",children:[(0,t.jsx)(e.span,{className:"mopen delimcenter",style:{top:"0em"},children:"("}),(0,t.jsx)(e.span,{className:"mord",children:"\u22230"}),(0,t.jsxs)(e.span,{className:"mclose",children:[(0,t.jsx)(e.span,{className:"mclose",children:"\u27e9"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsx)(e.span,{className:"vlist-t",children:(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.7713em"},children:(0,t.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsxs)(e.span,{className:"mord mtight",children:[(0,t.jsx)(e.span,{className:"mord mtight",children:"\u2297"}),(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"n"})]})})]})})})})})]}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.jsx)(e.span,{className:"mbin",children:"+"}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.jsx)(e.span,{className:"mord",children:"\u22231"}),(0,t.jsxs)(e.span,{className:"mclose",children:[(0,t.jsx)(e.span,{className:"mclose",children:"\u27e9"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsx)(e.span,{className:"vlist-t",children:(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.7713em"},children:(0,t.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsxs)(e.span,{className:"mord mtight",children:[(0,t.jsx)(e.span,{className:"mord mtight",children:"\u2297"}),(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"n"})]})})]})})})})})]}),(0,t.jsx)(e.span,{className:"mclose delimcenter",style:{top:"0em"},children:")"})]})]})]})]})]}),"\n",(0,t.jsx)(e.p,{children:"It is constructed by applying:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"A Hadamard gate to the first qubit to create superposition."}),"\n",(0,t.jsx)(e.li,{children:"A series of CNOT gates to entangle the remaining qubits with the first."}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["For this example, we intentionally construct a ",(0,t.jsx)(e.strong,{children:"star-topology GHZ circuit"}),' instead of a linear-topology one. In the star topology, the first qubit acts as the "hub," and all other qubits are entangled directly with it using CNOT gates. This choice is deliberate because, while the ',(0,t.jsx)(e.strong,{children:"linear topology GHZ state"})," can theoretically be implemented in ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"O"}),(0,t.jsx)(e.mo,{stretchy:"false",children:"("}),(0,t.jsx)(e.mi,{children:"N"}),(0,t.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(N)"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,t.jsx)(e.span,{className:"mopen",children:"("}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),(0,t.jsx)(e.span,{className:"mclose",children:")"})]})})]})," depth on a linear coupling map without any SWAP gates, SABRE would trivially find an optimal solution by mapping a 100-qubit GHZ circuit to a subgraph of the backend's heavy-hex coupling map."]}),"\n",(0,t.jsxs)(e.p,{children:["The ",(0,t.jsx)(e.strong,{children:"star topology GHZ circuit"})," poses a significantly more challenging problem. Although it can still theoretically be executed in ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"O"}),(0,t.jsx)(e.mo,{stretchy:"false",children:"("}),(0,t.jsx)(e.mi,{children:"N"}),(0,t.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(N)"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,t.jsx)(e.span,{className:"mopen",children:"("}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),(0,t.jsx)(e.span,{className:"mclose",children:")"})]})})]})," depth without SWAP gates, finding this solution requires identifying an optimal initial layout, which is much harder due to the non-linear connectivity of the circuit. This topology serves as a better test case for evaluating SABRE, as it demonstrates how configuration parameters impact layout and routing performance under more complex conditions."]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{alt:"ghz_star_topology.png",src:s(67488).A+"",width:"996",height:"592"})}),"\n",(0,t.jsx)(e.p,{children:"Notably:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["The ",(0,t.jsx)(e.strong,{children:"HighLevelSynthesis"})," tool can produce the optimal ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mi,{children:"O"}),(0,t.jsx)(e.mo,{stretchy:"false",children:"("}),(0,t.jsx)(e.mi,{children:"N"}),(0,t.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"O(N)"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,t.jsx)(e.span,{className:"mopen",children:"("}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),(0,t.jsx)(e.span,{className:"mclose",children:")"})]})})]})," depth solution for the star topology GHZ circuit without introducing SWAP gates, like shown in the image above."]}),"\n",(0,t.jsxs)(e.li,{children:["Alternatively, the ",(0,t.jsx)(e.strong,{children:"StarPrerouting"})," pass can reduce the depth further by guiding SABRE's routing decisions, though it may still introduce some SWAP gates. However, StarPrerouting increases runtime and requires integration into the initial transpilation process."]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["For the purposes of this tutorial, we exclude both HighLevelSynthesis and StarPrerouting to isolate and highlight the direct impact of SABRE configuration on runtime and circuit depth. By measuring the expectation value ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e8"}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mn,{children:"0"})]}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mi,{children:"i"})]}),(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e9"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\langle Z_0 Z_i \\rangle"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(e.span,{className:"mopen",children:"\u27e8"}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:"0"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mclose",children:"\u27e9"})]})})]})," for each qubit pair, we analyze:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"How well SABRE reduces SWAP gates and circuit depth."}),"\n",(0,t.jsxs)(e.li,{children:["The effect of these optimizations on the fidelity of the executed circuit, where deviations from ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e8"}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mn,{children:"0"})]}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mi,{children:"i"})]}),(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e9"}),(0,t.jsx)(e.mo,{children:"="}),(0,t.jsx)(e.mn,{children:"1"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\langle Z_0 Z_i \\rangle = 1"})]})})}),(0,t.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(e.span,{className:"mopen",children:"\u27e8"}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:"0"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mclose",children:"\u27e9"}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.jsx)(e.span,{className:"mrel",children:"="}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.6444em"}}),(0,t.jsx)(e.span,{className:"mord",children:"1"})]})]})]})," indicate loss of entanglement.!"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# set seed for reproducibility\nseed = 42\nnum_qubits = 110\n\n# Create GHZ circuit\nqc = QuantumCircuit(num_qubits)\nqc.h(0)\nfor i in range(1, num_qubits):\n    qc.cx(0, i)\n\nqc.measure_all()\n"})}),"\n",(0,t.jsxs)(e.p,{children:["Next, we will map the operators of interest to evaluate the behavior of the system. Specifically, we will use ",(0,t.jsx)(e.code,{children:"ZZ"})," operators between qubits to examine how the entanglement degrades as the qubits become farther apart. This analysis is critical because inaccuracies in the expectation values  ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e8"}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mn,{children:"0"})]}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mi,{children:"i"})]}),(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e9"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\langle Z_0 Z_i \\rangle"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(e.span,{className:"mopen",children:"\u27e8"}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:"0"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mclose",children:"\u27e9"})]})})]})," for distant qubits can reveal the impact of noise and errors in the circuit execution. By studying these deviations, we gain insight into how well the circuit preserves entanglement under different SABRE configurations and how effectively SABRE minimizes the impact of hardware constraints."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'# ZZII...II, ZIZI...II, ... , ZIII...IZ\noperator_strings = [\n    "Z" + "I" * i + "Z" + "I" * (num_qubits - 2 - i)\n    for i in range(num_qubits - 1)\n]\nprint(operator_strings)\nprint(len(operator_strings))\n\noperators = [SparsePauliOp(operator) for operator in operator_strings]\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"['ZZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZII', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZI', 'ZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZ']\n109\n"})}),"\n",(0,t.jsx)(e.h3,{id:"step-2-optimize-problem-for-quantum-hardware-execution",children:"Step 2: Optimize problem for quantum hardware execution"}),"\n",(0,t.jsxs)(e.p,{children:["In this step, we focus on optimizing the circuit layout for execution on a specific quantum hardware device with 127 qubits. This is the main focus of the tutorial, as we perform ",(0,t.jsx)(e.strong,{children:"SABRE optimizations and transpilation"})," to achieve the best circuit performance. Using the ",(0,t.jsx)(e.code,{children:"SabreLayout"})," pass, we determine an initial qubit mapping that minimizes the need for SWAP gates during routing. By passing the ",(0,t.jsx)(e.code,{children:"coupling_map"})," of the target backend, ",(0,t.jsx)(e.code,{children:"SabreLayout"})," adapts the layout to the device's connectivity constraints."]}),"\n",(0,t.jsxs)(e.p,{children:["We will use ",(0,t.jsx)(e.code,{children:"generate_preset_pass_manager"})," with ",(0,t.jsx)(e.code,{children:"optimization_level=3"})," for the transpilation process and customize the ",(0,t.jsx)(e.code,{children:"SabreLayout"})," pass with different configurations. The goal is to find a setup that produces a transpiled circuit with the ",(0,t.jsx)(e.strong,{children:"lowest size and/or depth"}),", demonstrating the impact of SABRE optimizations."]}),"\n",(0,t.jsx)(e.h4,{id:"why-are-circuit-size-and-depth-important",children:"Why Are Circuit Size and Depth Important?"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Lower size (gate count):"})," Reduces the number of operations, minimizing opportunities for errors to accumulate."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Lower depth:"})," Shortens the overall execution time, which is critical for avoiding decoherence and maintaining quantum state fidelity."]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"By optimizing these metrics, we improve the circuit\u2019s reliability and execution accuracy on noisy quantum hardware.\nSelect the backend."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'service = QiskitRuntimeService()\n# backend = service.least_busy(\n#    operational=True, simulator=False, min_num_qubits=127\n# )\nbackend = service.backend("ibm_boston")\nprint(f"Using backend: {backend.name}")\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"Using backend: ibm_boston\n"})}),"\n",(0,t.jsxs)(e.p,{children:["To evaluate the impact of different configurations on circuit optimization, we will create three pass managers, each with unique settings for the ",(0,t.jsx)(e.code,{children:"SabreLayout"})," pass. These configurations help analyze the trade-off between circuit quality and transpilation time."]}),"\n",(0,t.jsx)(e.h4,{id:"key-parameters",children:"Key parameters"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:(0,t.jsx)(e.code,{children:"max_iterations"})}),": The number of forward-backward routing iterations to refine the layout and reduce routing costs."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:(0,t.jsx)(e.code,{children:"layout_trials"})}),": The number of random initial layouts tested, selecting the one that minimizes SWAP gates."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:(0,t.jsx)(e.code,{children:"swap_trials"})}),": The number of routing trials for each layout, refining gate placement for better routing."]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["Increase ",(0,t.jsx)(e.code,{children:"layout_trials"})," and ",(0,t.jsx)(e.code,{children:"swap_trials"})," to perform more thorough optimization, at the cost of increased transpilation time."]}),"\n",(0,t.jsx)(e.h4,{id:"configurations-in-this-tutorial",children:"Configurations in this tutorial"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:(0,t.jsx)(e.code,{children:"pm_1"})}),": Default settings with ",(0,t.jsx)(e.code,{children:"optimization_level=3"}),"."]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"max_iterations=4"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"layout_trials=20"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"swap_trials=20"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:(0,t.jsx)(e.code,{children:"pm_2"})}),": Increases the number of trials for better exploration."]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"max_iterations=4"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"layout_trials=200"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"swap_trials=200"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:(0,t.jsx)(e.code,{children:"pm_3"})}),": Extends ",(0,t.jsx)(e.code,{children:"pm_2"})," by increasing the number of iterations for further refinement."]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"max_iterations=8"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"layout_trials=200"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"swap_trials=200"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"By comparing the results of these configurations, we aim to determine which achieves the best balance between circuit quality (for example, size and depth) and computational cost."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# Get the coupling map from the backend\ncmap = CouplingMap(backend().configuration().coupling_map)\n\n# Create the SabreLayout passes for the custom configurations\nsl_2 = SabreLayout(\n    coupling_map=cmap,\n    seed=seed,\n    max_iterations=4,\n    layout_trials=200,\n    swap_trials=200,\n)\nsl_3 = SabreLayout(\n    coupling_map=cmap,\n    seed=seed,\n    max_iterations=8,\n    layout_trials=200,\n    swap_trials=200,\n)\n\n# Create the pass managers, need to first create then configure the SabreLayout passes\npm_1 = generate_preset_pass_manager(\n    optimization_level=3, backend=backend, seed_transpiler=seed\n)\npm_2 = generate_preset_pass_manager(\n    optimization_level=3, backend=backend, seed_transpiler=seed\n)\npm_3 = generate_preset_pass_manager(\n    optimization_level=3, backend=backend, seed_transpiler=seed\n)\n"})}),"\n",(0,t.jsxs)(e.p,{children:["Now we can configure the ",(0,t.jsx)(e.code,{children:"SabreLayout"})," pass in the custom pass managers. To do this we know that for the default ",(0,t.jsx)(e.code,{children:"generate_preset_pass_manager"})," on ",(0,t.jsx)(e.code,{children:"optimization_level=3"}),", the ",(0,t.jsx)(e.code,{children:"SabreLayout"})," pass is at index 2, as ",(0,t.jsx)(e.code,{children:"SabreLayout"})," occurs after ",(0,t.jsx)(e.code,{children:"SetLayout"})," and ",(0,t.jsx)(e.code,{children:"VF2Laout"})," passes. We can access this pass and modify its parameters."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"pm_2.layout.replace(index=2, passes=sl_2)\npm_3.layout.replace(index=2, passes=sl_3)\n"})}),"\n",(0,t.jsx)(e.p,{children:"With each pass manager configured, we will now execute the transpilation process for each. To compare results, we will track key metrics, including the transpilation time, the depth of the circuit (measured as the two-qubit gate depth), and the total number of gates in the transpiled circuits"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'# Transpile the circuit with each pass manager and measure the time\nt0 = time.time()\ntqc_1 = pm_1.run(qc)\nt1 = time.time() - t0\nt0 = time.time()\ntqc_2 = pm_2.run(qc)\nt2 = time.time() - t0\nt0 = time.time()\ntqc_3 = pm_3.run(qc)\nt3 = time.time() - t0\n\n# Obtain the depths and the total number of gates (circuit size)\ndepth_1 = tqc_1.depth(lambda x: x.operation.num_qubits == 2)\ndepth_2 = tqc_2.depth(lambda x: x.operation.num_qubits == 2)\ndepth_3 = tqc_3.depth(lambda x: x.operation.num_qubits == 2)\nsize_1 = tqc_1.size()\nsize_2 = tqc_2.size()\nsize_3 = tqc_3.size()\n\n# Transform the observables to match the backend\'s ISA\noperators_list_1 = [op.apply_layout(tqc_1.layout) for op in operators]\noperators_list_2 = [op.apply_layout(tqc_2.layout) for op in operators]\noperators_list_3 = [op.apply_layout(tqc_3.layout) for op in operators]\n\n# Compute improvements compared to pass manager 1 (default)\ndepth_improvement_2 = ((depth_1 - depth_2) / depth_1) * 100\ndepth_improvement_3 = ((depth_1 - depth_3) / depth_1) * 100\nsize_improvement_2 = ((size_1 - size_2) / size_1) * 100\nsize_improvement_3 = ((size_1 - size_3) / size_1) * 100\ntime_increase_2 = ((t2 - t1) / t1) * 100\ntime_increase_3 = ((t3 - t1) / t1) * 100\n\nprint(\n    f"Pass manager 1 (4,20,20)  : Depth {depth_1}, Size {size_1}, Time {t1:.4f} s"\n)\nprint(\n    f"Pass manager 2 (4,200,200): Depth {depth_2}, Size {size_2}, Time {t2:.4f} s"\n)\nprint(f"  - Depth improvement: {depth_improvement_2:.2f}%")\nprint(f"  - Size improvement: {size_improvement_2:.2f}%")\nprint(f"  - Time increase: {time_increase_2:.2f}%")\nprint(\n    f"Pass manager 3 (8,200,200): Depth {depth_3}, Size {size_3}, Time {t3:.4f} s"\n)\nprint(f"  - Depth improvement: {depth_improvement_3:.2f}%")\nprint(f"  - Size improvement: {size_improvement_3:.2f}%")\nprint(f"  - Time increase: {time_increase_3:.2f}%")\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"Pass manager 1 (4,20,20)  : Depth 439, Size 2346, Time 0.5775 s\nPass manager 2 (4,200,200): Depth 395, Size 2070, Time 3.9927 s\n  - Depth improvement: 10.02%\n  - Size improvement: 11.76%\n  - Time increase: 591.43%\nPass manager 3 (8,200,200): Depth 375, Size 1873, Time 2.3079 s\n  - Depth improvement: 14.58%\n  - Size improvement: 20.16%\n  - Time increase: 299.67%\n"})}),"\n",(0,t.jsxs)(e.p,{children:["The results demonstrate that increasing the number of trials (",(0,t.jsx)(e.code,{children:"layout_trials"})," and ",(0,t.jsx)(e.code,{children:"swap_trials"}),") can significantly improve circuit quality by reducing both depth and size. However, this improvement often comes at the cost of increased runtime due to the additional computation required to explore more potential layouts and routing paths."]}),"\n",(0,t.jsxs)(e.p,{children:["Increasing the ",(0,t.jsx)(e.code,{children:"max_iterations"})," can further enhance optimization by refining the layout through more forward-backward routing cycles. In this case, increasing ",(0,t.jsx)(e.code,{children:"max_iterations"})," resulted in the most significant reduction in circuit depth and size, even reducing runtime compared to ",(0,t.jsx)(e.code,{children:"pm_2"}),", likely by streamlining subsequent optimization stages.  It\u2019s important to note, however, that the effectiveness of increasing ",(0,t.jsx)(e.code,{children:"max_iterations"})," can vary significantly depending on the circuit. While more iterations may yield better layout and routing choices, they provide no guarantees and depend heavily on the circuit\u2019s structure and the complexity of the connectivity constraints"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'# Plot the results of the metrics\ntimes = [t1, t2, t3]\ndepths = [depth_1, depth_2, depth_3]\nsizes = [size_1, size_2, size_3]\npm_names = [\n    "pm_1 (4 iter, 20 trials)",\n    "pm_2 (4 iter, 200 trials)",\n    "pm_3 (8 iter, 200 trials)",\n]\ncolors = plt.cm.viridis(np.linspace(0.2, 0.8, len(pm_names)))\n\n# Create a figure with three subplots\nfig, axs = plt.subplots(3, 1, figsize=(6, 9), sharex=True)\naxs[0].bar(pm_names, times, color=colors)\naxs[0].set_ylabel("Time (s)", fontsize=12)\naxs[0].set_title("Transpilation Time", fontsize=14)\naxs[0].grid(axis="y", linestyle="--", alpha=0.7)\naxs[1].bar(pm_names, depths, color=colors)\naxs[1].set_ylabel("Depth", fontsize=12)\naxs[1].set_title("Circuit Depth", fontsize=14)\naxs[1].grid(axis="y", linestyle="--", alpha=0.7)\naxs[2].bar(pm_names, sizes, color=colors)\naxs[2].set_ylabel("Size", fontsize=12)\naxs[2].set_title("Circuit Size", fontsize=14)\naxs[2].set_xticks(range(len(pm_names)))\naxs[2].set_xticklabels(pm_names, fontsize=10, rotation=15)\naxs[2].grid(axis="y", linestyle="--", alpha=0.7)\n\n# Add some spacing between subplots\nplt.tight_layout()\nplt.show()\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{alt:"Output of the previous code cell",src:s(89144).A+"",width:"590",height:"890"})}),"\n",(0,t.jsx)(e.h3,{id:"step-3-execute-using-qiskit-primitives",children:"Step 3: Execute using Qiskit primitives"}),"\n",(0,t.jsxs)(e.p,{children:["In this step, we use the ",(0,t.jsx)(e.code,{children:"Estimator"})," primitive to calculate the expectation values ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e8"}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mn,{children:"0"})]}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mi,{children:"i"})]}),(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e9"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\langle Z_0 Z_i \\rangle"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(e.span,{className:"mopen",children:"\u27e8"}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:"0"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mclose",children:"\u27e9"})]})})]})," for the ",(0,t.jsx)(e.code,{children:"ZZ"})," operators, evaluating the entanglement and execution quality of the transpiled circuits. To align with typical user workflows, we submit the job for execution and apply error suppression using ",(0,t.jsx)(e.strong,{children:"dynamical decoupling"}),", a technique that mitigates decoherence by inserting gate sequences to preserve qubit states. Additionally, we specify a resilience level to counteract noise, with higher levels providing more accurate results at the cost of increased processing time. This approach assesses the performance of each pass manager configuration under realistic execution conditions."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'options = EstimatorOptions()\noptions.resilience_level = 2\noptions.dynamical_decoupling.enable = True\noptions.dynamical_decoupling.sequence_type = "XY4"\n\n# Create an Estimator object\nestimator = Estimator(backend, options=options)\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# Submit the circuit to Estimator\njob_1 = estimator.run([(tqc_1, operators_list_1)])\njob_1_id = job_1.job_id()\nprint(job_1_id)\n\njob_2 = estimator.run([(tqc_2, operators_list_2)])\njob_2_id = job_2.job_id()\nprint(job_2_id)\n\njob_3 = estimator.run([(tqc_3, operators_list_3)])\njob_3_id = job_3.job_id()\nprint(job_3_id)\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"d5k0qs7853es738dab6g\nd5k0qsf853es738dab70\nd5k0qsf853es738dab7g\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'# Run the jobs\nresult_1 = job_1.result()[0]\nprint("Job 1 done")\nresult_2 = job_2.result()[0]\nprint("Job 2 done")\nresult_3 = job_3.result()[0]\nprint("Job 3 done")\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"Job 1 done\nJob 2 done\nJob 3 done\n"})}),"\n",(0,t.jsx)(e.h3,{id:"step-4-post-process-and-return-result-in-desired-classical-format",children:"Step 4: Post-process and return result in desired classical format"}),"\n",(0,t.jsxs)(e.p,{children:["Once the job completes, we analyze the results by plotting the expectation values  ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e8"}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mn,{children:"0"})]}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mi,{children:"i"})]}),(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e9"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\langle Z_0 Z_i \\rangle"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(e.span,{className:"mopen",children:"\u27e8"}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:"0"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mclose",children:"\u27e9"})]})})]})," for each qubit. In an ideal simulation, all  ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e8"}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mn,{children:"0"})]}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mi,{children:"i"})]}),(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e9"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\langle Z_0 Z_i \\rangle"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(e.span,{className:"mopen",children:"\u27e8"}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:"0"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mclose",children:"\u27e9"})]})})]})," values should be 1, reflecting perfect entanglement across the qubits. However, due to noise and hardware constraints, the expectation values typically decrease as ",(0,t.jsx)(e.code,{children:"i"})," increases, revealing how entanglement degrades over distance."]}),"\n",(0,t.jsxs)(e.p,{children:["In this step, we compare the results from each pass manager configuration to the ideal simulation. By examining the deviation of ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e8"}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mn,{children:"0"})]}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mi,{children:"i"})]}),(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e9"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\langle Z_0 Z_i \\rangle"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(e.span,{className:"mopen",children:"\u27e8"}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:"0"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mclose",children:"\u27e9"})]})})]})," from 1 for each configuration, we can quantify how well each pass manager preserves entanglement and mitigates the effects of noise. This analysis directly assesses the impact of SABRE optimizations on execution fidelity and highlights which configuration best balances optimization quality and execution performance."]}),"\n",(0,t.jsx)(e.p,{children:"The results will be visualized to highlight differences across pass managers, showcasing how improvements in layout and routing influence the final circuit execution on noisy quantum hardware."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'data = list(range(1, len(operators) + 1))  # Distance between the Z operators\n\nvalues_1 = list(result_1.data.evs)\nvalues_2 = list(result_2.data.evs)\nvalues_3 = list(result_3.data.evs)\n\nplt.plot(\n    data,\n    values_1,\n    marker="o",\n    label="pm_1 (iters=4, swap_trials=20, layout_trials=20)",\n)\nplt.plot(\n    data,\n    values_2,\n    marker="s",\n    label="pm_2 (iters=4, swap_trials=200, layout_trials=200)",\n)\nplt.plot(\n    data,\n    values_3,\n    marker="^",\n    label="pm_3 (iters=8, swap_trials=200, layout_trials=200)",\n)\nplt.xlabel("Distance between qubits $i$")\nplt.ylabel(r"$\\langle Z_i Z_0 \\rangle / \\langle Z_1 Z_0 \\rangle $")\nplt.legend()\nplt.show()\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{alt:"Output of the previous code cell",src:s(75590).A+"",width:"570",height:"436"})}),"\n",(0,t.jsx)(e.h3,{id:"analysis-of-results",children:"Analysis of Results"}),"\n",(0,t.jsxs)(e.p,{children:["The plot shows the expectation values ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e8"}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mn,{children:"0"})]}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mi,{children:"i"})]}),(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e9"}),(0,t.jsx)(e.mi,{mathvariant:"normal",children:"/"}),(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e8"}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mn,{children:"0"})]}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"Z"}),(0,t.jsx)(e.mn,{children:"0"})]}),(0,t.jsx)(e.mo,{stretchy:"false",children:"\u27e9"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\langle Z_0 Z_i \\rangle / \\langle Z_0 Z_0 \\rangle"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(e.span,{className:"mopen",children:"\u27e8"}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:"0"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mclose",children:"\u27e9"}),(0,t.jsx)(e.span,{className:"mord",children:"/"}),(0,t.jsx)(e.span,{className:"mopen",children:"\u27e8"}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:"0"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"Z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:"0"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mclose",children:"\u27e9"})]})})]}),"  as a function of the distance between qubits for three pass manager configurations with increasing levels of optimization. In the ideal case, these values remain close to 1, indicating strong correlations across the circuit. As the distance increases, noise and accumulated errors lead to a decay in correlations, revealing how well each transpilation strategy preserves the underlying structure of the state."]}),"\n",(0,t.jsxs)(e.p,{children:["Among the three configurations, ",(0,t.jsx)(e.code,{children:"pm_1"})," clearly performs the worst. Its correlation values decay rapidly as the distance increases and approach zero much earlier than the other two configurations. This behavior is consistent with its larger circuit depth and gate count, where accumulated noise quickly degrades long-range correlations."]}),"\n",(0,t.jsxs)(e.p,{children:["Both ",(0,t.jsx)(e.code,{children:"pm_2"})," and ",(0,t.jsx)(e.code,{children:"pm_3"})," represent significant improvements over ",(0,t.jsx)(e.code,{children:"pm_1"})," across essentially all distances. On average, ",(0,t.jsx)(e.code,{children:"pm_3"})," exhibits the strongest overall performance, maintaining higher correlation values over longer distances and showing a more gradual decay. This aligns with its more aggressive optimization, which produces shallower circuits that are generally more robust to noise accumulation."]}),"\n",(0,t.jsxs)(e.p,{children:["That said, ",(0,t.jsx)(e.code,{children:"pm_2"})," shows noticeably better accuracy at short distances compared to ",(0,t.jsx)(e.code,{children:"pm_3"}),", despite having a slightly larger depth and gate count. This suggests that circuit depth alone does not fully determine performance; the specific structure produced by the transpilation, including how entangling gates are arranged and how errors propagate through the circuit, also plays an important role. In some cases, the transformations applied by ",(0,t.jsx)(e.code,{children:"pm_2"})," appear to better preserve local correlations, even if they do not scale as well to longer distances."]}),"\n",(0,t.jsx)(e.p,{children:"Taken together, these results highlight a trade-off between circuit compactness and circuit structure. While increased optimization generally improves long-range stability, the best performance for a given observable depends on both reducing circuit depth and producing a structure that is well matched to the noise characteristics of the hardware."}),"\n",(0,t.jsx)(e.h2,{id:"part-ii-configuring-the-heuristic-in-sabre-and-using-serverless",children:"Part II. Configuring the heuristic in SABRE and using Serverless"}),"\n",(0,t.jsxs)(e.p,{children:["In addition to adjusting trial numbers, SABRE supports customization of the routing heuristic used during transpilation. By default, ",(0,t.jsx)(e.code,{children:"SabreLayout"})," employs the decay heuristic, which dynamically weights qubits based on their likelihood of being swapped. To use a different heuristic (such as the ",(0,t.jsx)(e.code,{children:"lookahead"})," heuristic), you can create a custom ",(0,t.jsx)(e.code,{children:"SabreSwap"})," pass and connect it to ",(0,t.jsx)(e.code,{children:"SabreLayout"})," by running a ",(0,t.jsx)(e.code,{children:"PassManager"})," with ",(0,t.jsx)(e.code,{children:"FullAncillaAllocation"}),", ",(0,t.jsx)(e.code,{children:"EnlargeWithAncilla"}),", and ",(0,t.jsx)(e.code,{children:"ApplyLayout"}),". When using ",(0,t.jsx)(e.code,{children:"SabreSwap"})," as a parameter for ",(0,t.jsx)(e.code,{children:"SabreLayout"}),", only one layout trial is performed by default. To efficiently run multiple layout trials, we leverage the serverless runtime for parallelization. For more about serverless, see the ",(0,t.jsx)(e.a,{href:"/guides/serverless",children:"Serverless documentation"}),"."]}),"\n",(0,t.jsx)(e.h3,{id:"how-to-change-the-routing-heuristic",children:"How to Change the Routing Heuristic"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["Create a custom ",(0,t.jsx)(e.code,{children:"SabreSwap"})," pass with the desired heuristic."]}),"\n",(0,t.jsxs)(e.li,{children:["Use this custom ",(0,t.jsx)(e.code,{children:"SabreSwap"})," as the routing method for the ",(0,t.jsx)(e.code,{children:"SabreLayout"})," pass."]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"While it is possible to run multiple layout trials using a loop, serverless runtime is the better choice for large-scale and more vigorous experiments. Serverless supports parallel execution of layout trials, significantly speeding up the optimization of larger circuits and large experimental sweeps. This makes it especially valuable when working with resource-intensive tasks or when time efficiency is critical."}),"\n",(0,t.jsx)(e.p,{children:"This section focuses solely on step 2 of optimization: minimizing circuit size and depth to achieve the best possible transpiled circuit. Building on the earlier results, we now explore how heuristic customization and serverless parallelization can further enhance optimization performance, making it suitable for large-scale quantum circuit transpilation."}),"\n",(0,t.jsx)(e.h3,{id:"results-without-serverless-runtime-1-layout-trial",children:"Results without serverless runtime (1 layout trial):"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'swap_trials = 1000\n\n# Default PassManager with `SabreLayout` and `SabreSwap`, using heuristic "decay"\nsr_default = SabreSwap(\n    coupling_map=cmap, heuristic="decay", trials=swap_trials, seed=seed\n)\nsl_default = SabreLayout(\n    coupling_map=cmap, routing_pass=sr_default, seed=seed\n)\npm_default = generate_preset_pass_manager(\n    optimization_level=3, backend=backend, seed_transpiler=seed\n)\npm_default.layout.replace(index=2, passes=sl_default)\npm_default.routing.replace(index=1, passes=sr_default)\n\nt0 = time.time()\ntqc_default = pm_default.run(qc)\nt_default = time.time() - t0\nsize_default = tqc_default.size()\ndepth_default = tqc_default.depth(lambda x: x.operation.num_qubits == 2)\n\n# Custom PassManager with `SabreLayout` and `SabreSwap`, using heuristic "lookahead"\nsr_custom = SabreSwap(\n    coupling_map=cmap, heuristic="lookahead", trials=swap_trials, seed=seed\n)\nsl_custom = SabreLayout(coupling_map=cmap, routing_pass=sr_custom, seed=seed)\npm_custom = generate_preset_pass_manager(\n    optimization_level=3, backend=backend, seed_transpiler=seed\n)\npm_custom.layout.replace(index=2, passes=sl_custom)\npm_custom.routing.replace(index=1, passes=sr_custom)\n\nt0 = time.time()\ntqc_custom = pm_custom.run(qc)\nt_custom = time.time() - t0\nsize_custom = tqc_custom.size()\ndepth_custom = tqc_custom.depth(lambda x: x.operation.num_qubits == 2)\n\nprint(\n    f"Default (heuristic=\'decay\')    : Depth {depth_default}, Size {size_default}, Time {t_default}"\n)\nprint(\n    f"Custom  (heuristic=\'lookahead\'): Depth {depth_custom}, Size {size_custom}, Time {t_custom}"\n)\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"Default (heuristic='decay')    : Depth 443, Size 3115, Time 1.034372091293335\nCustom  (heuristic='lookahead'): Depth 432, Size 2856, Time 0.6669301986694336\n"})}),"\n",(0,t.jsxs)(e.p,{children:["Here we see that the ",(0,t.jsx)(e.code,{children:"lookahead"})," heuristic performs better than the ",(0,t.jsx)(e.code,{children:"decay"})," heuristic in terms of circuit depth, size, and time. This improvements highlights how we can improve SABRE beyond just trials and iterations for your specific circuit and hardware constraints. Note that these results are based on a single layout trial. To achieve more accurate results, we recommend running multiple layout trials, which can be done efficiently using the serverless runtime."]}),"\n",(0,t.jsx)(e.h3,{id:"results-with-serverless-runtime-multiple-layout-trials",children:"Results with serverless runtime (multiple layout trials)"}),"\n",(0,t.jsxs)(e.p,{children:["Qiskit Serverless requires setting up your workload\u2019s ",(0,t.jsx)(e.code,{children:".py"})," files into a dedicated directory. The following code cell is a Python file in the ",(0,t.jsx)(e.code,{children:"source_files"})," directory named ",(0,t.jsx)(e.code,{children:"transpile_remote.py"}),". This file contains the function that runs the transpilation process."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'# This cell is hidden from users, it makes sure the `source_files` directory exists\nfrom pathlib import Path\n\nPath("source_files").mkdir(exist_ok=True)\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'%%writefile source_files/transpile_remote.py\nimport time\nfrom qiskit.transpiler.preset_passmanagers import generate_preset_pass_manager\nfrom qiskit.transpiler.passes import SabreLayout, SabreSwap\nfrom qiskit.transpiler import CouplingMap\nfrom qiskit_serverless import get_arguments, save_result, distribute_task, get\nfrom qiskit_ibm_runtime import QiskitRuntimeService\n\n@distribute_task(target={\n    "cpu": 1,\n    "mem": 1024 * 1024 * 1024\n})\ndef transpile_remote(qc, optimization_level, backend_name, seed, swap_trials, heuristic):\n    """Transpiles an abstract circuit into an ISA circuit for a given backend."""\n\n    service = QiskitRuntimeService()\n    backend = service.backend(backend_name)\n\n    pm = generate_preset_pass_manager(\n        optimization_level=optimization_level,\n        backend=backend,\n        seed_transpiler=seed\n    )\n\n    # Changing the `SabreLayout` and `SabreSwap` passes to use the custom configurations\n    cmap = CouplingMap(backend().configuration().coupling_map)\n    sr = SabreSwap(coupling_map=cmap, heuristic=heuristic, trials=swap_trials, seed=seed)\n    sl = SabreLayout(coupling_map=cmap, routing_pass=sr, seed=seed)\n    pm.layout.replace(index=2, passes=sl)\n    pm.routing.replace(index=1, passes=sr)\n\n    # Measure the transpile time\n    start_time = time.time()  # Start timer\n    tqc = pm.run(qc)  # Transpile the circuit\n    end_time = time.time()  # End timer\n\n    transpile_time = end_time - start_time  # Calculate the elapsed time\n    return tqc, transpile_time  # Return both the transpiled circuit and the transpile time\n\n# Get program arguments\narguments = get_arguments()\ncircuit = arguments.get("circuit")\nbackend_name = arguments.get("backend_name")\noptimization_level = arguments.get("optimization_level")\nseed_list = arguments.get("seed_list")\nswap_trials = arguments.get("swap_trials")\nheuristic = arguments.get("heuristic")\n\n# Transpile the circuits\ntranspile_worker_references = [\n    transpile_remote(circuit, optimization_level, backend_name, seed, swap_trials, heuristic)\n    for seed in seed_list\n]\n\nresults_with_times = get(transpile_worker_references)\n\n# Separate the transpiled circuits and their transpile times\ntranspiled_circuits = [result[0] for result in results_with_times]\ntranspile_times = [result[1] for result in results_with_times]\n\n# Save both results and transpile times\nsave_result({"transpiled_circuits": transpiled_circuits, "transpile_times": transpile_times})\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"Overwriting source_files/transpile_remote.py\n"})}),"\n",(0,t.jsxs)(e.p,{children:["The following cell uploads the ",(0,t.jsx)(e.code,{children:"transpile_remote.py"})," file as a Qiskit Serverless program under the name ",(0,t.jsx)(e.code,{children:"transpile_remote_serverless"}),"."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'serverless = QiskitServerless()\n\ntranspile_remote_demo = QiskitFunction(\n    title="transpile_remote_serverless",\n    entrypoint="transpile_remote.py",\n    working_dir="./source_files/",\n)\nserverless.upload(transpile_remote_demo)\ntranspile_remote_serverless = serverless.load("transpile_remote_serverless")\n'})}),"\n",(0,t.jsx)(e.p,{children:"Generate 20 different seeds to represent 20 different layout trials."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"num_seeds = 20  # represents the different layout trials\nseed_list = [seed + i for i in range(num_seeds)]\n"})}),"\n",(0,t.jsx)(e.p,{children:"Run the uploaded program and pass inputs for lookahead heuristic."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'job_lookahead = transpile_remote_serverless.run(\n    circuit=qc,\n    backend_name=backend.name,\n    optimization_level=3,\n    seed_list=seed_list,\n    swap_trials=swap_trials,\n    heuristic="lookahead",\n)\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"job_lookahead.job_id\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"'15767dfc-e71d-4720-94d6-9212f72334c2'\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"job_lookahead.status()\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"'QUEUED'\n"})}),"\n",(0,t.jsx)(e.p,{children:"Receive the logs and results from the serverless runtime."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"logs_lookahead = job_lookahead.logs()\nprint(logs_lookahead)\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"No logs yet.\n"})}),"\n",(0,t.jsxs)(e.p,{children:["Once a program is ",(0,t.jsx)(e.code,{children:"DONE"}),", you can use ",(0,t.jsx)(e.code,{children:"job.results()"})," to fetch the result stored in ",(0,t.jsx)(e.code,{children:"save_result()"}),"."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# Run the job with lookahead heuristic\nstart_time = time.time()\nresults_lookahead = job_lookahead.result()\nend_time = time.time()\n\njob_lookahead_time = end_time - start_time\n"})}),"\n",(0,t.jsx)(e.p,{children:"Now perform the same for decay heuristic."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'job_decay = transpile_remote_serverless.run(\n    circuit=qc,\n    backend_name=backend.name,\n    optimization_level=3,\n    seed_list=seed_list,\n    swap_trials=swap_trials,\n    heuristic="decay",\n)\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"job_decay.job_id\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"'00418c76-d6ec-4bd8-9f70-05d0fa14d4eb'\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"logs_decay = job_decay.logs()\nprint(logs_decay)\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"No logs yet.\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# Run the job with the decay heuristic\nstart_time = time.time()\nresults_decay = job_decay.result()\nend_time = time.time()\n\njob_decay_time = end_time - start_time\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'# Extract transpilation times\ntranspile_times_decay = results_decay["transpile_times"]\ntranspile_times_lookahead = results_lookahead["transpile_times"]\n\n# Calculate total transpilation time for serial execution\ntotal_transpile_time_decay = sum(transpile_times_decay)\ntotal_transpile_time_lookahead = sum(transpile_times_lookahead)\n\n# Print total transpilation time\nprint("=== Total Transpilation Time (Serial Execution) ===")\nprint(f"Decay Heuristic    : {total_transpile_time_decay:.2f} seconds")\nprint(f"Lookahead Heuristic: {total_transpile_time_lookahead:.2f} seconds")\n\n# Print serverless job time (parallel execution)\nprint("\\n=== Serverless Job Time (Parallel Execution) ===")\nprint(f"Decay Heuristic    : {job_decay_time:.2f} seconds")\nprint(f"Lookahead Heuristic: {job_lookahead_time:.2f} seconds")\n\n# Calculate and print average runtime per transpilation\navg_transpile_time_decay = total_transpile_time_decay / num_seeds\navg_transpile_time_lookahead = total_transpile_time_lookahead / num_seeds\navg_job_time_decay = job_decay_time / num_seeds\navg_job_time_lookahead = job_lookahead_time / num_seeds\n\nprint("\\n=== Average Time Per Transpilation ===")\nprint(f"Decay Heuristic (Serial)    : {avg_transpile_time_decay:.2f} seconds")\nprint(f"Decay Heuristic (Serverless): {avg_job_time_decay:.2f} seconds")\nprint(\n    f"Lookahead Heuristic (Serial)    : {avg_transpile_time_lookahead:.2f} seconds"\n)\nprint(\n    f"Lookahead Heuristic (Serverless): {avg_job_time_lookahead:.2f} seconds"\n)\n\n# Calculate and print serverless improvement percentage\ndecay_improvement_percentage = (\n    (total_transpile_time_decay - job_decay_time) / total_transpile_time_decay\n) * 100\nlookahead_improvement_percentage = (\n    (total_transpile_time_lookahead - job_lookahead_time)\n    / total_transpile_time_lookahead\n) * 100\n\nprint("\\n=== Serverless Improvement ===")\nprint(f"Decay Heuristic    : {decay_improvement_percentage:.2f}%")\nprint(f"Lookahead Heuristic: {lookahead_improvement_percentage:.2f}%")\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"=== Total Transpilation Time (Serial Execution) ===\nDecay Heuristic    : 112.37 seconds\nLookahead Heuristic: 85.37 seconds\n\n=== Serverless Job Time (Parallel Execution) ===\nDecay Heuristic    : 5.72 seconds\nLookahead Heuristic: 5.85 seconds\n\n=== Average Time Per Transpilation ===\nDecay Heuristic (Serial)    : 5.62 seconds\nDecay Heuristic (Serverless): 0.29 seconds\nLookahead Heuristic (Serial)    : 4.27 seconds\nLookahead Heuristic (Serverless): 0.29 seconds\n\n=== Serverless Improvement ===\nDecay Heuristic    : 94.91%\nLookahead Heuristic: 93.14%\n"})}),"\n",(0,t.jsxs)(e.p,{children:["These results demonstrate the substantial efficiency gains from using serverless execution for quantum circuit transpilation. Compared to serial execution, serverless execution dramatically reduces overall runtime for both the ",(0,t.jsx)(e.code,{children:"decay"})," and ",(0,t.jsx)(e.code,{children:"lookahead"})," heuristics by parallelizing independent transpilation trials. While serial execution reflects the full cumulative cost of exploring multiple layout trials, the serverless job times highlight how parallel execution collapses this cost into a much shorter wall-clock time. As a result, the effective time per transpilation is reduced to a small fraction of that required in the serial setting, largely independent of the heuristic used. This capability is particularly important for optimizing SABRE to its fullest potential. Many of SABRE\u2019s strongest performance gains come from increasing the number of layout and routing trials, which can be prohibitively expensive when executed sequentially. Serverless execution removes this bottleneck, enabling large-scale parameter sweeps and deeper exploration of heuristic configurations with minimal overhead."]}),"\n",(0,t.jsx)(e.p,{children:"Overall, these findings show that serverless execution is key to scaling SABRE optimization, making aggressive experimentation and refinement practical compared to serial execution.\nObtain the results from the serverless runtime and compare the results of the lookahead and decay heuristics. We will compare the sizes and depths."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'# Extract sizes and depths\nsizes_lookahead = [\n    circuit.size() for circuit in results_lookahead["transpiled_circuits"]\n]\ndepths_lookahead = [\n    circuit.depth(lambda x: x.operation.num_qubits == 2)\n    for circuit in results_lookahead["transpiled_circuits"]\n]\nsizes_decay = [\n    circuit.size() for circuit in results_decay["transpiled_circuits"]\n]\ndepths_decay = [\n    circuit.depth(lambda x: x.operation.num_qubits == 2)\n    for circuit in results_decay["transpiled_circuits"]\n]\n\ndef create_scatterplot(x, y1, y2, xlabel, ylabel, title, labels, colors):\n    plt.figure(figsize=(8, 5))\n    plt.scatter(\n        x, y1, label=labels[0], color=colors[0], alpha=0.8, edgecolor="k"\n    )\n    plt.scatter(\n        x, y2, label=labels[1], color=colors[1], alpha=0.8, edgecolor="k"\n    )\n    plt.xlabel(xlabel, fontsize=12)\n    plt.ylabel(ylabel, fontsize=12)\n    plt.title(title, fontsize=14)\n    plt.legend(fontsize=10)\n    plt.grid(axis="y", linestyle="--", alpha=0.7)\n    plt.tight_layout()\n    plt.show()\n\ncreate_scatterplot(\n    seed_list,\n    sizes_lookahead,\n    sizes_decay,\n    "Seed",\n    "Size",\n    "Circuit Size",\n    ["lookahead", "Decay"],\n    ["blue", "red"],\n)\ncreate_scatterplot(\n    seed_list,\n    depths_lookahead,\n    depths_decay,\n    "Seed",\n    "Depth",\n    "Circuit Depth",\n    ["lookahead", "Decay"],\n    ["blue", "red"],\n)\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{alt:"Output of the previous code cell",src:s(25375).A+"",width:"790",height:"490"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{alt:"Output of the previous code cell",src:s(9904).A+"",width:"790",height:"490"})}),"\n",(0,t.jsx)(e.p,{children:"Each point in the scatter plots above represents a layout trial, with the x-axis indicating the circuit depth and the y-axis indicating the circuit size. The results reveal that the lookahead heuristic generally outperforms the decay heuristic in minimizing circuit depth and circuit size. In practical applications, the goal is to identify the optimal layout trial for your chosen heuristic, whether prioritizing depth or size. This can be achieved by selecting the trial with the lowest value for the desired metric. Importantly, increasing the number of layout trials improves the chances of achieving a better result in terms of size or depth, but it comes at the cost of higher computational overhead."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'min_depth_lookahead = min(depths_lookahead)\nmin_depth_decay = min(depths_decay)\nmin_size_lookahead = min(sizes_lookahead)\nmin_size_decay = min(sizes_decay)\nprint(\n    "Lookahead: Min Depth",\n    min_depth_lookahead,\n    "Min Size",\n    min_size_lookahead,\n)\nprint("Decay:     Min Depth", min_depth_decay, "Min Size", min_size_decay)\n'})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-text",children:"Lookahead: Min Depth 399 Min Size 2452\nDecay:     Min Depth 415 Min Size 2611\n"})}),"\n",(0,t.jsxs)(e.p,{children:["In our initial comparison using a single layout trial, the lookahead heuristic showed slightly better performance in both circuit depth and size. By extending this study to multiple layout trials using ",(0,t.jsx)(e.code,{children:"QiskitServerless"}),", we were able to explore a much broader space of SABRE initializations, enabling a more representative comparison between heuristics."]}),"\n",(0,t.jsxs)(e.p,{children:["From the scatter plots and the best observed results, it is clear that performance varies significantly with the random seed used by SABRE. Both heuristics exhibit a wide spread in circuit depth and size across seeds, indicating that a single run is often insufficient to capture near-optimal results. This variability highlights the importance of running many trials with different seeds when aiming to minimize depth and/or gate count. Across the full set of trials, both the ",(0,t.jsx)(e.code,{children:"lookahead"})," and ",(0,t.jsx)(e.code,{children:"decay"})," heuristics were capable of producing competitive results. In some cases, the ",(0,t.jsx)(e.code,{children:"decay"})," heuristic matched or even outperformed ",(0,t.jsx)(e.code,{children:"lookahead"})," for specific seeds. However, for this particular circuit, the best overall results were obtained using the lookahead heuristic, albeit by a modest margin. This suggests that while lookahead provided the strongest outcome here, its advantage over decay is not absolute."]}),"\n",(0,t.jsxs)(e.p,{children:["Overall, these results reinforce two key points. First, leveraging many seeds is essential for extracting the best possible performance from SABRE, regardless of the heuristic used. Second, while heuristic choice matters, circuit structure plays a dominant role, and the relative performance of ",(0,t.jsx)(e.code,{children:"lookahead"})," and ",(0,t.jsx)(e.code,{children:"decay"})," may differ for other circuits. As such, large-scale, multi-seed experimentation is critical for robust and effective quantum circuit transpilation."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'# This cell is hidden from users, it cleans up the `source_files` directory\nfrom pathlib import Path\n\nPath("source_files/transpile_remote.py").unlink()\nPath("source_files").rmdir()\n'})}),"\n",(0,t.jsx)(e.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,t.jsxs)(e.p,{children:["In this tutorial, we explored how to optimize large circuits using SABRE in Qiskit. We demonstrated how to configure the ",(0,t.jsx)(e.code,{children:"SabreLayout"})," pass with different parameters to balance circuit quality and transpilation runtime. We also showed how to customize the routing heuristic in SABRE and use the ",(0,t.jsx)(e.code,{children:"QiskitServerless"}),"runtime to parallelize layout trials efficiently for when ",(0,t.jsx)(e.code,{children:"SabreSwap"})," is involved. By adjusting these parameters and heuristics, you can optimize the layout and routing of large circuits, ensuring they are executed efficiently on quantum hardware."]}),"\n",(0,t.jsx)(e.h2,{id:"tutorial-survey",children:"Tutorial survey"}),"\n",(0,t.jsx)(e.p,{children:"Please take this short survey to provide feedback on this tutorial. Your insights will help us improve our content offerings and user experience."}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:"https://your.feedback.ibm.com/jfe/form/SV_d9YWUSQIAvU9HXE",children:"Link to survey"})})]})}function h(I={}){const{wrapper:e}={...(0,n.R)(),...I.components};return e?(0,t.jsx)(e,{...I,children:(0,t.jsx)(o,{...I})}):o(I)}},25375(I,e,s){s.d(e,{A:()=>i});const i=s.p+"assets/images/4cf9588b-8ea6-4761-b544-14bef8f0be85-0-5330b6a73807145e9231e6aa06da40b3.avif"},9904(I,e,s){s.d(e,{A:()=>i});const i=s.p+"assets/images/4cf9588b-8ea6-4761-b544-14bef8f0be85-1-5ab08e30da786d05f52bc8f6d0e63602.avif"},89144(I,e,s){s.d(e,{A:()=>i});const i="data:image/avif;base64,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"},75590(I,e,s){s.d(e,{A:()=>i});const i=s.p+"assets/images/bc6cb36f-4bf2-4275-baf5-9557fcba520a-0-210fe49853f2347e1f34011fad8066c6.avif"},67488(I,e,s){s.d(e,{A:()=>i});const i=s.p+"assets/images/ghz_star_topology-8d2ce4a8e5f4b28f8b0a7c95467b6619.avif"},28453(I,e,s){s.d(e,{R:()=>a,x:()=>r});var i=s(96540);const t={},n=i.createContext(t);function a(I){const e=i.useContext(n);return i.useMemo(function(){return"function"==typeof I?I(e):{...e,...I}},[e,I])}function r(I){let e;return e=I.disableParentContext?"function"==typeof I.components?I.components(t):I.components||t:a(I.components),i.createElement(n.Provider,{value:e},I.children)}}}]);