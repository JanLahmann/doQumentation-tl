"use strict";(globalThis.webpackChunkdoqumentation=globalThis.webpackChunkdoqumentation||[]).push([[1225],{19307(n,a,e){e.r(a),e.d(a,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"tutorials/spin-chain-vqe","title":"Pagtatantya ng ground state energy ng Heisenberg chain gamit ang VQE","description":"Buuin, i-deploy, at patakbuhin ang isang Qiskit pattern para sa pagsisimula ng Heisenberg chain at pagtatantya ng ground state energy nito.","source":"@site/i18n/tl/docusaurus-plugin-content-docs/current/tutorials/spin-chain-vqe.mdx","sourceDirName":"tutorials","slug":"/tutorials/spin-chain-vqe","permalink":"/tutorials/spin-chain-vqe","draft":false,"unlisted":false,"editUrl":"https://github.com/JanLahmann/doQumentation/tree/main/docs/tutorials/spin-chain-vqe.mdx","tags":[],"version":"current","frontMatter":{"title":"Pagtatantya ng ground state energy ng Heisenberg chain gamit ang VQE","sidebar_label":"Pagtatantya ng ground state energy ng Heisenberg chain gamit ang VQE","description":"Buuin, i-deploy, at patakbuhin ang isang Qiskit pattern para sa pagsisimula ng Heisenberg chain at pagtatantya ng ground state energy nito.","notebook_path":"docs/tutorials/spin-chain-vqe.ipynb"},"sidebar":"tutorialsSidebar","previous":{"title":"Nishimori phase transition","permalink":"/tutorials/nishimori-phase-transition"},"next":{"title":"Quantum kernel training","permalink":"/tutorials/quantum-kernel-training"}}');var t=e(74848),s=e(28453);const r={title:"Pagtatantya ng ground state energy ng Heisenberg chain gamit ang VQE",sidebar_label:"Pagtatantya ng ground state energy ng Heisenberg chain gamit ang VQE",description:"Buuin, i-deploy, at patakbuhin ang isang Qiskit pattern para sa pagsisimula ng Heisenberg chain at pagtatantya ng ground state energy nito.",notebook_path:"docs/tutorials/spin-chain-vqe.ipynb"},o="Pagtatantya ng ground state energy ng Heisenberg chain gamit ang VQE {#ground-state-energy-estimation-of-the-heisenberg-chain-with-vqe}",l={},c=[{value:"Panimula",id:"background",level:2},{value:"Mga Kinakailangan",id:"requirements",level:2},{value:"Pag-set up",id:"setup",level:2},{value:"Hakbang 1: I-map ang classical inputs sa isang quantum problem",id:"step-1-map-classical-inputs-to-a-quantum-problem",level:2},{value:"Hakbang 2: I-optimize ang problem para sa quantum hardware execution",id:"step-2-optimize-problem-for-quantum-hardware-execution",level:2},{value:"Hakbang 3: Magsagawa gamit ang Qiskit primitives",id:"step-3-execute-using-qiskit-primitives",level:2},{value:"Hakbang 4: I-post-process at ibalik ang resulta sa nais na classical format",id:"step-4-post-process-and-return-result-in-desired-classical-format",level:2},{value:"I-deploy ang Qiskit pattern sa cloud",id:"deploy-the-qiskit-pattern-to-the-cloud",level:2},{value:"Patakbuhin ang Qiskit pattern bilang managed service",id:"run-the-qiskit-pattern-as-a-managed-service",level:3},{value:"Survey sa tutorial",id:"tutorial-survey",level:2}];function g(n){const a={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...n.components},{OpenInLabBanner:i}=a;return i||function(n,a){throw new Error("Expected "+(a?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("OpenInLabBanner",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i,{notebookPath:"docs/tutorials/spin-chain-vqe.ipynb"}),"\n",(0,t.jsx)(a.header,{children:(0,t.jsx)(a.h1,{id:"ground-state-energy-estimation-of-the-heisenberg-chain-with-vqe",children:"Pagtatantya ng ground state energy ng Heisenberg chain gamit ang VQE"})}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.em,{children:"Tantiya sa paggamit: Dalawang minuto sa isang Eagle r3 processor (PAALALA: Ito ay isang tantiya lamang. Maaaring mag-iba ang inyong runtime.)"})}),"\n",(0,t.jsx)(a.h2,{id:"background",children:"Panimula"}),"\n",(0,t.jsxs)(a.p,{children:["Ang tutorial na ito ay nagpapakita kung paano bumuo, mag-deploy, at magpatakbo ng ",(0,t.jsx)(a.code,{children:"Qiskit pattern"})," para sa pagsisimula ng Heisenberg chain at pagtatantya ng ground state energy nito. Para sa karagdagang impormasyon tungkol sa ",(0,t.jsx)(a.code,{children:"Qiskit patterns"})," at kung paano magagamit ang ",(0,t.jsx)(a.code,{children:"Qiskit Serverless"})," upang i-deploy ang mga ito sa cloud para sa managed execution, bisitahin ang aming ",(0,t.jsx)(a.a,{href:"/guides/serverless",children:"docs page sa IBM Quantum\xae Platform"}),"."]}),"\n",(0,t.jsx)(a.h2,{id:"requirements",children:"Mga Kinakailangan"}),"\n",(0,t.jsx)(a.p,{children:"Bago magsimula sa tutorial na ito, tiyaking mayroon kayong sumusunod na naka-install:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:["Qiskit SDK v1.2 o mas bago, na may suporta sa ",(0,t.jsx)(a.a,{href:"https://docs.quantum.ibm.com/api/qiskit/visualization",children:"visualization"})]}),"\n",(0,t.jsxs)(a.li,{children:["Qiskit Runtime v0.28 o mas bago (",(0,t.jsx)(a.code,{children:"pip install qiskit-ibm-runtime"}),")"]}),"\n",(0,t.jsx)(a.li,{children:"Qiskit Serverless (pip install qiskit_serverless)"}),"\n",(0,t.jsx)(a.li,{children:"IBM Catalog (pip install qiskit-ibm-catalog)"}),"\n"]}),"\n",(0,t.jsx)(a.h2,{id:"setup",children:"Pag-set up"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"import numpy as np\nimport matplotlib.pyplot as plt\n\nfrom scipy.optimize import minimize\nfrom typing import Sequence\n\nfrom qiskit import QuantumCircuit\nfrom qiskit.quantum_info import SparsePauliOp\nfrom qiskit.primitives.base import BaseEstimatorV2\nfrom qiskit.circuit.library import XGate\nfrom qiskit.circuit.library import efficient_su2\nfrom qiskit.transpiler import PassManager\nfrom qiskit.transpiler.preset_passmanagers import generate_preset_pass_manager\nfrom qiskit.transpiler.passes.scheduling import (\n    ALAPScheduleAnalysis,\n    PadDynamicalDecoupling,\n)\n\nfrom qiskit_ibm_runtime import QiskitRuntimeService\nfrom qiskit_ibm_runtime import Session, Estimator\n\nfrom qiskit_ibm_catalog import QiskitServerless, QiskitFunction\n"})}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:'def visualize_results(results):\n    plt.plot(results["cost_history"], lw=2)\n    plt.xlabel("Iteration")\n    plt.ylabel("Energy")\n    plt.show()\n\ndef build_callback(\n    ansatz: QuantumCircuit,\n    hamiltonian: SparsePauliOp,\n    estimator: BaseEstimatorV2,\n    callback_dict: dict,\n):\n    def callback(current_vector):\n        # Keep track of the number of iterations\n        callback_dict["iters"] += 1\n        # Set the prev_vector to the latest one\n        callback_dict["prev_vector"] = current_vector\n        # Compute the value of the cost function at the current vector\n        current_cost = (\n            estimator.run([(ansatz, hamiltonian, [current_vector])])\n            .result()[0]\n            .data.evs[0]\n        )\n        callback_dict["cost_history"].append(current_cost)\n        # Print to screen on single line\n        print(\n            "Iters. done: {} [Current cost: {}]".format(\n                callback_dict["iters"], current_cost\n            ),\n            end="\\r",\n            flush=True,\n        )\n\n    return callback\n'})}),"\n",(0,t.jsx)(a.h2,{id:"step-1-map-classical-inputs-to-a-quantum-problem",children:"Hakbang 1: I-map ang classical inputs sa isang quantum problem"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Input: Bilang ng mga spin"}),"\n",(0,t.jsx)(a.li,{children:"Output: Ansatz at Hamiltonian na nagmo-model ng Heisenberg chain"}),"\n"]}),"\n",(0,t.jsx)(a.p,{children:"Bumuo ng ansatz at Hamiltonian na nagmo-model ng 10-spin Heisenberg chain. Una, mag-import tayo ng ilang generic na packages at lumikha ng ilang helper functions."}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:'num_spins = 10\nansatz = efficient_su2(num_qubits=num_spins, reps=3)\n\n# Remember to insert your token in the QiskitRuntimeService constructor\nservice = QiskitRuntimeService()\nbackend = service.least_busy(\n    operational=True, min_num_qubits=num_spins, simulator=False\n)\n\ncoupling = backend.target.build_coupling_map()\nreduced_coupling = coupling.reduce(list(range(num_spins)))\n\nedge_list = reduced_coupling.graph.edge_list()\nham_list = []\n\nfor edge in edge_list:\n    ham_list.append(("ZZ", edge, 0.5))\n    ham_list.append(("YY", edge, 0.5))\n    ham_list.append(("XX", edge, 0.5))\n\nfor qubit in reduced_coupling.physical_qubits:\n    ham_list.append(("Z", [qubit], np.random.random() * 2 - 1))\n\nhamiltonian = SparsePauliOp.from_sparse_list(ham_list, num_qubits=num_spins)\n\nansatz.draw("mpl", style="iqp")\n'})}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.img,{alt:"Output ng nakaraang code cell",src:e(32313).A+"",width:"1464",height:"689"})}),"\n",(0,t.jsx)(a.h2,{id:"step-2-optimize-problem-for-quantum-hardware-execution",children:"Hakbang 2: I-optimize ang problem para sa quantum hardware execution"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Input: Abstract circuit, observable"}),"\n",(0,t.jsx)(a.li,{children:"Output: Target circuit at observable, na-optimize para sa napiling QPU"}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["Gamitin ang ",(0,t.jsx)(a.code,{children:"generate_preset_pass_manager"})," function mula sa Qiskit upang awtomatikong makagawa ng optimization routine para sa ating circuit na nauugnay sa napiling QPU. Pipiliin natin ang ",(0,t.jsx)(a.code,{children:"optimization_level=3"}),", na nagbibigay ng pinakamataas na antas ng optimization sa mga preset pass managers. Isasama rin natin ang ",(0,t.jsx)(a.code,{children:"ALAPScheduleAnalysis"})," at ",(0,t.jsx)(a.code,{children:"PadDynamicalDecoupling"})," scheduling passes upang pigilan ang mga decoherence errors."]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:'target = backend.target\npm = generate_preset_pass_manager(optimization_level=3, backend=backend)\npm.scheduling = PassManager(\n    [\n        ALAPScheduleAnalysis(durations=target.durations()),\n        PadDynamicalDecoupling(\n            durations=target.durations(),\n            dd_sequence=[XGate(), XGate()],\n            pulse_alignment=target.pulse_alignment,\n        ),\n    ]\n)\nansatz_ibm = pm.run(ansatz)\nobservable_ibm = hamiltonian.apply_layout(ansatz_ibm.layout)\nansatz_ibm.draw("mpl", scale=0.6, style="iqp", fold=-1, idle_wires=False)\n'})}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.img,{alt:"Output ng nakaraang code cell",src:e(43858).A+"",width:"2859",height:"434"})}),"\n",(0,t.jsx)(a.h2,{id:"step-3-execute-using-qiskit-primitives",children:"Hakbang 3: Magsagawa gamit ang Qiskit primitives"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Input: Target circuit at observable"}),"\n",(0,t.jsx)(a.li,{children:"Output: Mga resulta ng optimization"}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["Paliitan ang tinantyang ground state energy ng system sa pamamagitan ng pag-optimize ng mga circuit parameters. Gamitin ang ",(0,t.jsx)(a.code,{children:"Estimator"})," primitive mula sa Qiskit Runtime upang suriin ang cost function sa panahon ng optimization."]}),"\n",(0,t.jsxs)(a.p,{children:["Para sa demo na ito, magpapatakbo tayo sa isang QPU gamit ang ",(0,t.jsx)(a.code,{children:"qiskit-ibm-runtime"})," primitives. Upang magpatakbo gamit ang ",(0,t.jsx)(a.code,{children:"qiskit"})," statevector-based primitives, palitan ang bloke ng code na gumagamit ng Qiskit IBM Runtime primitives ng commented block."]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:'# SciPy minimizer routine\ndef cost_func(\n    params: Sequence,\n    ansatz: QuantumCircuit,\n    hamiltonian: SparsePauliOp,\n    estimator: BaseEstimatorV2,\n) -> float:\n    """Ground state energy evaluation."""\n    return (\n        estimator.run([(ansatz, hamiltonian, [params])])\n        .result()[0]\n        .data.evs[0]\n    )\n\nnum_params = ansatz_ibm.num_parameters\nparams = 2 * np.pi * np.random.random(num_params)\n\ncallback_dict = {\n    "prev_vector": None,\n    "iters": 0,\n    "cost_history": [],\n}\n\n# Evaluate the problem on a QPU by using Qiskit IBM Runtime\nwith Session(backend=backend) as session:\n    estimator = Estimator()\n    callback = build_callback(\n        ansatz_ibm, observable_ibm, estimator, callback_dict\n    )\n    res = minimize(\n        cost_func,\n        x0=params,\n        args=(ansatz_ibm, observable_ibm, estimator),\n        callback=callback,\n        method="cobyla",\n        options={"maxiter": 100},\n    )\n\nvisualize_results(callback_dict)\n'})}),"\n",(0,t.jsx)(a.h2,{id:"step-4-post-process-and-return-result-in-desired-classical-format",children:"Hakbang 4: I-post-process at ibalik ang resulta sa nais na classical format"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"Input: Mga tantiya ng ground state energy sa panahon ng optimization"}),"\n",(0,t.jsx)(a.li,{children:"Output: Tinantyang ground state energy"}),"\n"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"print(f'Estimated ground state energy: {res[\"fun\"]}')\n"})}),"\n",(0,t.jsx)(a.h2,{id:"deploy-the-qiskit-pattern-to-the-cloud",children:"I-deploy ang Qiskit pattern sa cloud"}),"\n",(0,t.jsxs)(a.p,{children:["Upang gawin ito, ilipat ang source code sa itaas sa isang file, ",(0,t.jsx)(a.code,{children:"./source/heisenberg.py"}),", i-wrap ang code sa isang script na tumatanggap ng mga input at nagbabalik ng final solution, at sa wakas ay i-upload ito sa isang remote cluster gamit ang ",(0,t.jsx)(a.code,{children:"QiskitFunction"})," class mula sa ",(0,t.jsx)(a.code,{children:"qiskit-ibm-catalog"}),". Para sa gabay sa pagtukoy ng external dependencies, pagpasa ng input arguments, at iba pa, tingnan ang ",(0,t.jsx)(a.a,{href:"/guides/serverless",children:"Qiskit Serverless guides"}),"."]}),"\n",(0,t.jsx)(a.p,{children:"Ang input sa Pattern ay ang bilang ng mga spin sa chain. Ang output ay isang tantiya ng ground state energy ng system."}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:'# Authenticate to the remote cluster and submit the pattern for remote execution\nserverless = QiskitServerless()\nheisenberg_function = QiskitFunction(\n    title="ibm_heisenberg",\n    entrypoint="heisenberg.py",\n    working_dir="./source/",\n)\nserverless.upload(heisenberg_function)\n'})}),"\n",(0,t.jsx)(a.h3,{id:"run-the-qiskit-pattern-as-a-managed-service",children:"Patakbuhin ang Qiskit pattern bilang managed service"}),"\n",(0,t.jsxs)(a.p,{children:["Kapag na-upload na natin ang pattern sa cloud, madali na nating mapapatakbo ito gamit ang ",(0,t.jsx)(a.code,{children:"QiskitServerless"})," client."]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:'# Run the pattern on the remote cluster\n\nibm_heisenberg = serverless.load("ibm_heisenberg")\njob = serverless.run(ibm_heisenberg)\nsolution = job.result()\n\nprint(solution)\nprint(job.logs())\n'})}),"\n",(0,t.jsx)(a.h2,{id:"tutorial-survey",children:"Survey sa tutorial"}),"\n",(0,t.jsx)(a.p,{children:"Mangyaring sagutin ang maikling survey na ito upang magbigay ng feedback sa tutorial na ito. Ang inyong mga pananaw ay makakatulong sa amin na mapabuti ang aming mga content offerings at karanasan ng mga user."}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.a,{href:"https://your.feedback.ibm.com/jfe/form/SV_bfuBwfNeeFBxnim",children:"Link sa survey"})})]})}function u(n={}){const{wrapper:a}={...(0,s.R)(),...n.components};return a?(0,t.jsx)(a,{...n,children:(0,t.jsx)(g,{...n})}):g(n)}},32313(n,a,e){e.d(a,{A:()=>i});const i=e.p+"assets/images/7e8d2f10-f1d6-4ec2-bac9-9db23499c9e1-0-f9954cab2138e804a339c51fb0fbc32c.avif"},43858(n,a,e){e.d(a,{A:()=>i});const i=e.p+"assets/images/a0a5f1c8-5c31-4d9f-ae81-37bd67271d44-0-7ea21c8c521df2de5e333683e145c990.avif"},28453(n,a,e){e.d(a,{R:()=>r,x:()=>o});var i=e(96540);const t={},s=i.createContext(t);function r(n){const a=i.useContext(s);return i.useMemo(function(){return"function"==typeof n?n(a):{...a,...n}},[a,n])}function o(n){let a;return a=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:r(n.components),i.createElement(s.Provider,{value:a},n.children)}}}]);