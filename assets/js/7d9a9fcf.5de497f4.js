"use strict";(globalThis.webpackChunkdoqumentation=globalThis.webpackChunkdoqumentation||[]).push([[6],{25778(e,i,n){n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"guides/interoperate-qiskit-qasm2","title":"OpenQASM 2 and the Qiskit SDK","description":"How to convert code between OpenQASM 2 and the Qiskit SDK.","source":"@site/i18n/tl/docusaurus-plugin-content-docs/current/guides/interoperate-qiskit-qasm2.mdx","sourceDirName":"guides","slug":"/guides/interoperate-qiskit-qasm2","permalink":"/guides/interoperate-qiskit-qasm2","draft":false,"unlisted":false,"editUrl":"https://github.com/JanLahmann/doQumentation/tree/main/docs/guides/interoperate-qiskit-qasm2.mdx","tags":[],"version":"current","frontMatter":{"title":"OpenQASM 2 and the Qiskit SDK","sidebar_label":"OpenQASM 2 and the Qiskit SDK","description":"How to convert code between OpenQASM 2 and the Qiskit SDK.","notebook_path":"docs/guides/interoperate-qiskit-qasm2.ipynb"},"sidebar":"tutorialsSidebar","previous":{"title":"Introduction to OpenQASM","permalink":"/guides/introduction-to-qasm"},"next":{"title":"OpenQASM 3 and the Qiskit SDK","permalink":"/guides/interoperate-qiskit-qasm3"}}');var s=n(74848),a=n(28453);const r={title:"OpenQASM 2 and the Qiskit SDK",sidebar_label:"OpenQASM 2 and the Qiskit SDK",description:"How to convert code between OpenQASM 2 and the Qiskit SDK.",notebook_path:"docs/guides/interoperate-qiskit-qasm2.ipynb"},o=void 0,c={},l=[{value:"Import an OpenQASM 2 program into Qiskit",id:"import-an-openqasm-2-program-into-qiskit",level:2},{value:"Import simple programs",id:"import-simple-programs",level:3},{value:"Example: import an OpenQASM 2 program as a string",id:"example-import-an-openqasm-2-program-as-a-string",level:4},{value:"Example: import an OpenQASM 2 program from a file",id:"example-import-an-openqasm-2-program-from-a-file",level:4},{value:"Link OpenQASM 2 gates with Qiskit gates",id:"link-openqasm-2-gates-with-qiskit-gates",level:3},{value:"Example: import a program created by Qiskit&#39;s legacy exporter",id:"example-import-a-program-created-by-qiskits-legacy-exporter",level:4},{value:"Example: use a particular gate class when importing an OpenQASM 2 program",id:"example-use-a-particular-gate-class-when-importing-an-openqasm-2-program",level:4},{value:"Example: define a new built-in gate in an OpenQASM 2 program",id:"example-define-a-new-built-in-gate-in-an-openqasm-2-program",level:4},{value:"Define custom classical functions",id:"define-custom-classical-functions",level:3},{value:"Example: use custom classical instructions",id:"example-use-custom-classical-instructions",level:4},{value:"Strict mode",id:"strict-mode",level:3},{value:"Export a Qiskit circuit to OpenQASM 2",id:"export-a-qiskit-circuit-to-openqasm-2",level:2},{value:"Example: export a circuit to OpenQASM 2",id:"example-export-a-circuit-to-openqasm-2",level:3},{value:"Next steps",id:"next-steps",level:2}];function m(e){const i={a:"a",admonition:"admonition",annotation:"annotation",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",math:"math",mi:"mi",mo:"mo",mrow:"mrow",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,a.R)(),...e.components},{Admonition:n,Details:t,OpenInLabBanner:r}=i;return n||h("Admonition",!0),t||h("Details",!0),r||h("OpenInLabBanner",!0),(0,s.jsxs)(s.Fragment,{children:["\n",(0,s.jsx)(i.admonition,{title:"Hindi pa naisalin",type:"note",children:(0,s.jsx)(i.p,{children:"Ang pahinang ito ay hindi pa naisalin. Nakikita mo ang orihinal na bersyon sa Ingles."})}),"\n",(0,s.jsx)(r,{notebookPath:"docs/guides/interoperate-qiskit-qasm2.ipynb"}),"\n","\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("b",{children:"Package versions"})}),(0,s.jsx)(i.p,{children:"The code on this page was developed using the following requirements.\nWe recommend using these versions or newer."}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:"qiskit[all]~=2.3.0\n"})})]}),"\n",(0,s.jsxs)(i.p,{children:["The Qiskit SDK provides some tools for converting between OpenQASM representations of quantum programs, and the ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qiskit.circuit.QuantumCircuit",children:"QuantumCircuit"})," class."]}),"\n",(0,s.jsx)("span",{id:"qasm2-import"}),"\n",(0,s.jsx)(i.h2,{id:"import-an-openqasm-2-program-into-qiskit",children:"Import an OpenQASM 2 program into Qiskit"}),"\n",(0,s.jsxs)(i.p,{children:["Two functions import OpenQASM 2 programs into Qiskit.\nThese are ",(0,s.jsx)(i.a,{href:"../api/qiskit/qasm2#load",children:(0,s.jsx)(i.code,{children:"qasm2.load()"})}),", which takes a filename, and ",(0,s.jsx)(i.a,{href:"../api/qiskit/qasm2#loads",children:(0,s.jsx)(i.code,{children:"qasm2.loads()"})}),", which takes the OpenQASM 2 program as a string."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-python",children:"import qiskit.qasm2\n\nqiskit.qasm2.load(filename, include_path=('.',), include_input_directory='append', custom_instructions=(), custom_classical=(), strict=False)\nqiskit.qasm2.loads(program, include_path=('.',), custom_instructions=(), custom_classical=(), strict=False)\n"})}),"\n",(0,s.jsxs)(i.p,{children:["See the ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qasm2",children:"OpenQASM 2 Qiskit API"})," for more information."]}),"\n",(0,s.jsx)(i.h3,{id:"import-simple-programs",children:"Import simple programs"}),"\n",(0,s.jsxs)(i.p,{children:["For most OpenQASM 2 programs, you can simply use ",(0,s.jsx)(i.code,{children:"qasm2.load"})," and ",(0,s.jsx)(i.code,{children:"qasm2.loads"})," with a single argument."]}),"\n",(0,s.jsx)(i.h4,{id:"example-import-an-openqasm-2-program-as-a-string",children:"Example: import an OpenQASM 2 program as a string"}),"\n",(0,s.jsxs)(i.p,{children:["Use ",(0,s.jsx)(i.code,{children:"qasm2.loads()"})," to import an OpenQASM 2 program as a string into a QuantumCircuit:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-python",children:'import qiskit.qasm2\n\nprogram = """\n    OPENQASM 2.0;\n    include "qelib1.inc";\n    qreg q[2];\n    creg c[2];\n\n    h q[0];\n    cx q[0], q[1];\n\n    measure q -> c;\n"""\ncircuit = qiskit.qasm2.loads(program)\ncircuit.draw()\n'})}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-text",children:"\u250c\u2500\u2500\u2500\u2510     \u250c\u2500\u2510   \nq_0: \u2524 H \u251c\u2500\u2500\u25a0\u2500\u2500\u2524M\u251c\u2500\u2500\u2500\n     \u2514\u2500\u2500\u2500\u2518\u250c\u2500\u2534\u2500\u2510\u2514\u2565\u2518\u250c\u2500\u2510\nq_1: \u2500\u2500\u2500\u2500\u2500\u2524 X \u251c\u2500\u256b\u2500\u2524M\u251c\n          \u2514\u2500\u2500\u2500\u2518 \u2551 \u2514\u2565\u2518\nc: 2/\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2569\u2550\u2550\u2569\u2550\n                0  1\n"})}),"\n",(0,s.jsx)(i.h4,{id:"example-import-an-openqasm-2-program-from-a-file",children:"Example: import an OpenQASM 2 program from a file"}),"\n",(0,s.jsxs)(i.p,{children:["Use ",(0,s.jsx)(i.code,{children:"load()"})," to import an OpenQASM 2 program from a file into a QuantumCircuit:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-python",children:'import qiskit.qasm2\ncircuit = qiskit.qasm2.load("myfile.qasm")\n'})}),"\n",(0,s.jsx)("span",{id:"custom-instructions"}),"\n",(0,s.jsx)(i.h3,{id:"link-openqasm-2-gates-with-qiskit-gates",children:"Link OpenQASM 2 gates with Qiskit gates"}),"\n",(0,s.jsxs)(i.p,{children:["By default, Qiskit's OpenQASM 2 importer treats the include file ",(0,s.jsx)(i.code,{children:'"qelib1.inc"'})," as a ",(0,s.jsx)(i.em,{children:"de facto"})," standard library.\nThe importer treats this file as containing precisely the gates it is described to contain in ",(0,s.jsx)(i.a,{href:"https://arxiv.org/abs/1707.03429",children:"the original paper defining OpenQASM 2"}),".\nQiskit will use the built-in gates in ",(0,s.jsx)(i.a,{href:"../api/qiskit/circuit_library",children:"the circuit library"})," to represent the gates in ",(0,s.jsx)(i.code,{children:'"qelib1.inc"'}),".\nGates defined in the program by manual OpenQASM 2 ",(0,s.jsx)(i.code,{children:"gate"})," statements will, by default, be constructed as custom ",(0,s.jsxs)(i.a,{href:"../api/qiskit/qiskit.circuit.Gate",children:["Qiskit ",(0,s.jsx)(i.code,{children:"Gate"})," subclasses"]}),"."]}),"\n",(0,s.jsxs)(i.p,{children:["You can tell the importer to use specific ",(0,s.jsx)(i.a,{href:"../api/qiskit/qiskit.circuit.Gate",children:(0,s.jsx)(i.code,{children:"Gate"})})," classes for the given ",(0,s.jsx)(i.code,{children:"gate"}),' statements it encounters.\nYou can also use this mechanism to treat additional gate names as "built-in", that is, not requiring an explicit definition.\nIf you specify which gate classes to use for ',(0,s.jsx)(i.code,{children:"gate"})," statements outside of ",(0,s.jsx)(i.code,{children:'"qelib1.inc"'}),", the resulting circuit will typically be more efficient to work with."]}),"\n",(0,s.jsxs)(n,{type:"warning",children:[(0,s.jsxs)(i.p,{children:["As of Qiskit SDK v1.0, Qiskit's OpenQASM 2 ",(0,s.jsx)(i.em,{children:"exporter"})," (see ",(0,s.jsx)(i.a,{href:"#qasm2-export",children:"Export a Qiskit circuit to OpenQASM 2"}),") still behaves as if ",(0,s.jsx)(i.code,{children:'"qelib1.inc"'})," has more gates than it really does.\nThis means that the default settings of the importer might not be able to import a program exported by our importer.\nSee ",(0,s.jsx)(i.a,{href:"#qasm2-import-legacy",children:"the specific example on working with the legacy exporter"})," to resolve this problem."]}),(0,s.jsxs)(i.p,{children:["This discrepancy is legacy behavior of Qiskit, and ",(0,s.jsx)(i.a,{href:"https://github.com/Qiskit/qiskit/issues/10737",children:"it will be resolved in a later release of Qiskit"}),"."]})]}),"\n",(0,s.jsxs)(i.p,{children:["To pass information about a custom instruction to the OpenQASM 2 importer, use ",(0,s.jsxs)(i.a,{href:"../api/qiskit/qasm2#qiskit.qasm2.CustomInstruction",children:["the ",(0,s.jsx)(i.code,{children:"qasm2.CustomInstruction"})," class"]}),".\nThis has four required pieces of information, in order:"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["The ",(0,s.jsx)(i.strong,{children:"name"})," of the gate, used in the OpenQASM 2 program"]}),"\n",(0,s.jsxs)(i.li,{children:["The ",(0,s.jsx)(i.strong,{children:"number of angle parameters"})," that the gate takes"]}),"\n",(0,s.jsxs)(i.li,{children:["The ",(0,s.jsx)(i.strong,{children:"number of qubits"})," that the gate acts on"]}),"\n",(0,s.jsxs)(i.li,{children:["The Python ",(0,s.jsx)(i.strong,{children:"constructor"})," class or function for the gate, which takes the gate parameters (but not qubits) as individual arguments"]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["If the importer encounters a ",(0,s.jsx)(i.code,{children:"gate"})," definition that matches a given custom instruction, it will use that custom information to reconstruct the gate object.\nIf a ",(0,s.jsx)(i.code,{children:"gate"})," statement is encountered that matches the ",(0,s.jsx)(i.code,{children:"name"})," of a custom instruction, but does not match both the number of parameters and the number of qubits, the importer will raise a ",(0,s.jsx)(i.a,{href:"../api/qiskit/qasm2#qasm2parseerror",children:(0,s.jsx)(i.code,{children:"QASM2ParseError"})}),", to indicate the mismatch between the supplied information and program."]}),"\n",(0,s.jsxs)(i.p,{children:["In addition, a fifth argument ",(0,s.jsx)(i.code,{children:"builtin"})," can be optionally set to ",(0,s.jsx)(i.code,{children:"True"})," to make the gate automatically available within the OpenQASM 2 program, even if it is not explicitly defined.\nIf the importer does encounter an explicit ",(0,s.jsx)(i.code,{children:"gate"})," definition for a built-in custom instruction, it will accept it silently.\nAs before, if an explicit definition of the same name is not compatible with the provided custom instruction, a ",(0,s.jsx)(i.a,{href:"../api/qiskit/qasm2#qasm2parseerror",children:(0,s.jsx)(i.code,{children:"QASM2ParseError"})}),' will be raised.\nThis is useful for compatibility with older OpenQASM 2 exporters, and with certain other quantum platforms that treat the "basis gates" of their hardware as built-in instructions.']}),"\n",(0,s.jsxs)(i.p,{children:["Qiskit provides a data attribute for working with OpenQASM 2 programs produced by legacy versions of ",(0,s.jsx)(i.a,{href:"#qasm2-export",children:"Qiskit's OpenQASM 2 exporting capabilities"}),".\nThis is ",(0,s.jsx)(i.a,{href:"../api/qiskit/qasm2#legacy-compatibility",children:(0,s.jsx)(i.code,{children:"qasm2.LEGACY_CUSTOM_INSTRUCTIONS"})}),", which can be given as the ",(0,s.jsx)(i.code,{children:"custom_instructions"})," argument to ",(0,s.jsx)(i.a,{href:"../api/qiskit/qasm2#load",children:(0,s.jsx)(i.code,{children:"qasm2.load()"})})," and ",(0,s.jsx)(i.a,{href:"../api/qiskit/qasm2#loads",children:(0,s.jsx)(i.code,{children:"qasm2.loads()"})}),"."]}),"\n",(0,s.jsx)("span",{id:"qasm2-import-legacy"}),"\n",(0,s.jsx)(i.h4,{id:"example-import-a-program-created-by-qiskits-legacy-exporter",children:"Example: import a program created by Qiskit's legacy exporter"}),"\n",(0,s.jsxs)(i.p,{children:["This OpenQASM 2 program uses gates that are not in the original version of ",(0,s.jsx)(i.code,{children:'"qelib1.inc"'})," without declaring them, but are standard gates in Qiskit's library.\nYou can use ",(0,s.jsx)(i.a,{href:"../api/qiskit/qasm2#legacy-compatibility",children:(0,s.jsx)(i.code,{children:"qasm2.LEGACY_CUSTOM_INSTRUCTIONS"})})," to easily tell the importer to use the same set of gates that Qiskit's OpenQASM 2 exporter previously used."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-python",children:'from qiskit import qasm2\n\nprogram = """\n    OPENQASM 2.0;\n    include "qelib1.inc";\n\n    qreg q[4];\n    creg c[4];\n\n    h q[0];\n    cx q[0], q[1];\n\n    // \'rxx\' is not actually in `qelib1.inc`,\n    // but Qiskit used to behave as if it were.\n    rxx(0.75) q[2], q[3];\n\n    measure q -> c;\n"""\ncircuit = qasm2.loads(\n    program,\n    custom_instructions=qasm2.LEGACY_CUSTOM_INSTRUCTIONS,\n)\n'})}),"\n",(0,s.jsx)(i.h4,{id:"example-use-a-particular-gate-class-when-importing-an-openqasm-2-program",children:"Example: use a particular gate class when importing an OpenQASM 2 program"}),"\n",(0,s.jsxs)(i.p,{children:["Qiskit cannot, in general, verify if the definition in an OpenQASM 2 ",(0,s.jsx)(i.code,{children:"gate"})," statement corresponds exactly to a Qiskit standard-library gate.\nInstead, Qiskit chooses a custom gate using the precise definition supplied.\nThis can be less efficient that using one of the built-in standard gates, or a user-defined custom gate.\nYou can manually define ",(0,s.jsx)(i.code,{children:"gate"})," statements with particular classes."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-python",children:'from qiskit import qasm2\nfrom qiskit.circuit import Gate\nfrom qiskit.circuit.library import RZXGate\n\n# Define a custom gate that takes one qubit and two angles.\nclass MyGate(Gate):\n    def __init__(self, theta, phi):\n        super().__init__("my", 1, [theta, phi])\n\ncustom_instructions = [\n    # Link the OpenQASM 2 name \'my\' with our custom gate.\n    qasm2.CustomInstruction("my", 2, 1, MyGate),\n    # Link the OpenQASM 2 name \'rzx\' with Qiskit\'s\n    # built-in RZXGate.\n    qasm2.CustomInstruction("rzx", 1, 2, RZXGate),\n]\n\nprogram = """\n    OPENQASM 2.0;\n\n    gate my(theta, phi) q {\n        U(theta / 2, phi, -theta / 2) q;\n    }\n    gate rzx(theta) a, b {\n        // It doesn\'t matter what definition is\n        // supplied, if the parameters match;\n        // Qiskit will still use `RZXGate`.\n    }\n\n    qreg q[2];\n    my(0.25, 0.125) q[0];\n    rzx(pi) q[0], q[1];\n"""\n\ncircuit = qasm2.loads(\n    program,\n    custom_instructions=custom_instructions,\n)\n'})}),"\n",(0,s.jsx)(i.h4,{id:"example-define-a-new-built-in-gate-in-an-openqasm-2-program",children:"Example: define a new built-in gate in an OpenQASM 2 program"}),"\n",(0,s.jsxs)(i.p,{children:["If the argument ",(0,s.jsx)(i.code,{children:"builtin=True"})," is set, a custom gate does not need to have an associated definition."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-python",children:'from qiskit import qasm2\nfrom qiskit.circuit import Gate\n\n# Define a custom gate that takes one qubit and two angles.\nclass MyGate(Gate):\n    def __init__(self, theta, phi):\n        super().__init__("my", 1, [theta, phi])\n\ncustom_instructions = [\n    qasm2.CustomInstruction("my", 2, 1, MyGate, builtin=True),\n]\n\nprogram = """\n    OPENQASM 2.0;\n    qreg q[1];\n\n    my(0.25, 0.125) q[0];\n"""\n\ncircuit = qasm2.loads(\n    program,\n    custom_instructions=custom_instructions,\n)\n'})}),"\n",(0,s.jsx)("span",{id:"custom-classical"}),"\n",(0,s.jsx)(i.h3,{id:"define-custom-classical-functions",children:"Define custom classical functions"}),"\n",(0,s.jsxs)(i.p,{children:["OpenQASM 2 includes some built-in classical functions to use in gate arguments.\nYou can extend the language with more functions by using the ",(0,s.jsx)(i.code,{children:"custom_classical"})," argument to ",(0,s.jsx)(i.a,{href:"../api/qiskit/qasm2#load",children:(0,s.jsx)(i.code,{children:"qasm2.load()"})})," and ",(0,s.jsx)(i.a,{href:"../api/qiskit/qasm3#loads",children:(0,s.jsx)(i.code,{children:"qasm2.loads()"})}),", with the ",(0,s.jsx)(i.a,{href:"../api/qiskit/qasm2#qiskit.qasm2.CustomClassical",children:(0,s.jsx)(i.code,{children:"qasm2.CustomClassical"})})," class."]}),"\n",(0,s.jsx)(i.p,{children:"To define a custom classical function, you must supply:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["The ",(0,s.jsx)(i.em,{children:"name"})," of the function as it appears in the OpenQASM 2 program"]}),"\n",(0,s.jsx)(i.li,{children:"The number of floating-point arguments it accepts"}),"\n",(0,s.jsx)(i.li,{children:"A callable Python object that evaluates the function"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"All defined custom classical functions are treated as built-in to the OpenQASM 2 language by the importer.\nThere is no official way within the OpenQASM 2 language to define new functions; this is a Qiskit extension."}),"\n",(0,s.jsx)(i.h4,{id:"example-use-custom-classical-instructions",children:"Example: use custom classical instructions"}),"\n",(0,s.jsxs)(i.p,{children:["Here we provide two custom classical functions.\nThe first is simple, and just adds one to its input.\nThe second is the function ",(0,s.jsx)(i.code,{children:"math.atan2"}),", which represents the mathematical operation ",(0,s.jsxs)(i.span,{className:"katex",children:[(0,s.jsx)(i.span,{className:"katex-mathml",children:(0,s.jsx)(i.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,s.jsxs)(i.semantics,{children:[(0,s.jsxs)(i.mrow,{children:[(0,s.jsx)(i.mi,{children:"arctan"}),(0,s.jsx)(i.mo,{children:"\u2061"}),(0,s.jsx)(i.mo,{stretchy:"false",children:"("}),(0,s.jsx)(i.mi,{children:"y"}),(0,s.jsx)(i.mi,{mathvariant:"normal",children:"/"}),(0,s.jsx)(i.mi,{children:"x"}),(0,s.jsx)(i.mo,{stretchy:"false",children:")"})]}),(0,s.jsx)(i.annotation,{encoding:"application/x-tex",children:"\\arctan(y/x)"})]})})}),(0,s.jsx)(i.span,{className:"katex-html","aria-hidden":"true",children:(0,s.jsxs)(i.span,{className:"base",children:[(0,s.jsx)(i.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,s.jsx)(i.span,{className:"mop",children:"arctan"}),(0,s.jsx)(i.span,{className:"mopen",children:"("}),(0,s.jsx)(i.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,s.jsx)(i.span,{className:"mord",children:"/"}),(0,s.jsx)(i.span,{className:"mord mathnormal",children:"x"}),(0,s.jsx)(i.span,{className:"mclose",children:")"})]})})]})," in a quadrant-aware manner."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-python",children:'import math\nfrom qiskit import qasm2\n\nprogram = """\n    include "qelib1.inc";\n    qreg q[2];\n    rx(arctan(pi, 3 + add_one(0.2))) q[0];\n    cx q[0], q[1];\n"""\n\ndef add_one(x):\n    return x + 1\n\ncustoms = [\n    # Our `add_one` takes only one parameter.\n    qasm2.CustomClassical("add_one", 1, add_one),\n    # `arctan` takes two parameters, and `math.atan2` implements it.\n    qasm2.CustomClassical("arctan", 2, math.atan2),\n]\ncircuit = qasm2.loads(program, custom_classical=customs)\n'})}),"\n",(0,s.jsx)("span",{id:"strict"}),"\n",(0,s.jsx)(i.h3,{id:"strict-mode",children:"Strict mode"}),"\n",(0,s.jsxs)(i.p,{children:["By default, this parser is more relaxed than the official specification.\nIt allows trailing commas in parameter lists; unnecessary (empty-statement) semicolons; omission of the ",(0,s.jsx)(i.code,{children:"OPENQASM 2.0;"}),' version statement; and several other quality-of-life improvements without emitting any errors.\nHowever, you can use the "letter-of-the-spec" mode with ',(0,s.jsx)(i.code,{children:"strict=True"}),"."]}),"\n",(0,s.jsx)("span",{id:"qasm2-export"}),"\n",(0,s.jsx)(i.h2,{id:"export-a-qiskit-circuit-to-openqasm-2",children:"Export a Qiskit circuit to OpenQASM 2"}),"\n",(0,s.jsxs)(i.p,{children:["Qiskit can also export a ",(0,s.jsx)(i.a,{href:"../api/qiskit/qiskit.circuit.QuantumCircuit",children:(0,s.jsx)(i.code,{children:"QuantumCircuit"})})," to OpenQASM 2.\nYou use the function ",(0,s.jsx)(i.a,{href:"../api/qiskit/qasm2#dump",children:(0,s.jsx)(i.code,{children:"qasm2.dump()"})})," to write to a file, and ",(0,s.jsx)(i.a,{href:"../api/qiskit/qasm2#dumps",children:(0,s.jsx)(i.code,{children:"qasm2.dumps()"})})," to write to a string.\nThese functions currently have a very simple interface: they accept a circuit and, only in the case of ",(0,s.jsx)(i.a,{href:"../api/qiskit/qasm2#dump",children:(0,s.jsx)(i.code,{children:"qasm2.dump()"})}),", a location to write the output to."]}),"\n",(0,s.jsx)(n,{type:"warning",children:(0,s.jsxs)(i.p,{children:["Qiskit's OpenQASM 2 exporter still assumes a legacy, non-standard version of the ",(0,s.jsx)(i.code,{children:'"qelib1.inc"'})," include file.\n",(0,s.jsx)(i.a,{href:"https://github.com/Qiskit/qiskit/issues/10737",children:"This will be resolved in a later release of Qiskit"}),", but in the meantime, if you need to re-import an OpenQASM 2 program created with Qiskit, use ",(0,s.jsx)(i.a,{href:"#qasm2-import-legacy",children:"the example above for how to tell the importer about the legacy gates"}),"."]})}),"\n",(0,s.jsx)(i.h3,{id:"example-export-a-circuit-to-openqasm-2",children:"Example: export a circuit to OpenQASM 2"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-python",children:'from qiskit import QuantumCircuit, qasm2\n\n# Define any circuit.\ncircuit = QuantumCircuit(2, 2)\ncircuit.h(0)\ncircuit.cx(0, 1)\ncircuit.measure([0, 1], [0, 1])\n\n# Export to a string.\nprogram = qasm2.dumps(circuit)\n\n# Export to a file.\nqasm2.dump(circuit, "my_file.qasm")\n'})}),"\n",(0,s.jsx)(i.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,s.jsx)(n,{type:"tip",title:"Recommendations",children:(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Learn how to generate OpenQASM code in the ",(0,s.jsx)(i.a,{href:"/guides/composer",children:"IBM Quantum Composer"})," guide."]}),"\n",(0,s.jsxs)(i.li,{children:["See the ",(0,s.jsx)(i.a,{href:"https://docs.quantum.ibm.com/api/qiskit/qasm2",children:"OpenQASM 2 Qiskit API"})," reference."]}),"\n",(0,s.jsxs)(i.li,{children:["Review the ",(0,s.jsx)(i.a,{href:"./debugging-tools",children:"Verify your program"})," topic."]}),"\n",(0,s.jsxs)(i.li,{children:["Visit the ",(0,s.jsx)(i.a,{href:"https://openqasm.com/",children:"OpenQASM Live Specification"}),"."]}),"\n"]})})]})}function d(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}function h(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},28453(e,i,n){n.d(i,{R:()=>r,x:()=>o});var t=n(96540);const s={},a=t.createContext(s);function r(e){const i=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(a.Provider,{value:i},e.children)}}}]);